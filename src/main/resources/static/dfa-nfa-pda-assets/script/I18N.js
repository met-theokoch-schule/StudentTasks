const I18N={baseUrl:"lang/",languageMapping:new Map,fetchLanguageFile(e,n=null){console.log("[I18N] Fetching language file '"+e+"'...");const t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){const a=t.responseText;n?n(a):(console.log("[I18N] Loading language file '"+e+"'..."),I18N.loadLanguageFile(a),console.log("[I18N] Language file '"+e+"' loaded."))}},t.onerror=function(){console.log("[I18N] Unable to find language file for '"+e+"'.")},t.open("GET",this.baseUrl+e+".lang",!0),t.setRequestHeader("Content-Type","text/strings"),t.send()},loadLanguageFile(e,n=!1){let t,a,g;n&&this.languageMapping.clear();const l=e.split("\n");for(let e of l)e=e.trim(),e.startsWith("#")||e.startsWith("//")||(e.startsWith("//TODO:")&&console.log("[I18N] Warning - found incomplete lang file: "+e.substring(2).trim()),t=e.indexOf("="),t<0||(a=e.substring(0,t).trim(),g=e.substring(t+1).trim(),0!=a.length&&this.languageMapping.set(a,g)))},toString(e){return this.languageMapping.get(e)||e}};