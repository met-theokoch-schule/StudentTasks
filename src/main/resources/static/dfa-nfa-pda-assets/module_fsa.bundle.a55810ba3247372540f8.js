"use strict";(self.webpackChunkflap_js=self.webpackChunkflap_js||[]).push([[712],{255(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},345(t,e,r){r.d(e,{A:()=>D});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){var t=this.props.visible,e=this.props.fromX||0,r=this.props.fromY||0,o=this.props.toX||e+1,i=this.props.toY||r+1,u=this.props.color||"#000000",a=o-e,c=i-r;return n.createElement("g",null,t&&n.createElement("rect",{className:"graph-ui",x:Math.min(o,e),y:Math.min(i,r),width:Math.abs(a),height:Math.abs(c),stroke:u,fill:u,fillOpacity:.1}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Component);var p=r(4558);function y(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return h(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}var m=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boundingBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[]},e=[{key:"getBoundingBox",value:function(){return this._boundingBox}},{key:"getSelection",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var e=this._boundingBox,r=Math.max(e.toX,e.fromX),n=Math.max(e.toY,e.fromY),o=Math.min(e.toX,e.fromX),i=Math.min(e.toY,e.fromY);this.clearSelection(),function(t,e,r,n,o,i){var u,a=Math.min(e,n),c=Math.min(r,o),l=Math.max(e,n),s=Math.max(r,o),f=y(t.getNodes());try{for(f.s();!(u=f.n()).done;){var p=u.value;p.x>=a&&p.x<l&&p.y>=c&&p.y<s&&i.push(p)}}catch(t){f.e(t)}finally{f.f()}}(t,o,i,r,n,this.targets)}return this.targets}},{key:"beginSelection",value:function(t,e,r){var n=this._boundingBox;n.fromX=n.toX=e,n.fromY=n.toY=r,this.clearSelection(),n.visible=!0}},{key:"updateSelection",value:function(t,e,r){var n=this._boundingBox;n.toX=e,n.toY=r,this.getSelection(t,!0)}},{key:"endSelection",value:function(t,e,r){var n=this._boundingBox;n.toX=e,n.toY=r,this.getSelection(t,!0),n.visible=!1}},{key:"isTargetInSelection",value:function(t){return this.targets.includes(t)}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isVisible",value:function(){return this._boundingBox.visible}}],e&&v(t.prototype,e),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const g=m;function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function S(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function O(t,e,r){return e=j(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,r||[],j(t).constructor):e.apply(t,r))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(E=function(){return!!t})()}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}const C=function(t){function e(t,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=O(this,e))._inputController=t,o._graphController=r,o._selectionBox=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(e,t),r=e,(n=[{key:"onPreInputEvent",value:function(t){var e=this._inputController,r=this._selectionBox;return r.hasSelection()&&(e.isMoveMode(t.getInputAdapter())&&r.isTargetInSelection(e.getImmediateTargetSource())||r.clearSelection()),!1}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isMoveMode(t.getInputAdapter()))return!1;if(e.hasCurrentTarget())return!1;var r=t.getInputEventPosition();return this._selectionBox.beginSelection(this._graphController.getGraph(),r.x,r.y),!0}},{key:"onDragMove",value:function(t){this._selectionBox.isVisible()&&this._selectionBox.updateSelection(this._graphController.getGraph(),t.x,t.y)}},{key:"onDragStop",value:function(t){this._selectionBox.isVisible()&&this._selectionBox.endSelection(this._graphController.getGraph(),t.x,t.y)}}])&&_(r.prototype,n),o&&_(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(r(3668).A);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function A(t){var e=function(t,e){if("object"!=T(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==T(e)?e:e+""}function x(t,e,r){return e=N(e),function(t,e){if(e&&("object"==T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,M()?Reflect.construct(e,r||[],N(t).constructor):e.apply(t,r))}function M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(M=function(){return!!t})()}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}const D=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=x(this,e,[t]);var n=t.inputController,o=t.graphController;return r._selectionBox=new g,r._selectionBoxInputHandler=new C(n,o,r._selectionBox),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.inputController;t&&t.setSelectionBox(this._selectionBox);var e=this.props.inputContext;if(e){var r=this.props.inputPriority||-1;e.addInputHandler(this._selectionBoxInputHandler,r)}}},{key:"componentWillUnmount",value:function(){this._selectionBox.clearSelection();var t=this.props.inputContext;t&&t.removeInputHandler(this._selectionBoxInputHandler)}},{key:"getSelectionBox",value:function(){return this._selectionBox}},{key:"getSelectionBoxInputHandler",value:function(){return this._selectionBoxInputHandler}},{key:"render",value:function(){var t=this._selectionBox,e=t.getBoundingBox();return n.createElement(n.Fragment,null,n.createElement(p.A,{nodes:t.getSelection()}),n.createElement(f,{visible:t.isVisible(),fromX:e.fromX,fromY:e.fromY,toX:e.toX,toY:e.toY}))}}])&&k(r.prototype,o),i&&k(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component)},472(t,e,r){r.d(e,{A:()=>p,l:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f="start-marker";const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,o=[{key:"render",value:function(){var t=this.props.position,e=this.props.radians||Math.PI,r=this.props.offset||0,o=this.props.size||24,i=this.props.color||"#000000",u=Math.cos(e),a=Math.sin(e),c=t.x+u*r,l=t.y+a*r,s=u*o*2,p=this.props.onMouseOver,y=this.props.onMouseOut,h=this.props.pointerEvents;return n.createElement("g",null,n.createElement("path",{d:"M"+c+" "+l+" L"+(c+s)+" "+(l+Math.sin(e+Math.PI/2)*o*2)+" L"+(c+s)+" "+(l-Math.sin(e+Math.PI/2)*o*2)+" Z",fill:"transparent",stroke:i,cursor:"pointer",onMouseOver:p?function(t){(t.target.value||(t.target.value={})).type=f,p(t)}:null,onMouseOut:y?function(t){(t.target.value||(t.target.value={})).type=f,y(t)}:null,pointerEvents:h}))}}],o&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Component)},625(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{A:()=>y});function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function l(t,e,r){return e=f(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}const y=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=l(this,e))._app=t,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),r=e,(n=[{key:"onParseSession",value:function(t,e){return e}},{key:"onPreImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){}},{key:"onPostImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"importFileData",value:function(t,e,r){var n,o=this._app,i=o.getSession(),u=i.getCurrentModule(),a=this.onParseSession(i,r);return this.onPreImportSession(i),this.onImportSession(i,a),n=t?t.substring(0,t.length-e.length):a._metadata.name,o.getSession().setProjectName(n),this.onPostImportSession(i),u}}])&&a(r.prototype,n),o&&a(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"importFileData",value:function(t,e,r){return Promise.resolve(r)}},{key:"getDataType",value:function(){return"text"}}])&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}())},643(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,e,[t])).ref=null,r._timeout=null,r.onMouseDown=r.onMouseDown.bind(r),r.onAnyMouseUp=r.onAnyMouseUp.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,o=[{key:"onMouseDown",value:function(t){this.props.parent.ignoreBlur(!0)&&document.addEventListener("mouseup",this.onAnyMouseUp),this.props.onClick&&this.props.onClick(t,this)}},{key:"onAnyMouseUp",value:function(){var t=this;document.removeEventListener("mouseup",this.onAnyMouseUp),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){t._timeout=null;var e=t.props.parent;e.ignoreBlur(!1),document.activeElement===t.ref?e.focus(!1):document.activeElement!==t.props.parent.inputElement&&e.onBlur()},50)}},{key:"render",value:function(){var t=this;return n.createElement("button",{ref:function(e){return t.ref=e},id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,onMouseDown:this.onMouseDown},this.props.title)}}],o&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Component)},1074(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function u(t,e,r){return e=s(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function c(t,e,r,n){var o=l(s(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},l.apply(null,arguments)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}r.d(e,{A:()=>y});var p=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,e,[t])).x=n,r.y=o,r._label="",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,n=[{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=this.x,t.y=this.y,t}},{key:"setNodeLabel",value:function(t){return this._label=t,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?c(e,"getHashString",this,3)([t])+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:c(e,"getHashString",this,3)([t])+":"+this._label}}],n&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(5752).A);const y=p},1252(t,e,r){var n=r(6540),o=r(8673),i=r(9117);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function l(t,e,r){return e=f(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}n.Component},2170(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},2242(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},2304(t,e,r){r.d(e,{A:()=>o});var n={__eventListeners:null,mixin:function(t){var e=t.prototype;Object.assign(e,n),delete e.mixin},registerEvent:function(t){if(this.__eventListeners||(this.__eventListeners=new Map),this.__eventListeners.has(t))throw new Error("Already registered event '"+t+"'");this.__eventListeners.set(t,[])},unregisterEvent:function(t){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.delete(t)}},addEventListener:function(t,e){if(this.__eventListeners||(this.__eventListeners=new Map),!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).push(e)},removeEventListener:function(t,e){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unknown event '"+t+"'");for(var r=this.__eventListeners.get(t),n=!1,o=r.length;o--;)r[o]===e&&(r.splice(o,1),n=!0);if(!n)throw new Error("Unable to find listener for event '"+t+"'")}},clearEventListeners:function(t){if(this.__eventListeners)if(t){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).length=0}else this.__eventListeners.clear()},countEventListeners:function(t){return this.__eventListeners&&this.__eventListeners.has(t)?this.__eventListeners.get(t).length:0},getEventListeners:function(t){return this.__eventListeners?this.__eventListeners.get(t):null},on:function(t,e){this.addEventListener(t,e)},once:function(t,e){var r=this,n=function(){try{for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];e.apply(null,i)}finally{r.removeEventListener(t,n)}};this.addEventListener(t,n)},emit:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];try{if(!this.__eventListeners)return;var o;if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");o=this.__eventListeners.get(t);for(var i=null,u=o.length;u--;){try{i=o[u].apply(null,r)}catch(t){continue}if(!0===i)break}}finally{this.onEventProcessed.apply(this,[t].concat(r))}},onEventProcessed:function(t){}};const o=n},2328(t,e,r){r.d(e,{A:()=>et});var n=r(6540),o=r(1423),i=r(6367),u=r(9117);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,r){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}const h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 26 26"},n.createElement("path",{d:"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z "}))}}])&&c(r.prototype,o),i&&c(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}function m(t,e,r){return e=w(e),function(t,e){if(e&&("object"==b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,r||[],w(t).constructor):e.apply(t,r))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}const S=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=m(this,e,[t]))._ref=n.createRef(),r._buttonElement=n.createRef(),r.state={active:!1,forceActive:!1},r._doubleTapTimeout=null,r.onMouseEnter=r.onMouseEnter.bind(r),r.onMouseLeave=r.onMouseLeave.bind(r),r.onClick=r.onClick.bind(r),r.onAnyMouseDownNotConsumed=r.onAnyMouseDownNotConsumed.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(e,t),r=e,o=[{key:"onMouseEnter",value:function(t){var e=this;this.state.forceActive||this.setState({active:!0},function(){var t=e.props.onChange;t&&t(!0)})}},{key:"onMouseLeave",value:function(t){var e=this;this.state.forceActive||this.setState({active:!1},function(){var t=e.props.onChange;t&&t(!1)})}},{key:"onClick",value:function(t){var e=this;t.stopPropagation(),t.preventDefault(),this._doubleTapTimeout?(clearTimeout(this._doubleTapTimeout),this._doubleTapTimeout=null,this.setState({active:!1,forceActive:!1},function(){var t=e.props.onClear;t&&t();var r=e.props.onChange;r&&r(!1)})):this.setState(function(t,r){var n=!t.forceActive;return e._doubleTapTimeout=setTimeout(function(){e._doubleTapTimeout=null},250),n&&document.documentElement.addEventListener("mousedown",e.onAnyMouseDownNotConsumed),{active:n,forceActive:n}},function(){var t=e.props.onChange;t&&t(e.state.active)})}},{key:"onAnyMouseDownNotConsumed",value:function(t){var e=this;this.state.forceActive&&this._buttonElement.current!==t.target&&(t.stopPropagation(),t.preventDefault(),document.documentElement.removeEventListener("mousedown",this.onAnyMouseDownNotConsumed),this.setState({active:!1,forceActive:!1},function(){var t=e.props.onChange;t&&t(!1)}))}},{key:"render",value:function(){var t=this.props.visible,e=this.state.active,r=!e&&!t;return n.createElement(u.A,{ref:this._ref,refButton:this._buttonElement,id:this.props.id,className:i.A.trash_container+(e?" active ":"")+(r?" hide ":"")+" "+this.props.className,style:this.props.style,title:"Delete",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},n.createElement(h,null))}}],o&&v(r.prototype,o),a&&v(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(n.Component);var O=r(258);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P(n.key),n)}}function P(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}function C(t,e,r){return e=k(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,T()?Reflect.construct(e,r||[],k(t).constructor):e.apply(t,r))}function T(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(T=function(){return!!t})()}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}const x=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))}}])&&j(r.prototype,o),i&&j(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function I(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M(e)?e:e+""}function D(t,e,r){return e=L(e),function(t,e){if(e&&("object"==M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,B()?Reflect.construct(e,r||[],L(t).constructor):e.apply(t,r))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(B=function(){return!!t})()}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}const F=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&N(r.prototype,o),i&&N(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function H(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:e+""}function z(t,e,r){return e=W(e),function(t,e){if(e&&("object"==V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U()?Reflect.construct(e,r||[],W(t).constructor):e.apply(t,r))}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U=function(){return!!t})()}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}const Y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),z(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){var t=this.props.visible,e=this.props.mode,r=this.props.onChange,o=!t;return n.createElement("div",{id:this.props.id,className:O.A.tray_container+(o?" hide ":"")+" "+this.props.className,style:this.props.style},n.createElement(u.A,{className:O.A.tray_button+(0===e?" active ":""),onClick:function(){r&&r(0)},title:I18N.toString("cursor.actionmode")},n.createElement(x,null)),n.createElement(u.A,{className:O.A.tray_button+(1===e?" active ":""),onClick:function(){r&&r(1)},title:I18N.toString("cursor.movemode")},n.createElement(F,null)))}}])&&G(r.prototype,o),i&&G(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$(n.key),n)}}function $(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K(e)?e:e+""}function q(t,e,r){return e=J(e),function(t,e){if(e&&("object"==K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Z()?Reflect.construct(e,r||[],J(t).constructor):e.apply(t,r))}function Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Z=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}const et=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=q(this,e,[t])).onTrashChange=r.onTrashChange.bind(r),r.onTrashClear=r.onTrashClear.bind(r),r.onModeChange=r.onModeChange.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),r=e,(i=[{key:"onTrashChange",value:function(t){this.props.inputController.setTrashMode(t),t?this.props.session.getApp().getDrawerComponent().setViewportColor("var(--color-viewport-error)"):this.props.session.getApp().getDrawerComponent().setViewportColor(null)}},{key:"onTrashClear",value:function(){this.props.graphController.clearGraph()}},{key:"onModeChange",value:function(t){this.props.inputController.setMoveModeFirst(1===t)}},{key:"render",value:function(){var t=this.props.inputController,e=this.props.graphController,r=this.props.viewport,i=e.getGraph(),u=null;return t&&(u=t.isHandlingInput()?t.isMoveMode(r.getInputAdapter())?1:0:t.isMoveModeFirst()?1:0),n.createElement("div",{id:this.props.id,className:o.A.view_container+" "+this.props.className,style:this.props.style},n.createElement(S,{className:o.A.view_widget,style:{bottom:0,right:0},visible:!i.isEmpty()&&r&&(!r.getInputAdapter().isUsingTouch()||!r.getInputAdapter().isDragging()),onChange:this.onTrashChange,onClear:this.onTrashClear}),n.createElement(Y,{className:o.A.view_widget,style:{bottom:0,left:0},visible:t,mode:u,onChange:this.onModeChange}),this.props.children)}}])&&Q(r.prototype,i),u&&Q(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,u}(n.Component)},2435(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},2696(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function u(t,e,r){return e=c(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,r||[],c(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}r.d(e,{A:()=>s});const s=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,e))._graphController=t,n._graphParser=r,n._graphData=r.objectify(t.getGraph()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),r=e,(n=[{key:"applyUndo",value:function(t){var r=t.getPreviousEvent();r instanceof e?r.applyRedo(t):this._graphController.getGraph().clear()}},{key:"applyRedo",value:function(t){this._graphParser.parse(this._graphData,this._graphController.getGraph())}}])&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(5860).A)},2705(t,e,r){r.d(e,{A:()=>O});var n=r(6540),o=r(9898);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,r){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,i=[{key:"render",value:function(){var t=this.props.node,e=this.props.fill,r=this.props.stroke,i=this.props.onMouseOver,u=this.props.onMouseOut,a=this.props.pointerEvents,c=t.getNodeLabel(),l=t.getNodeSize();return n.createElement(n.Fragment,null,n.createElement(o.Ay,{position:t,radius:l,label:c,color:e,outline:r,onMouseOver:i?function(e){(e.target.value||(e.target.value={})).source=t,i(e)}:null,onMouseOut:u?function(e){(e.target.value||(e.target.value={})).source=t,u(e)}:null,pointerEvents:a}))}}],i&&u(r.prototype,i),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(n.Component);var y=r(4006);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return v(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function m(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function g(t,e,r){return e=_(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,r||[],_(t).constructor):e.apply(t,r))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w=function(){return!!t})()}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}const O=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=g(this,e,[t]);var n=t.inputController,o=t.graphController;return r._graphNodeInputHandler=new y.Ay(n,o),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._graphNodeInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._graphNodeInputHandler)}},{key:"getGraphNodeInputHandler",value:function(){return this._graphNodeInputHandler}},{key:"render",value:function(){var t,e=this.props.inputController,r=this.props.nodeRenderer||p,o=this.props.editable,i=e?e.onMouseOver:null,u=e?e.onMouseOut:null,a=[],c=b(this.props.nodes);try{for(c.s();!(t=c.n()).done;){var l=t.value;a.push(n.createElement(r,{key:l.getGraphElementID(),node:l,fill:"var(--color-graph-node)",stroke:"var(--color-graph-text)",onMouseOver:i,onMouseOut:u,pointerEvents:o&&e&&e.hasPointerEvents(l)?"all":"none"}))}}catch(t){c.e(t)}finally{c.f()}return n.createElement("g",null,a)}}])&&d(r.prototype,o),i&&d(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component)},3074(t,e,r){function n(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.confirm(I18N.toString("alert.graph.clear"))&&(t.getCurrentModule().getGraphController().getGraph().clear(),e?t.getUndoManager().captureEvent():(t.getUndoManager().clear(),t.getSession().setProjectName(null)),r&&r())}r.d(e,{v:()=>n})},3494(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},3530(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},3668(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{A:()=>u});const u=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,r){return!1}}])&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}()},3883(t,e,r){function n(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return o(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,u=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw u}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function i(t){if(t.getNodeCount()<=1)return[];var e=t.getEdges(),r=t.getNodes().slice(),o=r.shift(),i=[];for(i.push(o);i.length>0;){var u,a=i.pop(),c=n(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(l.getEdgeFrom()===a){var s=r.indexOf(l.getEdgeTo());if(s>=0){var f=r.splice(s,1)[0];i.push(f)}}}}catch(t){c.e(t)}finally{c.f()}}return r}r.d(e,{u:()=>i})},3937(t,e,r){r.d(e,{A:()=>et});var n=r(6540),o=r(7841),i=r(8678),u=r(9117);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,r){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}const h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))}}])&&c(r.prototype,o),i&&c(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}function m(t,e,r){return e=w(e),function(t,e){if(e&&("object"==b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,r||[],w(t).constructor):e.apply(t,r))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}const S=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}}])&&v(r.prototype,o),i&&v(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function j(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O(e)?e:e+""}function P(t,e,r){return e=T(e),function(t,e){if(e&&("object"==O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C()?Reflect.construct(e,r||[],T(t).constructor):e.apply(t,r))}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(C=function(){return!!t})()}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}const A=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=P(this,e,[t])).onZoomIn=r.onZoomIn.bind(r),r.onZoomOut=r.onZoomOut.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(e,t),r=e,(o=[{key:"onZoomIn",value:function(t){var e=this.props.viewportAdapter,r=.4*-e.getScale();e.addScale(r)}},{key:"onZoomOut",value:function(t){var e=this.props.viewportAdapter,r=.75*e.getScale();e.addScale(r)}},{key:"render",value:function(){var t="x"+(1/(this.props.viewportAdapter.getScale()||1)).toFixed(2);return n.createElement("div",{id:this.props.id,className:i.A.zoom_container+" "+this.props.className,style:this.props.style},n.createElement(u.A,{className:i.A.zoom_button,title:"Zoom In",onClick:this.onZoomIn},n.createElement(h,null)),n.createElement(u.A,{className:i.A.zoom_button,title:"Zoom Out",onClick:this.onZoomOut},n.createElement(S,null)),n.createElement("label",{className:i.A.zoom_label},t))}}])&&E(r.prototype,o),a&&E(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(n.Component);var x=r(4096);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function I(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M(e)?e:e+""}function D(t,e,r){return e=L(e),function(t,e){if(e&&("object"==M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,B()?Reflect.construct(e,r||[],L(t).constructor):e.apply(t,r))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(B=function(){return!!t})()}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}const F=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))}}])&&N(r.prototype,o),i&&N(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function H(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:e+""}function z(t,e,r){return e=W(e),function(t,e){if(e&&("object"==V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U()?Reflect.construct(e,r||[],W(t).constructor):e.apply(t,r))}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U=function(){return!!t})()}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}const Y=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=z(this,e,[t])).onClick=r.onClick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(e,t),r=e,(o=[{key:"onClick",value:function(t){this.props.viewportAdapter.setOffset(0,0)}},{key:"render",value:function(){var t=this.props.viewportAdapter;return n.createElement(u.A,{id:this.props.id,className:x.A.center_focus_button+" "+this.props.className,style:this.props.style,title:"Center Workspace",disabled:Math.abs(t.getOffsetX())<.1&&Math.abs(t.getOffsetY())<.1,onClick:this.onClick},n.createElement(F,null))}}])&&G(r.prototype,o),i&&G(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$(n.key),n)}}function $(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K(e)?e:e+""}function q(t,e,r){return e=J(e),function(t,e){if(e&&("object"==K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Z()?Reflect.construct(e,r||[],J(t).constructor):e.apply(t,r))}function Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Z=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}const et=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),q(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),r=e,(i=[{key:"render",value:function(){var t=this.props.viewportAdapter;return n.createElement("div",{id:this.props.id,className:o.A.navbar_container+" "+this.props.className,style:this.props.style},n.createElement(A,{className:o.A.navbar_widget_container,viewportAdapter:t}),n.createElement(Y,{className:o.A.navbar_widget,viewportAdapter:t}),this.props.children)}}])&&Q(r.prototype,i),u&&Q(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,u}(n.Component)},3978(t,e,r){var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}n.PureComponent},4006(t,e,r){r.d(e,{Ay:()=>m,D9:()=>v,a9:()=>d,tK:()=>b});var n=r(3668),o=r(5505),i=r(9898);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function f(t,e,r){return e=y(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var b="node-delete",v="node-delete-all",d="error-node-edit-while-delete";const m=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,e))._inputController=t,n._graphController=r,n._cachedPosition={x:0,y:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),r=e,(n=[{key:"onInputEvent",value:function(t){var e=this._inputController,r=e.getCurrentTargetType();if(e.isTrashMode()&&r===i.c6){var n=e.getCurrentTargetSource(),o=this._graphController;return o.getGraph().deleteNode(n),o.emitGraphEvent(b,{target:n}),!0}if(!e.isMoveMode(t.getInputAdapter())&&r===i.c6){var u=e.getCurrentTargetSource(),a=this._graphController;return a.openLabelEditor(u,u.getNodeLabel(),function(t,e,r){r&&a.emitGraphEvent("edge-label-change",{target:u})}),!0}return!1}},{key:"onAltInputEvent",value:function(t){return this.onInputEvent(t)}},{key:"onDblInputEvent",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return!1;if(!e.getCurrentTargetType()){var r=this._graphController,n=r.getLabelFormatter(),o=r.getGraph().createNode(t.x,t.y);n&&o.setNodeLabel(n.getDefaultNodeLabel()),r.emitGraphEvent("node-create",{target:o})}}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return this._graphController.emitGraphEvent(d),!1;var r=e.getCurrentTargetType();if(e.isMoveMode(t.getInputAdapter())&&r===i.c6){var n=e.getSelectionBox(),o=e.getCurrentTargetSource();return n&&n.hasSelection()&&(n.isTargetInSelection(o)?(this._cachedPosition.x=t.x,this._cachedPosition.y=t.y):n.clearSelection()),e.bindActiveTarget(o,r,!1),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController,r=e.getSelectionBox(),n=e.getActiveTargetSource();if(r&&r.hasSelection()){var o,i=t.x-this._cachedPosition.x,u=t.y-this._cachedPosition.y,c=a(r.getSelection());try{for(c.s();!(o=c.n()).done;){var l=o.value;l.x+=i,l.y+=u}}catch(t){c.e(t)}finally{c.f()}this._cachedPosition.x=t.x,this._cachedPosition.y=t.y}else this.moveNodeTo(this._graphController.getGraph(),n,t.x,t.y)}},{key:"onDragStop",value:function(t){var e=this._inputController,r=this._graphController,n=e.getSelectionBox(),o=e.getActiveTargetSource();if(e.unbindActiveTarget(),e.isTrashMode())if(n.hasSelection()){var i,u=r.getGraph(),c=[],l=a(n.getSelection());try{for(l.s();!(i=l.n()).done;){var s=i.value;u.deleteNode(s),c.push(s)}}catch(t){l.e(t)}finally{l.f()}n.clearSelection(),r.emitGraphEvent(v,{target:c})}else r.getGraph().deleteNode(o),r.emitGraphEvent(b,{target:o});else n.hasSelection()?r.emitGraphEvent("node-move-all",{target:n.getSelection()}):r.emitGraphEvent("node-move",{target:o})}},{key:"moveNodeTo",value:function(t,e,r,n){r=(0,o.Cc)(e.x,r,.6),n=(0,o.Cc)(e.y,n,.6);var i,u=e.getNodeSize(),c=a(t.getNodes());try{for(c.s();!(i=c.n()).done;){var l=i.value;if(e!==l){var s=r-l.x,f=n-l.y,p=Math.atan2(f,s),y=2*u,h=l.x+Math.cos(p)*y-r,b=l.y+Math.sin(p)*y-n;s*s+f*f<u*u*4&&(r+=h,n+=b)}}}catch(t){c.e(t)}finally{c.f()}e.x=r,e.y=n}}])&&l(r.prototype,n),u&&l(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,u}(n.A)},4017(t,e,r){r.d(e,{A:()=>b});var n=r(9143),o=r(5505);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,r){return e=p(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t,e,r,n){var o=f(p(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},f.apply(null,arguments)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var h=function(t){function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=c(this,e,[t,r,o]))._quad={radians:0,length:o?0:n.getPlaceholderLength(),coords:{x:0,y:0}},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,n=[{key:"setEdgeTo",value:function(t){var r=this._to;if(t!==r){var n=s(e,"setEdgeTo",this,3)([t]);return t?t===this._from&&(this._quad.length=this._from.getNodeSize()+this.getPlaceholderLength()):this.setQuadraticByCoords(r.x,r.y),n}return s(e,"setEdgeTo",this,3)([t])}},{key:"setQuadraticRadians",value:function(t){return this._quad.radians=t,this}},{key:"setQuadraticLength",value:function(t){return this._quad.length=t,this}},{key:"setQuadraticByCoords",value:function(t,e){var r=this._from,n=this._to;if(!n){var o=this._from.x-t,i=this._from.y-e,u=-Math.atan2(o,i)-Math.PI/2;return this._quad.radians=u,this}var a=r.x,c=r.y,l=n.x-a,s=n.y-c,f=a+l/2,p=c+s/2,y=Math.atan2(-s,l);l=t-f,s=e-p;var h=Math.PI,b=h/2,v=Math.atan2(s,l)+y,d=Math.sqrt(l*l+s*s);d<0&&(d=0);var m=v- -b,g=v-b,w=h/20;return Math.abs(d)<8?(v=0,d=0):m<w&&m>-w?v=-b:-g<w&&-g>-w&&(v=b),this._quad.radians=v,this._quad.length=d,this}},{key:"getQuadraticLength",value:function(){return this._quad.length}},{key:"getQuadraticRadians",value:function(){return this._quad.radians}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!==this._quad.length}},{key:"getQuadraticAsCoords",value:function(){var t=this._from,e=this._to,r=this._quad.coords;return null==t||null==e?(r.x=0,r.y=0):(0,o.CJ)(t.x,t.y,e.x,e.y,this._quad.length,this._quad.radians,r),r}},{key:"getEdgeDirection",value:function(){var t=0;if(this.isQuadratic()){var r=this.getQuadraticAsCoords();t=Math.atan2(r.y,r.x)+Math.PI/2}else t=s(e,"getEdgeDirection",this,3)([]);return t}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,r=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!r){var n=this._quad.radians,i=Math.cos(n),u=Math.sin(n),a=e.getNodeSize();return t.x=e.x+i*a,t.y=e.y+u*a,t}if("function"==typeof r.getNodeSize&&this.isQuadratic()){(0,o.P8)(e.x,e.y,r.x,r.y,t);var c=this.getQuadraticAsCoords(),l=t.x+c.x,s=t.y+c.y;return(0,o.CJ)(e.x,e.y,l,s,e.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,t),t.x+=e.x,t.y+=e.y,t}return(0,o.CJ)(e.x,e.y,r.x,r.y,e.getNodeSize(),0,t),t.x+=e.x,t.y+=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,r=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!r){var n=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),u=e.getNodeSize()+this.getPlaceholderLength()/2;return t.x=e.x+n*u,t.y=e.y+i*u,t}if((0,o.P8)(e.x,e.y,r.x,r.y,t),this.isQuadratic()){var a=this.getQuadraticAsCoords();t.x+=a.x,t.y+=a.y}return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,r=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!r){var n=this._quad.radians,i=Math.cos(n),u=Math.sin(n),a=e.getNodeSize()+this.getPlaceholderLength();return t.x=e.x+i*a,t.y=e.y+u*a,t}if("function"!=typeof r.getNodeSize)return r;if(this.isQuadratic()){(0,o.P8)(e.x,e.y,r.x,r.y,t);var c=this.getQuadraticAsCoords(),l=t.x+c.x,s=t.y+c.y;return(0,o.CJ)(r.x,r.y,l,s,r.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,t),t.x+=r.x,t.y+=r.y,t}return(0,o.CJ)(r.x,r.y,e.x,e.y,r.getNodeSize(),0,t),t.x+=r.x,t.y+=r.y,t}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?s(e,"getHashString",this,3)([t])+":"+this._quad.radians+","+this._quad.length:s(e,"getHashString",this,3)([t])}}],n&&u(r.prototype,n),i&&u(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.A);const b=h},4558(t,e,r){r.d(e,{A:()=>S});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f=[8,6];const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){var t=this.props.center,e=this.props.color||"#CCCCCC",r=this.props.radius||24;return n.createElement(n.Fragment,null,n.createElement("circle",{className:"graph-ui",cx:t.x,cy:t.y,r,stroke:e,strokeDashoffset:0,strokeDasharray:f,strokeWidth:3,fill:"none",pointerEvents:"none"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Component);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return b(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}function m(t,e,r){return e=w(e),function(t,e){if(e&&("object"==y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,r||[],w(t).constructor):e.apply(t,r))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}const S=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){var t=[],e=this.props.nodes;if(e){var r,o=h(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.push(n.createElement(p,{key:i.getGraphElementID(),center:i,radius:i.getNodeSize()+4}))}}catch(t){o.e(t)}finally{o.f()}}var u=this.props.edges;if(u){var a,c=h(u);try{for(c.s();!(a=c.n()).done;){var l=a.value;t.push(n.createElement(p,{key:l.getGraphElementID(),center:l.getCenterPoint()}))}}catch(t){c.e(t)}finally{c.f()}}return n.createElement("g",null,t)}}])&&v(r.prototype,o),i&&v(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component)},4645(t,e,r){r.d(e,{A:()=>st});var n=r(6540),o=r(9679);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._element=null,this._offsetX=0,this._offsetY=0,this._nextOffsetX=0,this._nextOffsetY=0,this._offsetDamping=.1,this._scaleFactor=1,this._minScale=1,this._maxScale=1},e=[{key:"setElement",value:function(t){return this._element=t,this}},{key:"setMinScale",value:function(t){return this._minScale=t,this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale),this}},{key:"setMaxScale",value:function(t){return this._maxScale=t,this._scaleFactor>this._maxScale&&(this._scaleFactor=this._maxScale),this}},{key:"setOffsetDamping",value:function(t){return this._offsetDamping=t,this}},{key:"update",value:function(){var t=this._nextOffsetX-this._offsetX;this._offsetX+=t*this._offsetDamping;var e=this._nextOffsetY-this._offsetY;this._offsetY+=e*this._offsetDamping}},{key:"transformScreenToView",value:function(t,e){if(!this._element)return{x:t-this._offsetX,y:e-this._offsetY};var r=this._element.getScreenCTM();return{x:(t-r.e)/r.a-this._offsetX,y:(e-r.f)/r.d-this._offsetY}}},{key:"setOffset",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._nextOffsetX=this._offsetX=t,this._nextOffsetY=this._offsetY=e):(this._nextOffsetX=t,this._nextOffsetY=e)}},{key:"addOffset",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._offsetX+=t,this._offsetY+=e,this._nextOffsetX=this._offsetX,this._nextOffsetY=this._offsetY):(this._nextOffsetX+=t,this._nextOffsetY+=e)}},{key:"setScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,t))}},{key:"addScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,this._scaleFactor+t))}},{key:"getOffsetX",value:function(){return this._offsetX}},{key:"getOffsetY",value:function(){return this._offsetY}},{key:"getOffsetDamping",value:function(){return this._offsetDamping}},{key:"getScale",value:function(){return this._scaleFactor}},{key:"getMinScale",value:function(){return this._minScale}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"getElement",value:function(){return this._element}}],e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const l=c;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return p(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var b=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputHandlers=[]},e=[{key:"addInputHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e<0?this._inputHandlers.push(t):(this._inputHandlers.length<=e&&(this._inputHandlers.length=e+1),this._inputHandlers[e]?this._inputHandlers.splice(1,0,t):this._inputHandlers[e]=t),this}},{key:"removeInputHandler",value:function(t){var e=this._inputHandlers.indexOf(t);return e>=0&&(this._inputHandlers[e]=null),this}},{key:"clearInputHandlers",value:function(){this._inputHandlers.length=0}},{key:"handleEvent",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o,i=f(this._inputHandlers);try{for(i.s();!(o=i.n()).done;){var u=o.value;if(u){var a=u[t];if("function"==typeof a&&a.apply(u,r))return u}}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"getInputHandlers",value:function(){return this._inputHandlers}}],e&&y(t.prototype,e),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const v=b;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}const w=function(){return t=function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputAdapter=e,this._viewportAdapter=r,this._element=n,this._active=!1,this._x=0,this._y=0,this._inputpos={x:0,y:0}},(e=[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"setPosition",value:function(t,e){return this._x=t,this._y=e,this}},{key:"beginInput",value:function(){this._active=!0,this._inputpos.x=this._x,this._inputpos.y=this._y}},{key:"getInputEventPosition",value:function(){return this._inputpos}},{key:"changeInputEventPosition",value:function(t,e){this._inputpos.x=t,this._inputpos.y=e}},{key:"endInput",value:function(){this._active=!1}},{key:"isActive",value:function(){return this._active}},{key:"getDistanceSquToInitial",value:function(){var t=this._inputpos,e=t.x-this._x,r=t.y-this._y;return e*e+r*r}},{key:"getElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getInputAdapter",value:function(){return this._inputAdapter}}])&&m(t.prototype,e),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function S(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return O(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function j(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_(e)?e:e+""}function P(t,e,r){return e=k(e),function(t,e){if(e&&("object"==_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C()?Reflect.construct(e,r||[],k(t).constructor):e.apply(t,r))}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(C=function(){return!!t})()}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},T.apply(null,arguments)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}var x=1/300,M=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=P(this,e))._viewportAdapter=t,r._contexts=[],r._activeDragHandler=null,r._element=null,r._cursor={_mousemove:null,_mouseup:null,_touchmove:null,_touchend:null,_timer:null},r._pointer=null,r._dragging=!1,r._altinput=!1,r._holdInputDelay=600,r._dblInputDelay=600,r._scrollSensitivity=x,r._minTapRadius=256,r._draggingRadiusSqu=340,r._prevEmptyInput=!1,r._prevEmptyTime=0,r._prevEmptyX=0,r._prevEmptyY=0,r.onContextMenu=r.onContextMenu.bind(r),r.onMouseDown=r.onMouseDown.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onTouchStart=r.onTouchStart.bind(r),r.onWheel=r.onWheel.bind(r),r.onMouseDownThenMove=r.onMouseDownThenMove.bind(r),r.onMouseDownThenUp=r.onMouseDownThenUp.bind(r),r.onTouchStartThenMove=r.onTouchStartThenMove.bind(r),r.onTouchStartThenEnd=r.onTouchStartThenEnd.bind(r),r.onDelayedInputDown=r.onDelayedInputDown.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(e,t),r=e,n=[{key:"bindContext",value:function(t){if(!(t instanceof v))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.unshift(t),this}},{key:"bindContextAsLast",value:function(t){if(!(t instanceof v))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.push(t),this}},{key:"unbindContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=this._contexts.indexOf(t);return e>=0?(this._contexts.splice(e,1),t):null}return this._contexts.shift()}},{key:"clearContexts",value:function(){this._contexts.length=0}},{key:"hasContexts",value:function(){return this._contexts.length>0}},{key:"getCurrentContext",value:function(){return this._contexts.length>0?this._contexts[this._contexts.length-1]:this}},{key:"initialize",value:function(t){if(!(t instanceof SVGElement))throw new Error("Missing SVG element for input adapter's viewport");if(this._element)throw new Error("Trying to initialize an InputAdapter already initialized");this._viewportAdapter.setElement(this._element=t),this._pointer=new w(this,this._viewportAdapter,this._element),this._element.addEventListener("mousedown",this.onMouseDown),this._element.addEventListener("mousemove",this.onMouseMove),this._element.addEventListener("touchstart",this.onTouchStart),this._element.addEventListener("touchmove",this.onTouchMove),this._element.addEventListener("contextmenu",this.onContextMenu),this._element.addEventListener("wheel",this.onWheel)}},{key:"destroy",value:function(){if(!this._element)throw new Error("Trying to destroy an InputAdapter that is not yet initialized");this._element.removeEventListener("mousedown",this.onMouseDown),this._element.removeEventListener("mousemove",this.onMouseMove),this._element.removeEventListener("touchstart",this.onTouchStart),this._element.removeEventListener("contextmenu",this.onContextMenu),this._element.removeEventListener("wheel",this.onWheel),this._element=null}},{key:"update",value:function(){this._element&&this._viewportAdapter.update()}},{key:"handleEvent",value:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i,u,a,c,l,s,f=S(this._contexts);try{for(f.s();!(i=f.n()).done;){var p=i.value,y=p.handleEvent.apply(p,[t].concat(n));if(y)return y}}catch(t){f.e(t)}finally{f.f()}return(u=e,a="handleEvent",c=this,s=T(k(1&(l=3)?u.prototype:u),a,c),2&l&&"function"==typeof s?function(t){return s.apply(c,t)}:s)([t].concat(n))}},{key:"onMouseDown",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var r=t.ctrlKey?2:t.button;return this.onInputDown(t.clientX,t.clientY,r)&&(e._mousemove=this.onMouseDownThenMove,e._mouseup=this.onMouseDownThenUp,document.addEventListener("mousemove",e._mousemove),document.addEventListener("mouseup",e._mouseup)),!1}},{key:"onMouseMove",value:function(t){var e=this._viewportAdapter.transformScreenToView(t.clientX,t.clientY),r=this._pointer;r.setPosition(e.x,e.y),this.handleEvent("onMoveInputEvent",r)&&(t.stopPropagation(),t.preventDefault(),this.cancelInputEvent())}},{key:"onMouseDownThenMove",value:function(t){return t.stopPropagation(),t.preventDefault(),this.onInputMove(t.clientX,t.clientY),!1}},{key:"onMouseDownThenUp",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;return e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null),this.onInputUp(t.clientX,t.clientY),!1}},{key:"onTouchStart",value:function(t){if(1==t.changedTouches.length){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var r=t.changedTouches[0];return this.onInputDown(r.clientX,r.clientY,0)&&(e._touchmove=this.onTouchStartThenMove,e._touchend=this.onTouchStartThenEnd,document.addEventListener("touchmove",e._touchmove),document.addEventListener("touchend",e._touchend)),!1}}},{key:"onTouchStartThenEnd",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var r=t.changedTouches[0];return this.onInputUp(r.clientX,r.clientY),!1}},{key:"onTouchStartThenMove",value:function(t){t.stopPropagation(),t.preventDefault();var e=t.changedTouches[0];return this.onInputMove(e.clientX,e.clientY),!1}},{key:"onContextMenu",value:function(t){return t.stopPropagation(),t.preventDefault(),!1}},{key:"onWheel",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._pointer,r=t.deltaY*this._scrollSensitivity,n=this._viewportAdapter.getScale(),o=n+r;return this.handleEvent("onZoomChange",e,o,n)||this._viewportAdapter.setScale(o),!1}},{key:"onInputDown",value:function(t,e,r){var n=this._cursor,o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);return o.setPosition(i.x,i.y),this._dragging=!1,this._altinput=2==r,!this.handleEvent("onPreInputEvent",o)&&(o.beginInput(),n._timer=setTimeout(this.onDelayedInputDown,this._holdInputDelay),!0)}},{key:"onDelayedInputDown",value:function(){this._dragging||(this._altinput=!0)}},{key:"onInputMove",value:function(t,e){var r=this._pointer,n=this._viewportAdapter.transformScreenToView(t,e);if(r.setPosition(n.x,n.y),this._dragging)this._activeDragHandler&&this._activeDragHandler.onDragMove(r);else if(r.getDistanceSquToInitial()>this._draggingRadiusSqu){this._dragging=!0;var o=r.getInputEventPosition(),i=this.handleEvent("onDragStart",r,o.x,o.y);i?this._activeDragHandler=i:(this._dragging=!1,this.cancelInputEvent())}}},{key:"onInputUp",value:function(t,e){var r=this._cursor,n=r._timer;n&&(clearTimeout(n),r._timer=null);var o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);if(o.setPosition(i.x,i.y),this._dragging)this._activeDragHandler&&(this._activeDragHandler.onDragStop(o),this._activeDragHandler=null);else if(this._altinput)this.handleEvent("onAltInputEvent",o);else if(!this.handleEvent("onInputEvent",o)){var u=t-this._prevEmptyX,a=e-this._prevEmptyY,c=u*u+a*a,l=Date.now()-this._prevEmptyTime;this._prevEmptyInput&&c<this._minTapRadius&&l<this._dblInputDelay?(this.handleEvent("onDblInputEvent",o),this._prevEmptyInput=!1):(this._prevEmptyInput=!0,this._prevEmptyTime=Date.now(),this._prevEmptyX=t,this._prevEmptyY=e)}o.endInput(),this.handleEvent("onPostInputEvent",o)}},{key:"cancelInputEvent",value:function(){var t=this._pointer,e=this._cursor;e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var r=e._timer;r&&(clearTimeout(r),e._timer=null),t.endInput(),this.handleEvent("onPostInputEvent",t)}},{key:"getContexts",value:function(){return this._contexts}},{key:"getActiveElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getPointerX",value:function(){return this._pointer?this._pointer.x:0}},{key:"getPointerY",value:function(){return this._pointer?this._pointer.y:0}},{key:"isPointerActive",value:function(){return!!this._pointer&&this._pointer.isActive()}},{key:"isUsingTouch",value:function(){return this._cursor._touchmove||this._cursor._touchend}},{key:"isAltInput",value:function(){return this._altinput}},{key:"isDragging",value:function(){return this._dragging}}],n&&E(r.prototype,n),o&&E(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(v);const N=M;var I=r(3668);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}function L(t){var e=function(t,e){if("object"!=D(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D(e)?e:e+""}function R(t,e,r){return e=V(e),function(t,e){if(e&&("object"==D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,F()?Reflect.construct(e,r||[],V(t).constructor):e.apply(t,r))}function F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(F=function(){return!!t})()}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G(t,e)}const H=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=R(this,e,[t]))._ref=n.createRef(),r._viewportAdapter=(new l).setMinScale(.1).setMaxScale(10).setOffsetDamping(.4),r._inputAdapter=new N(r._viewportAdapter),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(e,t),r=e,(i=[{key:"addInputHandler",value:function(t){if(!(t instanceof I.A))throw new Error("input handler must be an instanceof AbstractInputHandler");return this._inputAdapter.addInputHandler(t),this}},{key:"componentDidMount",value:function(){this._inputAdapter.initialize(this._ref.current)}},{key:"componentWillUnmount",value:function(){this._inputAdapter.destroy()}},{key:"componentDidUpdate",value:function(){this._inputAdapter.update()}},{key:"getSVGTransformString",value:function(){var t=this._viewportAdapter;return"translate("+t.getOffsetX()+" "+t.getOffsetY()+")"}},{key:"getSVGViewBoxString",value:function(t){var e=this._viewportAdapter,r=t*Math.max(Number.MIN_VALUE,e.getScale()),n=r/2;return-n+" "+-n+" "+r+" "+r}},{key:"getSVGElement",value:function(){return this._ref.current}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"getViewportAdapter",value:function(){return this._inputAdapter.getViewportAdapter()}},{key:"render",value:function(){var t=this.getSVGViewBoxString(this.props.viewSize||300),e=this.getSVGTransformString();return n.createElement("svg",{ref:this._ref,id:this.props.id,className:o.A.viewport_component+" "+this.props.className,style:this.props.style,viewBox:t},n.createElement("g",{transform:e},this.props.children))}}])&&B(r.prototype,i),u&&B(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,u}(n.Component);var z=r(1074);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X(n.key),n)}}function X(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}var Y=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trashMode=!1,this._nodeOnly=!1,this._moveModeFirst=!0,this._handlingInput=!1,this._target={source:null,type:null},this._activeTarget={source:null,type:null,input:!0},this._immediateTarget={source:null,type:null},this._selectionBox=null,this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this)},e=[{key:"setSelectionBox",value:function(t){return this._selectionBox=t,this}},{key:"setTrashMode",value:function(t){return this._trashMode=t,this}},{key:"setNodeEventsOnly",value:function(t){return this._nodeOnly=t,this}},{key:"setMoveModeFirst",value:function(t){return this._moveModeFirst=t,this}},{key:"onPreInputEvent",value:function(t){return this._handlingInput=!0,this.updateCurrentTarget(this._immediateTarget.source,this._immediateTarget.type),!1}},{key:"onPostInputEvent",value:function(t){this.updateCurrentTarget(null,null),this._handlingInput=!1}},{key:"onMouseOver",value:function(t){var e=t.target.value;this._immediateTarget.source=e.source,this._immediateTarget.type=e.type,this._immediateTarget.data=e}},{key:"onMouseOut",value:function(t){this._immediateTarget.source=null,this._immediateTarget.type=null,this._immediateTarget.data=null}},{key:"bindActiveTarget",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._activeTarget.source=t,this._activeTarget.type=e,this._activeTarget.input=r}},{key:"unbindActiveTarget",value:function(){this._activeTarget.source=null,this._activeTarget.type=null,this._activeTarget.input=!1}},{key:"updateCurrentTarget",value:function(t,e){this._target.source=t,this._target.type=e}},{key:"getActiveTargetSource",value:function(){return this._activeTarget.source}},{key:"getActiveTargetType",value:function(){return this._activeTarget.type}},{key:"hasActiveTarget",value:function(){return null!==this._activeTarget.type}},{key:"hasPointerEvents",value:function(t){return this._activeTarget.source===t?this._activeTarget.input:!this._nodeOnly||t instanceof z.A}},{key:"getCurrentTargetSource",value:function(){return this._target.source}},{key:"getCurrentTargetType",value:function(){return this._target.type}},{key:"hasCurrentTarget",value:function(){return null!==this._target.type}},{key:"getImmediateTargetSource",value:function(){return this._immediateTarget.source}},{key:"getImmediateTargetType",value:function(){return this._immediateTarget.type}},{key:"hasImmediateTarget",value:function(){return null!==this._immediateTarget.type}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"isMoveMode",value:function(t){return!(this._moveModeFirst^!t.isAltInput())}},{key:"isNodeEventsOnly",value:function(){return this._nodeOnly}},{key:"isMoveModeFirst",value:function(){return this._moveModeFirst}},{key:"isHandlingInput",value:function(){return this._handlingInput}},{key:"getSelectionBox",value:function(){return this._selectionBox}}],e&&W(t.prototype,e),r&&W(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const K=Y;function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q(n.key),n)}}function q(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q(e)?e:e+""}function Z(t,e,r){return e=tt(e),function(t,e){if(e&&("object"==Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,J()?Reflect.construct(e,r||[],tt(t).constructor):e.apply(t,r))}function J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(J=function(){return!!t})()}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}function et(t,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},et(t,e)}const rt=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Z(this,e))._inputController=t,r._cachedPosition={x:0,y:0},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(e,t),r=e,(n=[{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.hasCurrentTarget())return!1;if(!e.isMoveMode(t.getInputAdapter()))return!1;var r=t.getInputEventPosition();return this._cachedPosition.x=r.x,this._cachedPosition.y=r.y,!0}},{key:"onDragMove",value:function(t){var e=t.x-this._cachedPosition.x,r=t.y-this._cachedPosition.y;t.getViewportAdapter().addOffset(e,r,!0)}},{key:"onDragStop",value:function(t){}}])&&$(r.prototype,n),o&&$(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(I.A);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,it(n.key),n)}}function it(t){var e=function(t,e){if("object"!=nt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nt(e)?e:e+""}function ut(t,e,r){return e=ct(e),function(t,e){if(e&&("object"==nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,at()?Reflect.construct(e,r||[],ct(t).constructor):e.apply(t,r))}function at(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(at=function(){return!!t})()}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}function lt(t,e){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lt(t,e)}const st=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ut(this,e,[t]))._inputController=new K,r._inputContext=new v,r._viewportComponent=n.createRef(),r._viewportInputHandler=new rt(r._inputController),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lt(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){var t=this._inputContext,e=this._viewportComponent.current.getInputAdapter();t.addInputHandler(this._inputController).addInputHandler(this._viewportInputHandler,10),e.bindContext(t)}},{key:"componentWillUnmount",value:function(){var t=this._inputContext,e=this._viewportComponent.current.getInputAdapter();t.clearInputHandlers(),e.unbindContext(t)}},{key:"moveViewToPosition",value:function(t,e){this.getViewportAdapter().setOffset(-t,-e)}},{key:"getInputController",value:function(){return this._inputController}},{key:"getInputContext",value:function(){return this._inputContext}},{key:"getViewportComponent",value:function(){return this._viewportComponent.current}},{key:"getInputAdapter",value:function(){return this._viewportComponent.current.getInputAdapter()}},{key:"getViewportAdapter",value:function(){return this._viewportComponent.current.getViewportAdapter()}},{key:"render",value:function(){var t=this._inputController,e=this._viewportComponent.current,r=this.props.renderGraph,o=this.props.renderOverlay;return n.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},n.createElement(H,{ref:this._viewportComponent},r&&e&&r(this,e,t)),o&&e&&o(this,e,t))}}])&&ot(r.prototype,o),i&&ot(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component)},4649(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},4944(t,e,r){r.d(e,{A:()=>j});var n=r(6540),o=r(4722),i=r(5752),u=r(1074),a=r(9143);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}function f(t,e,r){return e=y(e),function(t,e){if(e&&("object"==c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var b=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=f(this,e,[t])).inputElement=null,r.placeholder="",r.maxLength=524288,r.multiLine=!0,r.formatter=null,r._submitTimeout=null,r._submit=t.submitOnBlur,r._skipBlur=!1,r._skipSelect=!1,r.state={prevValue:"",value:""},r.onChange=r.onChange.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),r=e,o=[{key:"setFormatter",value:function(t){return this.formatter=t,this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"onFocus",value:function(t){this._skipSelect&&(this.inputElement.select(),this._skipSelect=!1)}},{key:"onBlur",value:function(t){var e=this;this._submitTimeout||(this._submitTimeout=setTimeout(function(){if(e._submitTimeout=null,!e._skipBlur){var r=e._submit;if(e._submit=e.props.submitOnBlur,document.activeElement!==e.inputElement&&r){var n=e.state.value;e.props.onSubmit&&e.props.onSubmit(n),e.setState({prevValue:n})}else e.setState(function(t,e){return{value:t.prevValue}});e.props.onBlur&&e.props.onBlur(t)}},30))}},{key:"onKeyDown",value:function(t){var e=this;if("Enter"===t.key){if(t.shiftKey&&this.multiLine)return;this._submit=!0,this.inputElement.blur(),t.preventDefault(),t.stopPropagation()}else"Escape"===t.key&&(this.setState(function(t,e){return{value:t.prevValue}},function(){e._submit=!1,e.inputElement.blur()}),t.preventDefault(),t.stopPropagation())}},{key:"onChange",value:function(t){var e=t.target,r=e.selectionStart,n=e.value;this.formatter&&(n=this.formatter(n,this.state.value)),this.setState({value:n},function(){e.selectionEnd=r})}},{key:"focus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._skipSelect=t,this.inputElement.focus()}},{key:"ignoreBlur",value:function(t){var e=this._skipBlur;return this._skipBlur=t,e!==t}},{key:"appendValue",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.state.value;o&&o.length+t.length>this.maxLength||(e=o&&o.length>0?o+r+t:t,n&&this.formatter&&(e=this.formatter(e,this.state.value)),this.setState(function(t,r){return{value:e}}))}},{key:"resetValue",value:function(t){this.setState({prevValue:t,value:t})}},{key:"setValue",value:function(t){var e=t;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.formatter&&(e=this.formatter(e,this.state.value)),this.setState({value:e})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var t=this,e=this.placeholder,r=this.maxLength,o=this.multiLine,i=this.props.disabled,u=this.state.value;return n.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},o?n.createElement("textarea",{ref:function(e){return t.inputElement=e},type:"text",rows:"1",spellCheck:"false",disabled:i,placeholder:e,maxLength:r,value:u||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}):n.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",spellCheck:"false",disabled:i,placeholder:e,maxLength:r,value:u||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}],o&&l(r.prototype,o),i&&l(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);const v=b;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}function w(t,e,r){return e=S(e),function(t,e){if(e&&("object"==d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}var E=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=w(this,e,[t]))._ref=n.createRef(),r.inputComponent=null,r.state={open:!1},r._target=null,r._targetCallback=null,r.onInputSubmit=r.onInputSubmit.bind(r),r.onInputBlur=r.onInputBlur.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),r=e,c=[{key:"openEditor",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!(t instanceof i.A))throw new Error("Can only open editor for GraphElements");if(this._target=t,this._targetOnSubmit=n,this._targetOnCancel=o,t instanceof u.A){var c=this.props.labelFormatter.getNodeLabelFormatter();this.inputComponent.setFormatter(c)}else if(t instanceof a.A){var l=this.props.labelFormatter.getEdgeLabelFormatter();this.inputComponent.setFormatter(l)}this.setState({open:!0},function(){e.inputComponent.resetValue(r||""),e.inputComponent.focus()})}},{key:"closeEditor",value:function(){this._target=null,this._targetOnSubmit=null,this._targetOnCancel=null,this.inputComponent.setFormatter(null),this.setState({open:!1})}},{key:"isEditorOpen",value:function(){return this.state.open}},{key:"getTarget",value:function(){return this._target}},{key:"onInputSubmit",value:function(t){this._targetOnSubmit&&(this._targetOnSubmit(this._target,t),this._targetOnCancel=null)}},{key:"onInputBlur",value:function(t){this._targetOnCancel&&(this._targetOnCancel(this._target),this._targetOnSubmit=null),this.closeEditor()}},{key:"render",value:function(){var t=this,e=this.state.open,r=this._target,i=this.props.style||{};if(this.props.viewport){var u=this.props.viewport.getViewportAdapter();if(r){var a=r.getCenterPoint(),c=u.getElement(),l=c.getBoundingClientRect(),s=function(t,e,r){var n=t.getScreenCTM();return{x:e*n.a+n.e,y:r*n.d+n.f}}(c,a.x+u.getOffsetX(),a.y+u.getOffsetY()),f=s.x,p=s.y,y=-this._ref.current.offsetWidth/2-l.left,h=-this._ref.current.offsetHeight/2-l.top;i.top=p+h+"px",i.left=f+y+"px"}}return n.createElement("div",{ref:this._ref,id:this.props.id,className:o.A.editor_container+(e?" open ":"")+" "+this.props.className,style:i},n.createElement(v,{ref:function(e){return t.inputComponent=e},submitOnBlur:this.props.saveOnExit,onSubmit:this.onInputSubmit,onBlur:this.onInputBlur}),n.createElement("div",{className:o.A.tray_container},this.props.children))}}],c&&m(r.prototype,c),l&&m(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,c,l}(n.Component);const j=E},5161(t,e,r){r.d(e,{A:()=>_});var n=r(6540),o=r(472);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,r){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=c(this,e,[t]))._prevSize=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,i=[{key:"render",value:function(){var t,e,r=this.props.node,i=this.props.color,u=this.props.onMouseOver,a=this.props.onMouseOut,c=this.props.pointerEvents;return"getNodeSize"in r?(t=r.getNodeSize(),e=r.getNodeSize()/2,this._prevSize=e):(t=0,e=this._prevSize),n.createElement(n.Fragment,null,n.createElement(o.A,{position:r,offset:t,size:e,color:i,onMouseOver:u?function(t){(t.target.value||(t.target.value={})).source=r,u(t)}:null,onMouseOut:a?function(t){(t.target.value||(t.target.value={})).source=r,a(t)}:null,pointerEvents:c}))}}],i&&u(r.prototype,i),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(n.Component);var y=r(8629);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function d(t,e,r){return e=g(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,r||[],g(t).constructor):e.apply(t,r))}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(m=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}const _=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=d(this,e,[t]);var n=t.inputController,o=t.graphController;return r._startMarkerInputHandler=new y.A(n,o),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._startMarkerInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._startMarkerInputHandler)}},{key:"render",value:function(){var t=this.props.inputController,e=this.props.startMarkerRenderer||p,r=this.props.editable,o=this.props.graphController.getGraph(),i=this._startMarkerInputHandler.getGhostMarker();"getStartNode"in o&&!i&&(i=o.getStartNode());var u=t?t.onMouseOver:null,a=t?t.onMouseOut:null;return n.createElement("g",null,i&&n.createElement(e,{node:i,color:"var(--color-graph-text)",onMouseOver:u,onMouseOut:a,pointerEvents:r&&t&&t.hasPointerEvents(i)?"all":"none"}))}}])&&b(r.prototype,o),i&&b(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component)},5320(t,e,r){r.d(e,{mR:()=>n});function n(t,e){o(t,"data:text/plain; charset=utf-8,"+encodeURIComponent(e))}function o(t,e){var r=document.createElement("a"),n=e.indexOf(";");e=e.substring(0,n+1)+"headers=Content-Disposition%3A%20attachment%3B%20filename="+t+";"+e.substring(n+1),r.setAttribute("href",e),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},5347(t,e,r){r.d(e,{A:()=>p});var n=r(6540),o=r(9930);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,r){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=c(this,e,[t]),!t.id)throw new Error("Must specify id");return r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,(i=[{key:"render",value:function(){var t=this.props.id,e=this.props.disabled,r=this.props.checked,i=this.props.onChange;return n.createElement("div",{id:t,className:o.A.switch_container+(e?" disabled ":"")+(r?" active ":"")+" "+this.props.className,style:this.props.style},n.createElement("label",{className:o.A.panel_switch,style:this.props.style},n.createElement("input",{type:"checkbox",id:t+"-switch",checked:r,onChange:i,disabled:e}),n.createElement("div",{className:o.A.switch_slider})),n.createElement("label",{className:o.A.switch_label,htmlFor:t+"-switch"},this.props.title))}}])&&u(r.prototype,i),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(n.Component)},5752(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{A:()=>a});var u=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e},e=[{key:"setGraphElementID",value:function(t){return this._id=t,this}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=t.y=0,t}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){return this._id}}],e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const a=u},5860(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{A:()=>u});const u=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"applyUndo",value:function(t){throw new Error("Undo operation for handler not supported")}},{key:"applyRedo",value:function(t){throw new Error("Redo operation for handler not supported")}}])&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}()},5972(t,e,r){r.d(e,{A:()=>k});var n=r(6540),o=r(5457),i=r(9117);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function l(t,e,r){return e=f(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}const y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M7 10l5 5 5-5z"}))}}])&&a(r.prototype,o),i&&a(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function d(t,e,r){return e=g(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,r||[],g(t).constructor):e.apply(t,r))}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(m=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}const _=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M7 14l5-5 5 5z"}))}}])&&b(r.prototype,o),i&&b(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function E(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}function j(t,e,r){return e=C(e),function(t,e){if(e&&("object"==S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,P()?Reflect.construct(e,r||[],C(t).constructor):e.apply(t,r))}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(P=function(){return!!t})()}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}const k=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=j(this,e,[t])).state={open:t.initial||!1},r.onClick=r.onClick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),r=e,(u=[{key:"onClick",value:function(t){this.setState(function(t,e){return{open:!t.open}})}},{key:"componentDidUpdate",value:function(){this.state.open&&this.props.disabled&&this.setState({open:!1})}},{key:"render",value:function(){var t=this.state.open,e=this.props.disabled||n.Children.count(this.props.children)<=0,r=this.props.full,u=this.props.title;return n.createElement("section",{id:this.props.id,className:o.A.section_container+" "+this.props.className,style:this.props.style},n.createElement(i.A,{className:o.A.section_header,title:u,disabled:e,onClick:this.onClick},t?n.createElement(_,null):n.createElement(y,null)),n.createElement("div",{className:o.A.section_content_container+(t?" open ":"")+(r?" full ":"")},n.createElement("div",{className:o.A.section_content},this.props.children)))}}])&&O(r.prototype,u),a&&O(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,u,a}(n.Component)},6171(t,e,r){r.d(e,{A:()=>b});var n=r(6540),o=r(6188),i=r(23),u=r(1236);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,r){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,(a=[{key:"getDescription",value:function(){return((this.props.taskViewConfig||{}).description||"").trim()}},{key:"getDescriptionHtml",value:function(){var t=this.getDescription();return t?i.xI.parse(t):""}},{key:"render",value:function(){var t=this.getDescriptionHtml();return n.createElement(u.A,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},n.createElement("div",{className:o.A.task_container},n.createElement("div",{className:o.A.task_markdown,dangerouslySetInnerHTML:{__html:t}})))}}])&&c(r.prototype,a),l&&c(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,l}(n.Component);Object.defineProperty(h,"TITLE",{get:function(){return I18N.toString("component.task.title")}});const b=h},6193(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},6229(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,u=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw u}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{A:()=>p});const c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[]},(e=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"update",value:function(t){var e,r=o(this._listeners);try{for(r.s();!(e=r.n()).done;)(0,e.value)(t)}catch(t){r.e(t)}finally{r.f()}}}])&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}const p=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._machineChangeHandler=new c,this._errors=[],this._warnings=[],this.onGraphChange=this.onGraphChange.bind(this)},(e=[{key:"initialize",value:function(t){t.getGraphController().getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"destroy",value:function(t){t.getGraphController().getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){this.attemptBuildMachine(t,this.getMachine(),this._errors,this._warnings),this._machineChangeHandler.update(this)}},{key:"attemptBuildGraph",value:function(t,e){throw new Error("Missing graph build operation")}},{key:"attemptBuildMachine",value:function(t,e,r,n){throw new Error("Missing machine build operation")}},{key:"getMachineErrors",value:function(){return this._errors}},{key:"getMachineWarnings",value:function(){return this._warnings}},{key:"getMachineChangeHandler",value:function(){return this._machineChangeHandler}},{key:"isMachineValid",value:function(){return this._errors.length<=0}},{key:"getMachine",value:function(){throw new Error("Missing machine for builder")}}])&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}()},6431(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{A:()=>O});var u=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"formatLabel",value:function(t,e){return e}},{key:"getDefaultLabel",value:function(t){return""}},{key:"formatNodeLabel",value:function(t){return t}},{key:"formatEdgeLabel",value:function(t){return t}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}}])&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();var a=new u;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return s(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}var y=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cachedGraphHash=0,this._refreshTicks=e,this._elapsedTicks=1/0,this._listeners=[]},(e=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"reset",value:function(){this._elapsedTicks=0,this._cachedGraphHash=0}},{key:"update",value:function(t){if(++this._elapsedTicks>=this._refreshTicks){this._elapsedTicks=0;var e=t.getHashCode(!1);if(e!==this._cachedGraphHash){this._cachedGraphHash=e;var r,n=l(this._listeners);try{for(n.s();!(r=n.n()).done;)(0,r.value)(t)}catch(t){n.e(t)}finally{n.f()}}}}}])&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const h=y;var b=r(1074),v=r(9143);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return g(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function _(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}var S=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._graph=e,this._graphChangeHandler=new h,this._labelEditor=null,this._labelFormatter=null,this._listeners=[]},e=[{key:"setLabelEditor",value:function(t){return this._labelEditor=t,this}},{key:"setLabelFormatter",value:function(t){return this._labelFormatter=t,this}},{key:"addListener",value:function(t){return this._listeners.push(t),this}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);e>=0&&this._listeners.splice(e,1)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"initialize",value:function(){}},{key:"update",value:function(){this._graphChangeHandler&&this._graphChangeHandler.update(this._graph)}},{key:"destroy",value:function(){}},{key:"clearGraph",value:function(){window.confirm(I18N.toString("alert.graph.clear"))&&(this._graph.clear(),this.emitGraphEvent("graph-clear"))}},{key:"onGraphEvent",value:function(t,e){}},{key:"emitGraphEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.onGraphEvent(t,e);var r,n=m(this._listeners);try{for(n.s();!(r=n.n()).done;)r.value.onGraphEvent(this,t,e)}catch(t){n.e(t)}finally{n.f()}}},{key:"openLabelEditor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._labelEditor){var n=this._labelEditor,o=e||"";n.openEditor(t,e,function(t,e){var n=!o||o.length>0&&e!==o;t instanceof v.A?t.setEdgeLabel(e):t instanceof b.A&&t.setNodeLabel(e),r&&r(t,e,n)},function(t){r&&r(t,null,!1)})}else r&&r(t,e,!1)}},{key:"getLabelFormatter",value:function(){return this._labelFormatter||a}},{key:"getLabelEditor",value:function(){return this._labelEditor}},{key:"getGraphChangeHandler",value:function(){return this._graphChangeHandler}},{key:"getGraph",value:function(){return this._graph}}],e&&w(t.prototype,e),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const O=S},6719(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function u(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return a(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{A:()=>l});var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"applyLayout",value:function(t){if("circle"!=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"circle"))throw new Error("Invalid layout type");var e=function(t){var e=[],r=t.getStartNode();e.push(r);for(var n=0;n<e.length;n++){var o,i=u(t.getEdges());try{for(i.s();!(o=i.n()).done;){var a=o.value;a._from==e[n]&&(e.includes(a._to)||e.push(a._to))}}catch(t){i.e(t)}finally{i.f()}}return e}(t),r=t.getNodes().filter(function(t){return!e.includes(t)}),n=e.length,o=r.length,i=t.getNodes().length,a=Math.max(n,o);if(0!=i){var c;c=n<10&&o<10?a/4*50+30:a/5*40+30;var l=0;if(1==n){var s,f=2*Math.PI/i,p=u(t.getNodes());try{for(p.s();!(s=p.n()).done;){var y=s.value;y.y=Math.sin(f*l+Math.PI)*c,y.x=Math.cos(f*l+Math.PI)*c,l+=1}}catch(t){p.e(t)}finally{p.f()}}else{var h=2*Math.PI/n,b=2*Math.PI/o;l=0;var v,d=u(e);try{for(d.s();!(v=d.n()).done;){var m=v.value;m.y=Math.sin(h*l+Math.PI)*c,m.x=Math.cos(h*l+Math.PI)*c,l+=1}}catch(t){d.e(t)}finally{d.f()}l=0;var g,w=u(r);try{for(w.s();!(g=w.n()).done;){var _=g.value;_.y=Math.sin(b*l+Math.PI)*(c+100),_.x=Math.cos(b*l+Math.PI)*(c+100),l+=1}}catch(t){w.e(t)}finally{w.f()}}}}}],(e=null)&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const l=c},6980(t,e,r){r.d(e,{default:()=>Dc});var n=r(6540),o=r(3074),i=r(6297),u=r(6446),a=r(9058),c=r(1074);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}function p(t,e,r){return e=b(e),function(t,e){if(e&&("object"==l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,r||[],b(t).constructor):e.apply(t,r))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},h.apply(null,arguments)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var d=function(t){function e(t,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=p(this,e,[t,r,n]))._accept=!1,o._custom=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),r=e,n=[{key:"setNodeAccept",value:function(t){this._accept=t}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(t){this._custom=t}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getHashString",value:function(){var t,r,n,o,i,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(t=e,r="getHashString",n=this,i=h(b(1&(o=3)?t.prototype:t),r,n),2&o&&"function"==typeof i?function(t){return i.apply(n,t)}:i)([u])+":"+(this._accept?"1":"0")}}],n&&s(r.prototype,n),o&&s(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(c.A);const m=d;var g=r(4017);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function S(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function O(t,e,r){return e=C(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,r||[],C(t).constructor):e.apply(t,r))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(E=function(){return!!t})()}function j(t,e,r,n){var o=P(C(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},P.apply(null,arguments)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}var k=" ",A="",x=function(t){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,e,[t,r,n])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),r=e,(n=[{key:"setEdgeLabel",value:function(t){"string"==typeof t?j(e,"setEdgeLabel",this,3)([t]):j(e,"setEdgeLabel",this,3)([A])}},{key:"getEdgeSymbolsFromLabel",value:function(){return this.getEdgeLabel().split(k)}}])&&_(r.prototype,n),o&&_(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(g.A);const M=x;function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function D(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:e+""}function B(t,e,r){return e=R(e),function(t,e){if(e&&("object"==N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,L()?Reflect.construct(e,r||[],R(t).constructor):e.apply(t,r))}function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(L=function(){return!!t})()}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}const V=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,e,[m,M])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(e,t),r=e,n&&I(r.prototype,n),o&&I(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.A);var G=r(6431),H=r(4006),z=r(9923),U=r(8629),W=r(1449),X=r(9066);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function K(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q(n.key),n)}}function q(t){var e=function(t,e){if("object"!=Y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Y(e)?e:e+""}function Z(t,e,r){return e=tt(e),function(t,e){if(e&&("object"==Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,J()?Reflect.construct(e,r||[],tt(t).constructor):e.apply(t,r))}function J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(J=function(){return!!t})()}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}function et(t,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},et(t,e)}function rt(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.split(k),n=new Set,o="",i=0,u=r.length,a=0;a<u;++a)if(1!==(i=(o=r[a].trim()).length)){if(i>1){var c,l=K(o.split(""));try{for(l.s();!(c=l.n()).done;){var s=c.value;s=s.trim(),n.has(s)||n.add(s)}}catch(t){l.e(t)}finally{l.f()}}}else n.add(o);return n.size<=0?e?null:A:Array.from(n).join(k)}const nt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Z(this,e))._prefix="q",t._graphController=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(e,t),r=e,(n=[{key:"setGraphController",value:function(t){return this._graphController=t,this}},{key:"setDefaultNodeLabelPrefix",value:function(t){this._prefix=t}},{key:"getDefaultNodeLabelPrefix",value:function(){return this._prefix}},{key:"getDefaultNodeLabel",value:function(){if(this._graphController.shouldAutoRenameNodes()){var t=this._graphController.getGraph(),e=[],r=0,n=t.getStartNode();n&&n.getNodeCustom()&&(r=1);for(var o=this.getDefaultNodeLabelPrefix()+r;t.getNodesByLabel(o,e).length>0;)e.length=0,++r,o=this.getDefaultNodeLabelPrefix()+r;return o}return this.getDefaultNodeLabelPrefix()}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){return function(t){return t||""}}},{key:"getEdgeLabelFormatter",value:function(){return rt}}])&&$(r.prototype,n),o&&$(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(X.A);var ot=r(6719);function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ut(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return at(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?at(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lt(n.key),n)}}function lt(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==it(e)?e:e+""}function st(t,e,r){return e=yt(e),function(t,e){if(e&&("object"==it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ft()?Reflect.construct(e,r||[],yt(t).constructor):e.apply(t,r))}function ft(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ft=function(){return!!t})()}function pt(){return pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=yt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},pt.apply(null,arguments)}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yt(t)}function ht(t,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ht(t,e)}const bt=function(t){function e(t,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=st(this,e,[r]))._app=t,o.setLabelFormatter((new nt).setGraphController(o)),o.shouldAutoLabel=true,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(e,t),r=e,n=[{key:"onGraphEvent",value:function(t,r){var n,o,i,u,a;switch((n=e,o="onGraphEvent",i=this,a=pt(yt(1&(u=3)?n.prototype:n),o,i),2&u&&"function"==typeof a?function(t){return a.apply(i,t)}:a)([t,r]),t){case z.rR:!function(t,e){var r,n=16,o=e.getEdgeFrom(),i=e.getEdgeTo(),u=e.getEdgeLabel().split(k),a=ut(t.getEdges());try{for(a.s();!(r=a.n()).done;){var c=r.value;if(c!==e&&c.getEdgeFrom()===o&&c.getEdgeTo()===i){var l=c.getEdgeSymbolsFromLabel();if(u.length>0){var s=l.concat(u);c.setEdgeLabel(s.join(k))}return c}}}catch(t){a.e(t)}finally{a.f()}if(!e.isSelfLoop()){var f,p=!1,y=n,h=Math.PI/2,b=ut(t.getEdges());try{for(b.s();!(f=b.n()).done;){var v=f.value;if(!(v.isQuadratic()&&Math.abs(v.getQuadratic().length)>=2*y)&&v.getEdgeTo()===o&&v.getEdgeFrom()===i){e.setQuadraticRadians(h).setQuadraticLength(y),v.setQuadraticRadians(h).setQuadraticLength(y),p=!0;break}}}catch(t){b.e(t)}finally{b.f()}if(!p){var d=Math.max(o.getNodeSize(),i.getNodeSize()),m=o.x,g=o.y,w=i.x,_=i.y,S=(w-m)*(w-m)+(_-g)*(_-g),O=!1,E=0,j=0;m>w?j=_-(E=(g-_)/(m-w))*w:m<w?j=g-(E=(_-g)/(w-m))*m:O=!0;var P,C=ut(t.getNodes());try{for(C.s();!(P=C.n()).done;){var T=P.value;if(T!==o&&T!==i){var A=T.x,x=T.y;if(!((m-A)*(m-A)+(g-x)*(g-x)>S||(w-A)*(w-A)+(_-x)*(_-x)>S)&&(O?Math.abs(m-A):Math.abs(j+E*A-x)/Math.sqrt(1+E*E))<T.getNodeSize()){p=!0;break}}}}catch(t){C.e(t)}finally{C.f()}p&&(e.setQuadraticRadians(-Math.PI/2),e.setQuadraticLength(d+10))}}}(this.getGraph(),r.target),this._app.getUndoManager().captureEvent();break;case U.p:case H.tK:case H.D9:this.shouldAutoLabel&&this.applyAutoRename(),this._app.getUndoManager().captureEvent();break;case H.a9:case z.Pw:this._app.getNotificationManager().pushNotification(I18N.toString("message.warning.cannotmodify"),W.UU,"tryCreateWhileTrash",null,!0);break;default:this._app.getUndoManager().captureEvent()}}},{key:"getApp",value:function(){return this._app}},{key:"deleteTargetNodes",value:function(t){if(t&&!(t.length<=0)){var e,r=this.getGraph(),n=ut(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;r.deleteNode(o)}}catch(t){n.e(t)}finally{n.f()}this.emitGraphEvent(H.D9,{target:t})}}},{key:"getGraphLabeler",value:function(){return this.getLabelFormatter()}},{key:"applyAutoLayout",value:function(){ot.A.applyLayout(this.getGraph()),this._app.getUndoManager().captureEvent()}},{key:"applyAutoRename",value:function(){var t=this._labelFormatter,e=this._graph;if(!e.isEmpty()){var r,n=ut(e.getNodes());try{for(n.s();!(r=n.n()).done;){var o=r.value;o.getNodeCustom()||o.setNodeLabel("")}}catch(t){n.e(t)}finally{n.f()}var i,u=ut(e.getNodes());try{for(u.s();!(i=u.n()).done;){var a=i.value;a.getNodeCustom()||a.setNodeLabel(t.getDefaultNodeLabel())}}catch(t){u.e(t)}finally{u.f()}}}},{key:"setAutoRenameNodes",value:function(t){var e=this.shouldAutoLabel;this.shouldAutoLabel=t,t&&!e&&this.applyAutoRename()}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"deleteSelectedNodes",value:function(t){var e,r=this.inputController.getSelectionBox(),n=r.getSelection(this.getGraph()).slice(),o=ut(n);try{for(o.s();!(e=o.n()).done;){var i=e.value;this._graph.deleteNode(i)}}catch(t){o.e(t)}finally{o.f()}r.clearSelection(),this.emitGraphEvent(H.D9,{target:n})}},{key:"deleteTargetNode",value:function(t){this._graph.deleteNode(t),this.emitGraphEvent(H.tK,{target:t})}},{key:"deleteTargetEdge",value:function(t){this._graph.deleteEdge(t),this.emitGraphEvent(z.Yi,{target:t})}},{key:"deleteTargetEdges",value:function(t){if(t&&!(t.length<=0)){var e,r=ut(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.deleteTargetEdge(n)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"createNode",value:function(t,e){void 0===t&&(t=64*Math.random()*2-64),void 0===e&&(e=64*Math.random()*2-64);var r=this._graph.createNode(t,e),n=this.getGraphLabeler().getDefaultNodeLabel();return r.setNodeLabel(n),this._app.getUndoManager().captureEvent(),r}},{key:"renameNode",value:function(t,e){t.setNodeLabel(e),t.setNodeCustom(!0),this._app.getUndoManager().captureEvent()}}],n&&ct(r.prototype,n),o&&ct(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(G.A);var vt=r(7892),dt=r(6229),mt=r(5752),gt=r(5505);function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function _t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||Ot(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ot(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Ot(t,e){if(t){if("string"==typeof t)return Et(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(t,e):void 0}}function Et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tt(n.key),n)}}function Ct(t,e,r){return e&&Pt(t.prototype,e),r&&Pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tt(t){var e=function(t,e){if("object"!=wt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wt(e)?e:e+""}var kt="&empty",At=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;jt(this,t),this._label=e,this._src=r,this._id=r instanceof mt.A?r.getGraphElementID():(0,gt.Os)()}return Ct(t,[{key:"copy",value:function(){var e=new t;return e._label=this._label,e._src=this._src,e._id=this._id,e}},{key:"getStateLabel",value:function(){return this._label}},{key:"getStateID",value:function(){return this._id}},{key:"getSource",value:function(){return this._src}},{key:"getHashString",value:function(){return this._id}}])}(),xt=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];jt(this,t),this._from=e,this._to=r,this._symbols=n}return Ct(t,[{key:"copy",value:function(){var e=new t;return e._from=this._from,e._to=this._to,e._symbols=this._symbols.slice(),e}},{key:"getSourceState",value:function(){return this._from}},{key:"getDestinationState",value:function(){return this._to}},{key:"addSymbol",value:function(t){this._symbols.push(t)}},{key:"hasSymbol",value:function(t){return this._symbols.includes(t)}},{key:"getSymbols",value:function(){return this._symbols}},{key:"getHashString",value:function(){return this._from.getHashString()+":"+this._symbols.join(",")+":"+this._to.getHashString()}}])}(),Mt=function(){return Ct(function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];jt(this,t),this._states=new Map,this._alphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._startState=null,this._deterministic=e,this._errors=[]},[{key:"copy",value:function(t){if(t!==this){this.clear();var e,r=St(t._states.entries());try{for(r.s();!(e=r.n()).done;){var n=_t(e.value,2),o=n[0],i=n[1],u=i.copy();this._states.set(o,u),t.isStartState(i)&&(this._startState=u),t.isFinalState(i)&&this._finalStates.add(u)}}catch(t){r.e(t)}finally{r.f()}var a,c=St(t._alphabet.entries());try{for(c.s();!(a=c.n()).done;){var l=_t(a.value,2),s=l[0],f=l[1];this._alphabet.set(s,f)}}catch(t){c.e(t)}finally{c.f()}var p,y=St(t._transitions.entries());try{for(y.s();!(p=y.n()).done;){var h=_t(p.value,2),b=h[0],v=h[1],d=v.copy();d._from=this._states.get(v.getSourceState().getStateID()),d._to=this._states.get(v.getDestinationState().getStateID()),this._transitions.set(b,d)}}catch(t){y.e(t)}finally{y.f()}var m,g=St(t._customSymbols);try{for(g.s();!(m=g.n()).done;){var w=m.value;this._customSymbols.add(w)}}catch(t){g.e(t)}finally{g.f()}this._deterministic=t._deterministic;var _,S=St(t._errors);try{for(S.s();!(_=S.n()).done;){var O=_.value;this._errors.push(O)}}catch(t){S.e(t)}finally{S.f()}}}},{key:"clear",value:function(){this._states.clear(),this._alphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._startState=null,this._errors.length=0}},{key:"setDeterministic",value:function(t){this._deterministic=t}},{key:"isDeterministic",value:function(){return this._deterministic}},{key:"validate",value:function(){if(this._errors.length=0,this._deterministic){var t,e=new Map,r=St(this._alphabet.keys());try{for(r.s();!(t=r.n()).done;){var n=t.value;e.set(n,!1)}}catch(t){r.e(t)}finally{r.f()}var o,i=St(this._states.values());try{for(i.s();!(o=i.n()).done;){var u,a=o.value,c=St(this.getOutgoingTransitions(a));try{for(c.s();!(u=c.n()).done;){var l=u.value[1];if(e.get(l))return this._errors.push("duplicate symbol: "+l),!1;e.set(l,!0)}}catch(t){c.e(t)}finally{c.f()}var s,f=St(e.keys());try{for(f.s();!(s=f.n()).done;){var p=s.value;if(!e.get(p))return this._errors.push("missing symbol: "+p),!1;e.set(p,!1)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){i.e(t)}finally{i.f()}return this._errors.length=0,!0}return this._errors.length=0,!0}},{key:"isValid",value:function(){return 0==this._errors.length}},{key:"getErrors",value:function(){return this._errors}},{key:"createState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new At(t))}},{key:"addState",value:function(t){var e=t.getStateID();if(this._states.has(e))throw new Error("Already added state with id '"+e+"'");return this._states.size<=0&&(this._startState=t),this._states.set(e,t),t}},{key:"removeState",value:function(t){var e=t.getStateID();return!!this._states.has(e)&&(this._states.delete(e),this._startState===t&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}},{key:"hasStateWithLabel",value:function(t){var e,r=St(this._states.values());try{for(r.s();!(e=r.n()).done;){if(e.value.getStateLabel()==t)return!0}}catch(t){r.e(t)}finally{r.f()}return!1}},{key:"getStatesByLabel",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=St(this._states.values());try{for(n.s();!(e=n.n()).done;){var o=e.value;o.getStateLabel()==t&&r.push(o)}}catch(t){n.e(t)}finally{n.f()}return r}},{key:"getStateByID",value:function(t){return this._states.get(t)}},{key:"hasState",value:function(t){return this._states.has(t.getStateID())}},{key:"getStates",value:function(){return this._states.values()}},{key:"getStateCount",value:function(){return this._states.size}},{key:"addTransition",value:function(t,e,r){if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+t.getStateLabel()+"'");if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+e.getStateLabel()+"'");if(!r)throw new Error("Cannot add transition for null symbol - use the empty symbol instead");var n=t.getStateID()+"->"+e.getStateID();if(this._transitions.has(n)){var o=this._transitions.get(n);if(o.hasSymbol(r))return!1;o.addSymbol(r)}else this._transitions.set(n,new xt(t,e,[r]));return this._incrSymbolCount(r),!0}},{key:"removeTransition",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.getStateID()+"->"+e.getStateID();if(!this._transitions.has(n))return!1;var o=this._transitions.get(n).getSymbols();if(r){var i=o.indexOf(r);return i>=0&&(this._decrSymbolCount(r),o.splice(i,1),o.length<=0&&this._transitions.delete(n),!0)}var u,a=St(o);try{for(a.s();!(u=a.n()).done;){var c=u.value;this._decrSymbolCount(c)}}catch(t){a.e(t)}finally{a.f()}return this._transitions.delete(n),!0}},{key:"hasTransition",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.getStateID()+"->"+e.getStateID();return!!this._transitions.has(n)&&(!r||this._transitions.get(n).hasSymbol(r))}},{key:"getTransitionSymbols",value:function(t,e){var r=t.getStateID()+"->"+e.getStateID();return this._transitions.has(r)?this._transitions.get(r).getSymbols():null}},{key:"getTransitions",value:function(){return this._transitions.values()}},{key:"_incrSymbolCount",value:function(t){if(t!==kt){var e=this._alphabet.get(t)||0;this._alphabet.set(t,e+1)}}},{key:"_decrSymbolCount",value:function(t){if(!this._alphabet.has(t))throw new Error("Unable to find valid transition symbol in alphabet");if(t!==kt){var e=this._alphabet.get(t);e<=1?this.isCustomSymbol(t)?this._alphabet.set(t,0):this._alphabet.delete(t):this._alphabet.set(t,e-1)}}},{key:"changeSymbol",value:function(t,e){if(t===kt)throw new Error("Cannot change the empty symbol");if(e===kt)throw new Error("Cannot change to the empty symbol");if(this._alphabet.has(e))throw new Error("Cannot change symbol to another existing symbol");var r,n=St(this._transitions.values());try{for(n.s();!(r=n.n()).done;){var o=r.value.getSymbols(),i=o.indexOf(t);i>=0&&(o[i]=e)}}catch(t){n.e(t)}finally{n.f()}var u=this._alphabet.get(t);this._alphabet.set(e,u),this._alphabet.delete(t),this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._customSymbols.add(e))}},{key:"removeSymbol",value:function(t){var e,r=[],n=St(this._transitions.entries());try{for(n.s();!(e=n.n()).done;){var o=_t(e.value,2),i=o[0],u=o[1].getSymbols(),a=u.indexOf(t);a>=0&&(u.splice(a,1),u.length<=0&&r.push(i))}}catch(t){n.e(t)}finally{n.f()}for(var c=0,l=r;c<l.length;c++){var s=l[c];this._transitions.delete(s)}t!==kt&&(this._customSymbols.has(t)?this._alphabet.set(t,0):this._alphabet.delete(t))}},{key:"setCustomSymbol",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t===kt)throw new Error("Cannot change the empty symbol as a custom symbol");e?this._customSymbols.has(t)||(this._customSymbols.add(t),this._alphabet.has(t)||this._alphabet.set(t,0)):this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._alphabet.has(t)&&this._alphabet.get(t)<=0&&this._alphabet.delete(t))}},{key:"isCustomSymbol",value:function(t){return this._customSymbols.has(t)}},{key:"getCustomSymbols",value:function(){return this._customSymbols}},{key:"clearCustomSymbols",value:function(){this._customSymbols.clear()}},{key:"isUsedSymbol",value:function(t){return this._alphabet.has(t)&&this._alphabet.get(t)>0}},{key:"isSymbol",value:function(t){return this._alphabet.has(t)}},{key:"getAlphabet",value:function(){return this._alphabet.keys()}},{key:"setStartState",value:function(t){var e=t.getStateID();this._states.has(e)||this._states.set(e,t),this._startState=t}},{key:"isStartState",value:function(t){return this._startState===t}},{key:"getStartState",value:function(){return this._startState}},{key:"setFinalState",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])this._states.has(t.getStateID())||this.addState(t),this._finalStates.add(t);else{if(!this._states.has(t.getStateID()))throw new Error("Trying to change final for missing state '"+t.getStateLabel()+"'");this._finalStates.delete(t)}}},{key:"isFinalState",value:function(t){return this._finalStates.has(t)}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"doTransition",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return n;if(!(t instanceof At))throw new Error("Invalid state instance type '"+wt(t)+"'");if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=kt);var o,i=t.getStateID()+"->",u=St(this._transitions.keys());try{for(u.s();!(o=u.n()).done;){var a=o.value;if(a.startsWith(i)){var c=this._transitions.get(a);if(c.hasSymbol(e)&&(n.push(c.getDestinationState()),!r&&this._deterministic))return n}}}catch(t){u.e(t)}finally{u.f()}return n}},{key:"doTerminalTransition",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t)return r;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=kt);var n,o=t.getStateID()+"->",i=St(this._transitions.keys());try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u.startsWith(o)){var a=this._transitions.get(u);if(a.hasSymbol(e)){var c,l=a.getDestinationState(),s=St(this.doClosureTransition(l));try{for(s.s();!(c=s.n()).done;){var f=c.value;r.includes(f)||r.push(f)}}catch(t){s.e(t)}finally{s.f()}}}}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"doClosureTransition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;e.push(t);for(var r=0;r<e.length;++r){var n,o=St(this.getOutgoingTransitions(e[r]));try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i[1]===kt){var u=i[2];e.includes(u)||e.push(u)}}}catch(t){o.e(t)}finally{o.f()}}return e}},{key:"getOutgoingTransitions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");var r,n=t.getStateID()+"->",o=St(this._transitions.keys());try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.startsWith(n)){var u,a=this._transitions.get(i),c=St(a.getSymbols());try{for(c.s();!(u=c.n()).done;){var l=u.value;e.push([t,l,a.getDestinationState()])}}catch(t){c.e(t)}finally{c.f()}}}}catch(t){o.e(t)}finally{o.f()}return e}},{key:"getHashCode",value:function(){var t,e="",r=St(this._states.values());try{for(r.s();!(t=r.n()).done;){e+=t.value.getHashString()+","}}catch(t){r.e(t)}finally{r.f()}e+="|";var n,o=St(this._transitions.values());try{for(o.s();!(n=o.n()).done;){e+=n.value.getHashString()+","}}catch(t){o.e(t)}finally{o.f()}e+="|";var i,u=St(this._finalStates);try{for(u.s();!(i=u.n()).done;){e+=i.value.getHashString()}}catch(t){u.e(t)}finally{u.f()}return e+="|",e+=this._startState?this._startState.getHashString():"",e+="|",e+=this._deterministic?"d":"n",(0,gt.e2)(e)}}])}();const Nt=Mt;var It=r(3883);function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||Rt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Rt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Rt(t,e){if(t){if("string"==typeof t)return Ft(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(t,e):void 0}}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gt(n.key),n)}}function Gt(t){var e=function(t,e){if("object"!=Dt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dt(e)?e:e+""}function Ht(t,e,r){return e=Ut(e),function(t,e){if(e&&("object"==Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zt()?Reflect.construct(e,r||[],Ut(t).constructor):e.apply(t,r))}function zt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zt=function(){return!!t})()}function Ut(t){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ut(t)}function Wt(t,e){return Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wt(t,e)}var Xt="unreachable_state",Yt="duplicate_state",Kt="incomplete_transition",Qt="duplicate_transition",$t="missing_transition",qt="empty_transition",Zt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ht(this,e))._machine=new Nt,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wt(t,e)}(e,t),r=e,n=[{key:"attemptBuildGraph",value:function(t,e){e.clear();var r,n,o,i,u,a=new Map,c=Lt(t.getStates());try{for(c.s();!(n=c.n()).done;){var l=n.value;(r=e.createNode(0,0)).setNodeLabel(l.getStateLabel()),t.isFinalState(l)&&r.setNodeAccept(!0),a.set(l,r)}}catch(t){c.e(t)}finally{c.f()}var s,f=Lt(t.getTransitions());try{for(f.s();!(s=f.n()).done;){var p=s.value;(o=a.get(p.getSourceState()))&&(u=p.getSymbols().join(" "),(i=a.get(p.getDestinationState()))&&e.createEdge(o,i).setEdgeLabel(u))}}catch(t){f.e(t)}finally{f.f()}var y=t.getStartState(),h=e.getNodesByLabel(y);return h&&h.length>0&&e.setStartNode(h[0]),e}},{key:"attemptBuildMachine",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r.length=0,n.length=0;var o=e.isDeterministic();e.clear();var i,u=new Map,a=new Map,c=new Set,l=[],s=[],f=t.getNodes(),p=t.getEdges(),y=t.getStartNode(),h=Lt(f);try{for(h.s();!(i=h.n()).done;){var b=i.value,v=b.getNodeLabel(),d=new At(v,b);e.addState(d),b.getNodeAccept()&&e.setFinalState(d,!0),y===b&&e.setStartState(d),u.has(v)?u.get(v).push(d):u.set(v,[d]),a.set(d,new Map)}}catch(t){h.e(t)}finally{h.f()}var g,w=Lt(p);try{for(w.s();!(g=w.n()).done;){var _=g.value,S=_.getEdgeFrom(),O=_.getEdgeTo();if(!_.isPlaceholder()&&S instanceof m&&O instanceof m){var E=e.getStateByID(S.getGraphElementID()),j=e.getStateByID(O.getGraphElementID());if(!E||!j)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var P,C=Lt(_.getEdgeLabel().split(k));try{for(C.s();!(P=C.n()).done;){var T=P.value;if(T){T===A?s.push(_):c.add(T);var x=void 0;x=T===A?kt:T;var M=a.get(E),N=M.get(x);N||M.set(x,N=new Array),N.push(_),e.addTransition(E,j,x)}}}catch(t){C.e(t)}finally{C.f()}}else l.push(_)}}catch(t){w.e(t)}finally{w.f()}var I,D=Lt(u.entries());try{for(D.s();!(I=D.n()).done;){var B=Bt(I.value,2),L=B[0],R=B[1];R.length>1&&r.push({name:Yt,label:L,nodes:R.map(function(t){return t.getSource()})})}}catch(t){D.e(t)}finally{D.f()}l.length>0&&r.push({name:Kt,edges:l});var F=(0,It.u)(t);if(F&&F.length>0&&n.push({name:Xt,nodes:F}),o){s.length>0&&r.push({name:qt,edges:s});var V,G=[],H=Lt(a.entries());try{for(H.s();!(V=H.n()).done;){var z,U=Bt(V.value,2),W=U[0],X=U[1],Y=Lt(c);try{for(Y.s();!(z=Y.n()).done;){var K=z.value,Q=X.get(K);Q?1!==Q.length&&r.push({name:Qt,edges:Q,symbol:K}):G.push(K)}}catch(t){Y.e(t)}finally{Y.f()}G.length>0&&(r.push({name:$t,node:W.getSource(),symbols:G.slice()}),G.length=0)}}catch(t){H.e(t)}finally{H.f()}}return r.length<=0?e:null}},{key:"getMachine",value:function(){return this._machine}}],n&&Vt(r.prototype,n),o&&Vt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(dt.A);const Jt=Zt;function te(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return ee(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function re(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nt(!0);if(t.isDeterministic())return e.copy(t),e;e.setDeterministic(!0);var r=t.getStartState(),n={nfaSource:t,dfaStateMap:new Map,dfaFinalStates:[],dfaTransitionMap:new Map,dfaStartState:null,dfaTrapState:null},o=t.doClosureTransition(r);n.dfaStartState=ie(o,n),n.dfaTrapState=ie([],n);var i,u=function(t){var e,r=[[]],n=te(t);try{for(n.s();!(e=n.n()).done;)for(var o=e.value,i=0,u=r.length;i<u;++i)r.push(r[i].concat(o))}catch(t){n.e(t)}finally{n.f()}return r}(t.getStates()),a=te(u);try{for(a.s();!(i=a.n()).done;){var c=i.value;c.length>0&&ne(c,n)}}catch(t){a.e(t)}finally{a.f()}var l,s=te(n.dfaStateMap.values());try{for(s.s();!(l=s.n()).done;){var f,p=l.value,y=te(t.getAlphabet());try{for(y.s();!(f=y.n()).done;){var h=f.value,b=oe(p,h,n);n.dfaTransitionMap.has(b)||n.dfaTransitionMap.set(b,[p,h,n.dfaTrapState])}}catch(t){y.e(t)}finally{y.f()}}}catch(t){s.e(t)}finally{s.f()}e.clear();var v,d=te(n.dfaStateMap.values());try{for(d.s();!(v=d.n()).done;){var m=v.value;e.addState(m)}}catch(t){d.e(t)}finally{d.f()}e.setStartState(n.dfaStartState);var g,w=te(n.dfaFinalStates);try{for(w.s();!(g=w.n()).done;){var _=g.value;e.setFinalState(_)}}catch(t){w.e(t)}finally{w.f()}var S,O=te(n.dfaTransitionMap.values());try{for(O.s();!(S=O.n()).done;){var E=S.value;e.addTransition(E[0],E[2],E[1])}}catch(t){O.e(t)}finally{O.f()}return e}function ne(t,e){var r,n=ie(t,e),o=null,i=[],u=te(e.nfaSource.getAlphabet());try{for(u.s();!(r=u.n()).done;){var a,c=r.value,l=te(t);try{for(l.s();!(a=l.n()).done;){var s=a.value;e.nfaSource.doTerminalTransition(s,c,i)}}catch(t){l.e(t)}finally{l.f()}if(i.length>0){o=ie(i,e);var f=oe(n,c,e);e.dfaTransitionMap.set(f,[n,c,o])}i.length=0}}catch(t){u.e(t)}finally{u.f()}}function oe(t,e,r){return t.getStateID()+";"+e}function ie(t,e){var r=function(t,e){var r,n="",o=te(e.nfaSource.getStates());try{for(o.s();!(r=o.n()).done;){var i=r.value;t.includes(i)?n+="x":n+="-"}}catch(t){o.e(t)}finally{o.f()}return n}(t,e),n=e.dfaStateMap.get(r);if(!n){var o,i=!1,u="{",a=te(t);try{for(a.s();!(o=a.n()).done;){var c=o.value;u.length>1&&(u+=","),u+=c.getStateLabel(),i||(i=e.nfaSource.isFinalState(c))}}catch(t){a.e(t)}finally{a.f()}n=new At(u+="}"),e.dfaStateMap.set(r,n),i&&e.dfaFinalStates.push(n)}return n}function ue(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return ae(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ce(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nt(!0);e.copy(t);var r,n=new Set(e.getFinalStates()),o=ue(e.getStates());try{for(o.s();!(r=o.n()).done;){var i=r.value;n.has(i)?e.setFinalState(i,!1):e.setFinalState(i,!0)}}catch(t){o.e(t)}finally{o.f()}return e}function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function se(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return fe(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ye(n.key),n)}}function ye(t){var e=function(t,e){if("object"!=le(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==le(e)?e:e+""}function he(t,e,r){return e=me(e),function(t,e){if(e&&("object"==le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,be()?Reflect.construct(e,r||[],me(t).constructor):e.apply(t,r))}function be(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(be=function(){return!!t})()}function ve(t,e,r,n){var o=de(me(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function de(){return de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=me(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},de.apply(null,arguments)}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}const we=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=he(this,e,[t,new Jt])).graphController=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(e,t),r=e,(n=[{key:"initialize",value:function(t){ve(e,"initialize",this,3)([t]),this.graphController=t.getGraphController()}},{key:"destroy",value:function(t){ve(e,"destroy",this,3)([t])}},{key:"update",value:function(t){ve(e,"update",this,3)([t])}},{key:"getMachineType",value:function(){return this._machineBuilder.getMachine().isDeterministic()?"DFA":"NFA"}},{key:"setMachineType",value:function(t){this._machineBuilder.getMachine().setDeterministic("DFA"===t)}},{key:"changeMachineTo",value:function(t){this.getMachineType()!=t&&this.setMachineType(t)}},{key:"getFirstGraphNodeByLabel",value:function(t,e){var r,n=se(t.getNodes());try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.getNodeLabel()==e)return o}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"setGraphToMachine",value:function(t,e){this._machineBuilder.attemptBuildGraph(e,t),ot.A.applyLayout(t)}},{key:"convertMachineTo",value:function(t){var e=this.getMachineType();if(e!==t)if("DFA"==t&&"NFA"==e){var r=re(this.getMachineBuilder().getMachine());this.setGraphToMachine(this.graphController.getGraph(),r),this.setMachineType(t)}else{if("NFA"!=t||"DFA"!=e)throw new Error("Conversion scheme between '"+e+"' to '"+t+"' is not supported");this.changeMachineTo(t)}}},{key:"invertMachine",value:function(){var t,e=this.getMachineBuilder().getMachine(),r=se(ce(e,e).getStates());try{for(r.s();!(t=r.n()).done;){var n=t.value;n.getSource().setNodeAccept(e.isFinalState(n))}}catch(t){r.e(t)}finally{r.f()}}},{key:"getStates",value:function(){return this._machineBuilder.getMachine().getStates()}},{key:"countStates",value:function(){return this._machineBuilder.getMachine().getStateCount()}},{key:"getFinalStates",value:function(){return this._machineBuilder.getMachine().getFinalStates()}},{key:"getTransitions",value:function(){return this._machineBuilder.getMachine().getTransitions()}},{key:"getAlphabet",value:function(){var t=this._machineBuilder.getMachine();return Array.from(t.getAlphabet())}},{key:"isUsedSymbol",value:function(t){return!this.isCustomSymbol(t)}},{key:"createSymbol",value:function(t){this.addCustomSymbol(t)}},{key:"deleteSymbol",value:function(t){for(var e=null,r=null,n=null,o=[],i=this.graphController.getGraph(),u=i.getEdges().length-1;u>=0;--u)(r=(e=i.getEdges()[u]).getEdgeLabel().indexOf(t))>=0&&((n=e.getEdgeLabel().substring(0,r)+e.getEdgeLabel().substring(r+1)).length>0?e.setEdgeLabel(n):(e.setEdgeLabel(""),i.deleteEdge(e)),o.push(e));o.length<=0&&this.getMachineBuilder().removeCustomSymbol(t)}},{key:"renameSymbol",value:function(t,e){for(var r=null,n=null,o=[],i=this.graphController.getGraph(),u=i.getEdges().length,a=0;a<u;++a)(n=(r=i.getEdges()[a]).getEdgeLabel().replace(t,e))!=r.getEdgeLabel()&&o.push(r),r.setEdgeLabel(n);o.length<=0&&this.getMachineBuilder().renameCustomSymbol(t,e)}},{key:"getCustomSymbols",value:function(){return Array.from(this._machineBuilder.getMachine().getCustomSymbols())}},{key:"isCustomSymbol",value:function(t){return this._machineBuilder.isCustomSymbol(t)}},{key:"addCustomSymbol",value:function(t){this._machineBuilder.getMachine().setCustomSymbol(t)}},{key:"clearCustomSymbols",value:function(){this._machineBuilder.getMachine().clearCustomSymbols()}}])&&pe(r.prototype,n),o&&pe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(vt.A);var _e=r(2304);function Se(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ee(t,e,r,n){var o=null,i=[],u=0;e&&n.push(e);var a,c=Se(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(o=l.state,e=l.index<n.length?n[l.index]:null){u=l.index+1;var s,f=Se(t.doTerminalTransition(o,e));try{for(f.s();!(s=f.n()).done;){var p=s.value;i.push({state:p,index:u})}}catch(t){f.e(t)}finally{f.f()}}else if(t.isFinalState(o))return!0;u=l.index}}catch(t){c.e(t)}finally{c.f()}return r.length=0,r.push.apply(r,i),!1}function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ce(n.key),n)}}function Ce(t){var e=function(t,e){if("object"!=je(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==je(e)?e:e+""}var Te=function(){return t=function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tapeInput=e?e.split(""):[],this._left=r,this._right=n,this._index=0},e=[{key:"stepForward",value:function(){++this._index}},{key:"stepBackward",value:function(){--this._index}},{key:"finish",value:function(){this._index=2*this._tapeInput.length}},{key:"reset",value:function(){this._index=-1}},{key:"stop",value:function(){this.finish(),this.reset()}},{key:"changeTapeSymbol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._tapeInput[t]=e}},{key:"getTapeSourceStatesByIndex",value:function(t){return null}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?"":this._tapeInput[t]||""}},{key:"isTapeLeftInfinite",value:function(){return this._left}},{key:"isTapeRightInfinite",value:function(){return this._right}},{key:"setCurrentTapeIndex",value:function(t){this._index=t}},{key:"getCurrentTapeIndex",value:function(){return this._index}},{key:"getTapeInput",value:function(){return this._tapeInput}}],e&&Pe(t.prototype,e),r&&Pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Ae(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return xe(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,De(n.key),n)}}function Ie(t,e,r){return e&&Ne(t.prototype,e),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function De(t){var e=function(t,e){if("object"!=ke(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ke(e)?e:e+""}function Be(t,e,r){return e=Re(e),function(t,e){if(e&&("object"==ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Le()?Reflect.construct(e,r||[],Re(t).constructor):e.apply(t,r))}function Le(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Le=function(){return!!t})()}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Re(t)}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fe(t,e)}var Ve=function(t){function e(t,r,n){var o;return Me(this,e),(o=Be(this,e,[t.getTestString(),!1,!0]))._tester=t,o._graphController=r,o._machineController=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}(e,t),Ie(e,[{key:"stepForward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepForward(t,e)}},{key:"stepBackward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepBackward(t,e)}},{key:"reset",value:function(){this._tester.resetPosition()}},{key:"finish",value:function(){var t=this._graphController,e=this._machineController;this._tester.runTest(t,e,!1)}},{key:"stop",value:function(){this._tester.stopTest()}},{key:"changeTapeSymbol",value:function(t){throw new Error("Operation not yet supported")}},{key:"getTapeSourceStatesByIndex",value:function(t){return t<0||t>=this._tapeInput.length?null:this._tester.getNodesAtPosition(t)}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?[]:this._tapeInput[t]||""}},{key:"setCurrentTapeIndex",value:function(t){this._tester.changePosition(t)}},{key:"getCurrentTapeIndex",value:function(){return this._tester.getPosition()}}])}(Te),Ge=function(){return Ie(function t(){Me(this,t),this._testString=null,this._testIndex=-1,this._tapeContext=null,this._cachePath=[],this._cachedResult=null,this._resolve=null,this._reject=null,this.registerEvent("startTest"),this.registerEvent("stepTest"),this.registerEvent("stopTest")},[{key:"targets",get:function(){return this._cachePath.length<=0?[]:this._cachePath[this._cachePath.length-1].targets}},{key:"startTest",value:function(t,e,r){var n=this;if(t||(t=""),this._tapeContext)throw new Error("Unable to start an already running test");return e.getGraph().isEmpty()?Promise.reject():(this._testString=t,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=new Ve(this,e,r),this.emit("startTest",this),new Promise(function(t,e){n._resolve=t,n._reject=e}))}},{key:"stopTest",value:function(){if(!this._tapeContext)throw new Error("Unable to stop null test");if(this.emit("stopTest",this),!this._resolve)throw new Error("Must call startTest() before anything else");if(!this._reject)throw new Error("Must call startTest() before anything else");var t=null;return this._cachePath.length>=this._testString.length?(t=this._cachedResult,this._resolve(t)):(t=null,this._reject()),this._testString=null,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=null,Promise.resolve(t)}},{key:"runTest",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._tapeContext)throw new Error("Unable to run null test");return new Promise(function(o,i){var u=!1;do{u=r.stepForward(t,e,!n)}while(u);o(r._cachedResult)}).then(function(t){return n?r.stopTest():t})}},{key:"stepForward",value:function(t,e){var r=e.getMachineBuilder().getMachine();if(this._testIndex>=this._testString.length)return!1;if(++this._testIndex,this._cachePath.length<=this._testIndex){var n,o=null,i=this._testIndex===this._testString.length;if(this._testIndex<=0){n=[],o=[];var u,a=r.getStartState(),c=Ae(r.doClosureTransition(a));try{for(c.s();!(u=c.n()).done;){var l=u.value;n.push({state:l,index:0})}}catch(t){c.e(t)}finally{c.f()}}else{var s=this._cachePath[this._testIndex-1];n=s.states.slice(),o=s.symbols.slice(),Ee(r,this._testString[this._testIndex-1],n,o)}i&&(this._cachedResult=Ee(r,null,n,o));var f,p=new Set,y=Ae(n);try{for(y.s();!(f=y.n()).done;){var h=f.value,b=h.state.getSource();if(!b)throw new Error("Could not find node '"+h.state+"'");p.add(b)}}catch(t){y.e(t)}finally{y.f()}var v={targets:Array.from(p),states:n,symbols:o};this._cachePath.push(v)}return this.emit("stepTest"),!0}},{key:"stepBackward",value:function(t,e){return!(this._testIndex<=0)&&(--this._testIndex,this.emit("stepTest"),!0)}},{key:"isTesting",value:function(){return null!==this._testString}},{key:"changePosition",value:function(t){t>=this._cachePath.length?this._testIndex=this._cachePath.length-1:t<0?this._testIndex=0:t>=this._testString.length?this._testIndex=this._testString.length-1:this._testIndex=t}},{key:"resetPosition",value:function(){this._testIndex=-1}},{key:"getPosition",value:function(){return this._testIndex}},{key:"isComputedPosition",value:function(t){return this._cachePath.length>t}},{key:"getCurrentNodes",value:function(){return this._testIndex>=0&&this._testIndex<this._cachePath.length?this._cachePath[this._testIndex]:null}},{key:"getNodesAtPosition",value:function(t){return t>=0&&t<this._cachePath.length?this._cachePath[t].targets:null}},{key:"getTestString",value:function(){return this._testString}},{key:"getTapeContext",value:function(){return this._tapeContext}}])}();_e.A.mixin(Ge);const He=Ge;var ze=r(6858);function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function We(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xe(n.key),n)}}function Xe(t){var e=function(t,e){if("object"!=Ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ue(e)?e:e+""}function Ye(t,e,r){return e=Qe(e),function(t,e){if(e&&("object"==Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ke()?Reflect.construct(e,r||[],Qe(t).constructor):e.apply(t,r))}function Ke(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ke=function(){return!!t})()}function Qe(t){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qe(t)}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}const qe=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ye(this,e,[t])).onClick=r.onClick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(e,t),r=e,o=[{key:"onClick",value:function(t){var e=this.props.notification;"convert"===t.target.value&&(this.props.machineController.convertMachineTo("DFA"),e.close())}},{key:"render",value:function(){var t=this.props.machineController.countStates();return n.createElement(ze.Ay,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ze.a0,notification:this.props.notification},n.createElement("p",null,I18N.toString("message.warning.convertNFAToDFA")),n.createElement("p",null,"".concat(t," states -> ").concat(Math.pow(2,t)," states")),n.createElement("button",{value:"convert",onClick:this.onClick},I18N.toString("message.action.convert")))}}],o&&We(r.prototype,o),i&&We(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function Ze(t){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(t)}function Je(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return tr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function er(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rr(n.key),n)}}function rr(t){var e=function(t,e){if("object"!=Ze(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ze(e)?e:e+""}function nr(t,e,r){return e=ir(e),function(t,e){if(e&&("object"==Ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,or()?Reflect.construct(e,r||[],ir(t).constructor):e.apply(t,r))}function or(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(or=function(){return!!t})()}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}function ur(t,e){return ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ur(t,e)}const ar=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=nr(this,e,[t]))._targetIndex=0,r._targetLabel="";var n,o=Je(t.message.targets);try{for(o.s();!(n=o.n()).done;){var i=n.value;r._targetLabel.length>0&&(r._targetLabel+=", "),r._targetLabel+=i.getNodeLabel()}}catch(t){o.e(t)}finally{o.f()}return r.onClick=r.onClick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ur(t,e)}(e,t),r=e,o=[{key:"onClick",value:function(t){var e=this.props.notification,r=this.props.message,n=this.props.app,o=this.props.graphController;switch(t.target.value){case"locate":var i=r.targets,u=i.length;if(u>0&&this._targetIndex<u){var a=i[this._targetIndex++];this._targetIndex>=u&&(this._targetIndex=0),n.getSession().getCurrentModule().getGraphView().moveViewToPosition(a.x,a.y)}break;case"deleteall":var c=r.targets;o.deleteTargetNodes(c),o.applyAutoRename(),e.close()}}},{key:"render",value:function(){var t=this.props.message;return n.createElement(ze.Ay,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ze.OD,notification:this.props.notification},n.createElement("p",null,t.text+": "+this._targetLabel),n.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),n.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}],o&&er(r.prototype,o),i&&er(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function cr(t){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(t)}function lr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return sr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pr(n.key),n)}}function pr(t){var e=function(t,e){if("object"!=cr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cr(e)?e:e+""}function yr(t,e,r){return e=br(e),function(t,e){if(e&&("object"==cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hr()?Reflect.construct(e,r||[],br(t).constructor):e.apply(t,r))}function hr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hr=function(){return!!t})()}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}function vr(t,e){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vr(t,e)}const dr=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=yr(this,e,[t])).targetIndex=0,r.targetLabel="";var n,o=lr(t.message.targets);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.targetLabel.length>0&&(r.targetLabel+=", "),r.targetLabel+="("+i.getEdgeFrom().getNodeLabel()+", "+i.getEdgeLabel()+")  "+(i.getEdgeTo()instanceof c.A?i.getEdgeTo().getNodeLabel():"null")}}catch(t){o.e(t)}finally{o.f()}return r.onClick=r.onClick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vr(t,e)}(e,t),r=e,o=[{key:"onClick",value:function(t){var e=this.props.notification,r=this.props.message,n=this.props.app,o=this.props.graphController;switch(t.target.value){case"locate":var i=r.targets,u=i.length;if(u>0&&this.targetIndex<u){var a=i[this.targetIndex++];this.targetIndex>=u&&(this.targetIndex=0);var c=n.getSession().getCurrentModule().getGraphView(),l=a.getCenterPoint();c.moveViewToPosition(l.x,l.y)}break;case"deleteall":var s=r.targets;o.deleteTargetEdges(s),e.close()}}},{key:"render",value:function(){return n.createElement(ze.Ay,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ze.OD,notification:this.props.notification},n.createElement("p",null,this.props.message.text+": "+this.targetLabel),n.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),n.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}],o&&fr(r.prototype,o),i&&fr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function mr(t){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(t)}function gr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return wr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function wr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function _r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sr(n.key),n)}}function Sr(t){var e=function(t,e){if("object"!=mr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mr(e)?e:e+""}function Or(t,e,r){return e=jr(e),function(t,e){if(e&&("object"==mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Er()?Reflect.construct(e,r||[],jr(t).constructor):e.apply(t,r))}function Er(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Er=function(){return!!t})()}function jr(t){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jr(t)}function Pr(t,e){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pr(t,e)}const Cr=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Or(this,e,[t])).targetIndex=0,r.targetLabel="";var n,o=gr(t.message.targets);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.targetLabel.length>0&&(r.targetLabel+=", "),r.targetLabel+=i.getNodeLabel()}}catch(t){o.e(t)}finally{o.f()}return r.targetLabel+=" for "+t.message.symbol,r.onClick=r.onClick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pr(t,e)}(e,t),r=e,o=[{key:"onClick",value:function(t){var e=this.props.message,r=this.props.app;if("locate"===t.target.value){var n=e.targets,o=n.length;if(o>0&&this.targetIndex<o){var i=n[this.targetIndex++];this.targetIndex>=o&&(this.targetIndex=0),r.getSession().getCurrentModule().getGraphView().moveViewToPosition(i.x,i.y)}}}},{key:"render",value:function(){return n.createElement(ze.Ay,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ze.OD,notification:this.props.notification},n.createElement("p",null,I18N.toString("message.error.missing")+": "+this.targetLabel),n.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")))}}],o&&_r(r.prototype,o),i&&_r(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function kr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ar(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ar(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mr(n.key),n)}}function Mr(t){var e=function(t,e){if("object"!=Tr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tr(e)?e:e+""}function Nr(t,e,r){return e=Dr(e),function(t,e){if(e&&("object"==Tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ir()?Reflect.construct(e,r||[],Dr(t).constructor):e.apply(t,r))}function Ir(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ir=function(){return!!t})()}function Dr(t){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dr(t)}function Br(t,e){return Br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Br(t,e)}const Lr=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Nr(this,e,[t])).targetIndex=0,r.targetLabel="";var n,o=kr(t.message);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.targetLabel.length>0&&(r.targetLabel+=", "),r.targetLabel+=i.getNodeLabel()}}catch(t){o.e(t)}finally{o.f()}return r.onClick=r.onClick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Br(t,e)}(e,t),r=e,o=[{key:"onClick",value:function(t){var e=this.props.notification,r=this.props.message,n=this.props.app,o=this.props.graphController;switch(t.target.value){case"locate":var i=r[this.targetIndex++];this.targetIndex>=r.length&&(this.targetIndex=0),n.getSession().getCurrentModule().getGraphView().moveViewToPosition(i.x,i.y);break;case"deleteall":var u=r;o.deleteTargetNodes(u),o.applyAutoRename(),e.close()}}},{key:"render",value:function(){return n.createElement(ze.Ay,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ze.a0,notification:this.props.notification},n.createElement("p",null,I18N.toString("message.warning.unreachable")+": "+this.targetLabel),n.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),n.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}],o&&xr(r.prototype,o),i&&xr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var Rr="machine-convert",Fr="machine-state",Vr="machine-transition",Gr="machine-state-missing",Hr="machine-state-unreachable",zr="machine-error";function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function Wr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Xr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Yr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kr(n.key),n)}}function Kr(t){var e=function(t,e){if("object"!=Ur(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ur(e)?e:e+""}const Qr=function(){return t=function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._graphController=r,this._machineController=n,this._showErrorOnChange=!1,this.onMachineChange=this.onMachineChange.bind(this),n.getMachineBuilder().getMachineChangeHandler().addListener(this.onMachineChange)},(e=[{key:"onMachineChange",value:function(t){this._showErrorOnChange&&this.showErrors()}},{key:"setErrorChecking",value:function(t){this._showErrorOnChange=t}},{key:"isErrorChecking",value:function(){return this._showErrorOnChange}},{key:"showErrors",value:function(){var t={graphController:this._graphController,machineController:this._machineController,app:this._app},e=this._machineController.getMachineBuilder(),r=e.getMachineErrors(),n=e.getMachineWarnings(),o=this._app.getNotificationManager();if(o.clearNotifications(zr),r.length<=0&&n.length<=0)o.pushNotification(I18N.toString("message.error.none"),W.Pr,zr,null,!1);else{var i,u=Wr(n);try{for(u.s();!(i=u.n()).done;){var a=i.value;a.name===Xt&&o.pushNotification(a.nodes,Hr,zr,t,!1)}}catch(t){u.e(t)}finally{u.f()}var c,l=Wr(r);try{for(l.s();!(c=l.n()).done;){var s=c.value;switch(s.name){case Yt:o.pushNotification({text:"Found duplicate nodes of similar names",targets:s.nodes},Fr,zr,t,!1);break;case Kt:o.pushNotification({text:I18N.toString("message.error.incomplete"),targets:s.edges},Vr,zr,t,!1);break;case Qt:o.pushNotification({text:I18N.toString("message.error.dupe"),targets:s.edges},Vr,zr,t,!1);break;case $t:o.pushNotification({targets:[s.node],symbol:s.symbols},Gr,zr,t,!1);break;case qt:o.pushNotification({text:I18N.toString("message.error.empty"),targets:s.edges},Vr,zr,t,!1)}}}catch(t){l.e(t)}finally{l.f()}}}}])&&Yr(t.prototype,e),r&&Yr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function $r(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return qr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function qr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Zr="1.0.0",Jr={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?e.clear():e=new V;for(var r=t.nodes||[],n=Math.min(r.length||0,t.nodeCount||0),o=t.edges||[],i=Math.min(o.length||0,t.edgeCount||0),u=t.initial||0,a=new Map,c=0;c<n;++c){var l=r[c];if(l){var s=e.createNode(l.x||0,l.y||0,l.id);s.setNodeLabel(l.label||""),s.setNodeAccept(l.accept||!1),s.setNodeCustom(l.custom||!1),a.set(c,s)}}var f=a.get(u);f&&e.setStartNode(f);for(var p=0;p<i;++p){var y=o[p];if(y){var h=a.get(y.from)||null;if(h){var b=a.get(y.to)||null,v=e.createEdge(h,b,y.id),d=y.quad||{};v.setEdgeLabel(y.label||""),v.setQuadraticRadians(d.radians||0),v.setQuadraticLength(d.length||0)}}}return e},objectify:function(t){for(var e=t.getNodes()||[],r=e.length||0,n=t.getEdges()||[],o=n.length||0,i=t.getStartNode(),u=new Array(r),a=new Map,c=0;c<r;++c){var l=e[c];if(l){var s=l.getGraphElementID();a.set(l,c),u[c]={id:s,x:l.x||0,y:l.y||0,label:l.getNodeLabel()||"",accept:l.getNodeAccept()||!1,custom:l.getNodeCustom()||!1}}}for(var f=new Array(o),p=0;p<o;++p){var y=n[p];if(y){var h=y.getGraphElementID(),b=y.getQuadratic()||{},v=y.getEdgeFrom(),d=y.getEdgeTo(),m=a.has(v)?a.get(v):-1,g=a.has(d)?a.get(d):-1;f[p]={id:h,from:m,to:g,quad:{radians:b.radians||0,length:b.length||0},label:y.getEdgeLabel()||""}}}return{nodeCount:r,nodes:u,edgeCount:o,edges:f,initial:a.get(i)||0,_version:Zr}}},tn={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?e.clear():e=new V;for(var r=t.getElementsByTagName("state")||[],n=r.length,o=t.getElementsByTagName("transition")||[],i=o.length,u="0",a=new Map,c=0;c<n;++c){var l=r[c];if(l){var s=l.getAttribute("id");if(s){var f=0,p=l.getElementsByTagName("x");if(p.length>0){var y=p[0];if(y.hasChildNodes()){var h=y.childNodes[0];if(h)try{f=parseFloat(h.nodeValue)||0}catch(t){f=0}}}var b=0,v=l.getElementsByTagName("y");if(v.length>0){var d=v[0];if(d.hasChildNodes()){var m=d.childNodes[0];if(m)try{b=parseFloat(m.nodeValue)||0}catch(t){b=0}}}var g=l.getElementsByTagName("initial").length>0,w=l.getElementsByTagName("final").length>0,_=e.createNode(f,b);_.setNodeLabel(l.getAttribute("name")||""),_.setNodeAccept(w),g&&(u=s),a.set(s,_)}}}var S=a.get(u);S&&e.setStartNode(S);for(var O=e.getBoundingRect(),E=O.minX,j=O.minY,P=O.width,C=O.height,T=e.getNodes(),A=0,x=T.length;A<x;++A)T[A].x-=E+P/2,T[A].y-=j+C/2;for(var M=new Map,N=0;N<i;++N){var I=o[N];if(I){var D=null,B=I.getElementsByTagName("from");if(B.length>0){var L=B[0];if(L.hasChildNodes()){var R=L.childNodes[0];R&&(D=R.nodeValue)}}if(a.has(D)){var F="",G=I.getElementsByTagName("to");if(G.length>0){var H=G[0];if(H.hasChildNodes()){var z=H.childNodes[0];z&&(F=z.nodeValue||"")}}var U="",W=I.getElementsByTagName("read");if(W.length>0){var X=W[0];if(X.hasChildNodes()){var Y=X.childNodes[0];Y&&(U=Y.nodeValue||"")}}var K=D+"\n"+F,Q=void 0;M.has(K)?Q=M.get(K):(Q=[],M.set(K,Q)),Q.push(U)}}}var $,q=$r(M.keys());try{for(q.s();!($=q.n()).done;){var Z=$.value,J=Z.split("\n");if(2===J.length){var tt=M.get(Z).join(k),et=a.get(J[0]),rt=a.get(J[1]);e.createEdge(et,rt).setEdgeLabel(tt)}}}catch(t){q.e(t)}finally{q.f()}return e},objectify:function(t){var e=t.getNodes()||[],r=e.length||0,n=t.getEdges()||[],o=t.getStartNode(),i=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created with flap.js 1.0.0--\x3e<structure></structure>',"application/xml"),u=i.getElementsByTagName("structure")[0],a=i.createElement("type");a.innerHTML="fa",u.appendChild(a);var c=i.createElement("automaton");u.appendChild(c);for(var l=new Map,s=0;s<r;++s){var f=e[s];l.set(f,s);var p=i.createElement("state");p.id=""+s,p.setAttribute("name",f.getNodeLabel()),c.appendChild(p);var y=i.createElement("x");y.innerHTML=""+(f.x||0),p.appendChild(y);var h=i.createElement("y");h.innerHTML=""+(f.y||0),p.appendChild(h),o===f&&p.appendChild(i.createElement("initial")),f.getNodeAccept()&&p.appendChild(i.createElement("final"))}var b,v=$r(n);try{for(v.s();!(b=v.n()).done;){var d,m=b.value,g=$r(m.getEdgeLabel().split(k));try{for(g.s();!(d=g.n()).done;){var w=d.value,_=i.createElement("transition");c.appendChild(_);var S=i.createElement("from");S.innerHTML=""+(l.get(m.getEdgeFrom())||0),_.appendChild(S);var O=i.createElement("to");O.innerHTML=""+(l.get(m.getEdgeTo())||0),_.appendChild(O);var E=i.createElement("read");E.innerHTML=""+(w||""),_.appendChild(E)}}catch(t){g.e(t)}finally{g.f()}}}catch(t){v.e(t)}finally{v.f()}return i}},en=r(625);function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function nn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return on(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?on(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function on(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function un(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,an(n.key),n)}}function an(t){var e=function(t,e){if("object"!=rn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rn(e)?e:e+""}function cn(t,e,r){return e=sn(e),function(t,e){if(e&&("object"==rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ln()?Reflect.construct(e,r||[],sn(t).constructor):e.apply(t,r))}function ln(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ln=function(){return!!t})()}function sn(t){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sn(t)}function fn(t,e){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fn(t,e)}const pn=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=cn(this,e,[t]))._graphParser=r,n._prevGraphHash=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fn(t,e)}(e,t),r=e,(n=[{key:"onParseSession",value:function(t,e){return JSON.parse(e)}},{key:"onPreImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph();this._prevGraphHash=e.getHashCode(!0),e.isEmpty()||t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){var r=t.getCurrentModule(),n=r.getGraphController(),o=r.getMachineController(),i=n.getGraph();this._graphParser.parse(e.graphData,i),function(t,e,r){var n=r.type;n&&e.setMachineType(n);var o=r.symbols;if(o&&Array.isArray(o)){e.clearCustomSymbols();var i,u=nn(o);try{for(u.s();!(i=u.n()).done;){var a=i.value;e.addCustomSymbol(a)}}catch(t){u.e(t)}finally{u.f()}}if(t){var c=r.statePrefix;c&&t.getGraphLabeler().setDefaultNodeLabelPrefix(c)}}(n,o,e.machineData)}},{key:"onPostImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph().getHashCode(!0);this._prevGraphHash!==e&&t.getApp().getUndoManager().captureEvent()}}])&&un(r.prototype,n),o&&un(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(en.A);function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bn(n.key),n)}}function bn(t){var e=function(t,e){if("object"!=yn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yn(e)?e:e+""}function vn(t,e,r){return e=mn(e),function(t,e){if(e&&("object"==yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dn()?Reflect.construct(e,r||[],mn(t).constructor):e.apply(t,r))}function dn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dn=function(){return!!t})()}function mn(t){return mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mn(t)}function gn(t,e){return gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gn(t,e)}const wn=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=vn(this,e))._app=t,n._graphParser=r,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gn(t,e)}(e,t),r=e,(n=[{key:"onParseSession",value:function(t,e){return(new DOMParser).parseFromString(e,"text/xml")}},{key:"onPreImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph();this._prevGraphHash=e.getHashCode(!0),e.isEmpty()||t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){var r=t.getCurrentModule().getGraphController().getGraph();this._graphParser.parse(e,r)}},{key:"onPostImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph().getHashCode(!0);this._prevGraphHash!==e&&t.getApp().getUndoManager().captureEvent()}}])&&hn(r.prototype,n),o&&hn(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(en.A);var _n=r(3411),Sn=r(7522);function On(t){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(t)}function En(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jn(n.key),n)}}function jn(t){var e=function(t,e){if("object"!=On(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==On(e)?e:e+""}function Pn(t,e,r){return e=Tn(e),function(t,e){if(e&&("object"==On(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Cn()?Reflect.construct(e,r||[],Tn(t).constructor):e.apply(t,r))}function Cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Cn=function(){return!!t})()}function Tn(t){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tn(t)}function kn(t,e){return kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kn(t,e)}const An=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Pn(this,e,[".fsa.json"]))._graphParser=t,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kn(t,e)}(e,t),r=e,(n=[{key:"onExportSession",value:function(t,e){var r=t.getCurrentModule(),n=r.getGraphController(),o=r.getMachineController(),i=n.getGraph(),u=this._graphParser.objectify(i);e.graphData=u,e.machineData={type:o.getMachineType(),symbols:o.getCustomSymbols(),statePrefix:n.getGraphLabeler().getDefaultNodeLabelPrefix()}}},{key:"getIconClass",value:function(){return Sn.A}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}}])&&En(r.prototype,n),o&&En(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(_n.A);function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function Mn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nn(n.key),n)}}function Nn(t){var e=function(t,e){if("object"!=xn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xn(e)?e:e+""}function In(t,e,r){return e=Bn(e),function(t,e){if(e&&("object"==xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dn()?Reflect.construct(e,r||[],Bn(t).constructor):e.apply(t,r))}function Dn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Dn=function(){return!!t})()}function Bn(t){return Bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bn(t)}function Ln(t,e){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ln(t,e)}const Rn=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),In(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ln(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},n.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),n.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),n.createElement("path",{fill:"#F29C1F",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),n.createElement("path",{fill:"#FFFFFF",d:"M19.379,48.105L21.936,53h-1.9l-1.6-3.801h-0.137L16.576,53h-1.9l2.557-4.895l-2.721-5.182h1.873 l1.777,4.102h0.137l1.928-4.102H22.1L19.379,48.105z"}),n.createElement("path",{fill:"#FFFFFF",d:"M31.998,42.924h1.668V53h-1.668v-6.932l-2.256,5.605h-1.449l-2.27-5.605V53h-1.668V42.924h1.668 l2.994,6.891L31.998,42.924z"}),n.createElement("path",{fill:"#FFFFFF",d:"M37.863,42.924v8.832h4.635V53h-6.303V42.924H37.863z"}),n.createElement("path",{fill:"#F29C1F",d:"M15.5,24c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C16.012,23.902,15.756,24,15.5,24z"}),n.createElement("path",{fill:"#F29C1F",d:"M21.5,30c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C22.012,29.902,21.756,30,21.5,30z"}),n.createElement("path",{fill:"#F29C1F",d:"M33.5,30c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C34.012,29.902,33.756,30,33.5,30z"}),n.createElement("path",{fill:"#F29C1F",d:"M39.5,24c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C40.012,23.902,39.756,24,39.5,24z"}),n.createElement("path",{fill:"#F29C1F",d:"M24.5,32c-0.11,0-0.223-0.019-0.333-0.058c-0.521-0.184-0.794-0.755-0.61-1.276l6-17 c0.185-0.521,0.753-0.795,1.276-0.61c0.521,0.184,0.794,0.755,0.61,1.276l-6,17C25.298,31.744,24.912,32,24.5,32z"}))}}])&&Mn(r.prototype,o),i&&Mn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gn(n.key),n)}}function Gn(t){var e=function(t,e){if("object"!=Fn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fn(e)?e:e+""}function Hn(t,e,r){return e=Un(e),function(t,e){if(e&&("object"==Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zn()?Reflect.construct(e,r||[],Un(t).constructor):e.apply(t,r))}function zn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zn=function(){return!!t})()}function Un(t){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Un(t)}function Wn(t,e){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wn(t,e)}const Xn=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Hn(this,e,[".jff"]))._graphParser=t,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}(e,t),r=e,(n=[{key:"onExportSession",value:function(t,e){var r=t.getCurrentModule().getGraphController().getGraph();e.graphData=this._graphParser.objectify(r)}},{key:"onStringifySession",value:function(t,e){return(new XMLSerializer).serializeToString(e.graphData)}},{key:"getIconClass",value:function(){return Rn}},{key:"getLabel",value:function(){return I18N.toString("file.export.jff")}},{key:"getTitle",value:function(){return I18N.toString("file.export.jff.hint")}}])&&Vn(r.prototype,n),o&&Vn(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(_n.A);var Yn=r(9240),Kn=r(2696);function Qn(t){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(t)}function $n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qn(n.key),n)}}function qn(t){var e=function(t,e){if("object"!=Qn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qn(e)?e:e+""}function Zn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||to(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=to(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function to(t,e){if(t){if("string"==typeof t)return eo(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eo(t,e):void 0}}function eo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ro(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Nt(!0);if(!function(t,e){var r,n=new Set,o=Jn(t.getAlphabet());try{for(o.s();!(r=o.n()).done;){var i=r.value;n.add(i)}}catch(t){o.e(t)}finally{o.f()}var u,a=Jn(e.getAlphabet());try{for(a.s();!(u=a.n()).done;){var c=u.value;if(!n.has(c))return!1;n.delete(c)}}catch(t){a.e(t)}finally{a.f()}return n.size<=0}(t,e))throw new Error("Mismatched machine alphabet");var n=t.getAlphabet(),o=t.getStartState(),i=e.getStartState();if(!o&&!i)return r.clear(),r;if(!o)return r.copy(e);if(!i)return r.copy(t);var u=new Map,a=new Set,c=[],l=[o,i],s=o.getStateID()+":"+i.getStateID();t.isFinalState(o)&&e.isFinalState(i)&&a.add(s),u.set(s,l);var f=[];for(f.push(s);f.length>0;){var p,y=f.pop(),h=u.get(y),b=h[0],v=h[1],d=[],m=Jn(n);try{for(m.s();!(p=m.n()).done;){var g=p.value,w=void 0,_=void 0;if(t.doTransition(b,g,!1,d),1!==d.length)throw new Error("Found non-deterministic transition from '"+b.getStateLabel()+"' for '"+g+"' - transitions to '"+d.join(",")+"'");if(w=d[0],d.length=0,e.doTransition(v,g,!1,d),1!==d.length)throw new Error("Found non-deterministic transition from '"+v.getStateLabel()+"' for '"+g+"' - transitions to '"+d.join(",")+"'");_=d[0],d.length=0;var S=w.getStateID()+":"+_.getStateID();u.has(S)||(u.set(S,[w,_]),f.push(S),t.isFinalState(w)&&e.isFinalState(_)&&a.add(S)),c.push([y,g,S])}}catch(t){m.e(t)}finally{m.f()}}r.clear();var O,E=new Map,j=Jn(u.entries());try{for(j.s();!(O=j.n()).done;){var P=Zn(O.value,2),C=P[0],T=P[1],k=r.createState("("+T[0].getStateLabel()+","+T[1].getStateLabel()+")");a.has(C)&&r.setFinalState(k,!0),E.set(C,k)}}catch(t){j.e(t)}finally{j.f()}var A=E.get(s);if(!A)throw new Error("Unable to find start state for pair");r.setStartState(A);for(var x=0,M=c;x<M.length;x++){var N=M[x],I=N[0],D=N[1],B=N[2],L=E.get(I),R=E.get(B);if(!L||!R)throw new Error("Cannot find state for pair");r.addTransition(L,R,D)}return r}function no(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return oo(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oo(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function oo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function io(t,e){var r=uo(t,e);if(!r)return{value:!1,witnessString:null};var n=ao(r);if(n)return{value:!1,witnessString:n};var o=uo(e,t);if(!o)return{value:!1,witnessString:null};var i=ao(o);return i?{value:!1,witnessString:i}:{value:!0,witnessString:null}}function uo(t,e){return function(t,e){var r,n=new Set,o=new Set,i=no(t.getAlphabet());try{for(i.s();!(r=i.n()).done;){var u=r.value;t.isUsedSymbol(u)&&n.add(u)}}catch(t){i.e(t)}finally{i.f()}var a,c=no(e.getAlphabet());try{for(c.s();!(a=c.n()).done;){var l=a.value;e.isUsedSymbol(l)&&o.add(l)}}catch(t){c.e(t)}finally{c.f()}if(n.size!=o.size)return!1;var s,f=no(n);try{for(f.s();!(s=f.n()).done;){var p=s.value;if(!o.has(p))return!1}}catch(t){f.e(t)}finally{f.f()}return n}(t,e)?ro(t,ce(e)):null}function ao(t){var e=[],r=[t.getStartState()],n=new Map;for(n.set(t.getStartState(),"");r.length;){var o=r.shift();e.push(o);var i=n.get(o);if(t.isFinalState(o))return i;var u,a=no(t.getOutgoingTransitions(o));try{for(a.s();!(u=a.n()).done;){var c=u.value,l=c[2];if(!e.includes(l)&&!r.includes(l)){r.push(l);var s=c[1];n.set(l,i+s)}}}catch(t){a.e(t)}finally{a.f()}}return!1}function co(t){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(t)}function lo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,so(n.key),n)}}function so(t){var e=function(t,e){if("object"!=co(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==co(e)?e:e+""}function fo(t,e,r){return e=yo(e),function(t,e){if(e&&("object"==co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,po()?Reflect.construct(e,r||[],yo(t).constructor):e.apply(t,r))}function po(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(po=function(){return!!t})()}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}function ho(t,e){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ho(t,e)}var bo="fsa-machine-request",vo="fsa-machine-response";const mo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fo(this,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ho(t,e)}(e,t),r=e,(n=[{key:"testEquivalence",value:function(t){this._broadcastManager.sendMessageTo(t,bo)}},{key:"onBroadcastMessage",value:function(t,e,r,n){if(t===bo){var o=this._broadcastManager.getApp().getSession().getCurrentModule().getGraphController().getGraph(),i=Jr.objectify(o);return this._broadcastManager.sendMessageTo(e,vo,{graphData:i}),!0}if(t===vo){var u=this._broadcastManager.getApp().getSession().getCurrentModule().getMachineController(),a=n.graphData,c=Jr.parse(a),l=u.getMachineBuilder().attemptBuild(c,new Nt),s=u.getMachineBuilder().getMachine(),f=(y=s,io((p=l).isDeterministic()?p:re(p),y.isDeterministic()?y:re(y)));return window.alert("The machines are "+(f.value?"EQUAL":"NOT EQUAL")+"!"),!0}var p,y;return!1}}])&&lo(r.prototype,n),o&&lo(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._broadcastManager=null},(e=[{key:"setBroadcastManager",value:function(t){return this._broadcastManager=t,this}},{key:"onBroadcastMessage",value:function(t,e,r,n){return!1}},{key:"getBroadcastManager",value:function(){return this._broadcastManager}}])&&$n(t.prototype,e),r&&$n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}());function go(t){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(t)}function wo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_o(n.key),n)}}function _o(t){var e=function(t,e){if("object"!=go(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=go(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==go(e)?e:e+""}var So="tutorial",Oo=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tutorialShown=!1},e=[{key:"start",value:function(t){var e=this;!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._tutorialShown||t.getNotificationManager().pushNotification("-=-= Bab's First Graph =-=-\n            We can make a graph by creating nodes and edges.\n            \n            Nodes\n            > DOUBLE CLICK on empty space.\n\n            Edges\n            > RIGHT-HOLD on a node, then DRAG out to target.\n\n            If using touchscreen, you can TAP & HOLD instead of a RIGHT-CLICK.",W.to,[So],{onClick:function(){t.getNotificationManager().pushNotification("-=-= More Bab's Graph =-=-\n                    You can do so much more.\n        \n                    Move stuff\n                    > CLICK & HOLD on target, then DRAG.\n                    \n                    Delete stuff\n                    > DRAG to Trash Can at bottom-right.\n        \n                    Edit labels, etc.\n                    > RIGHT-CLICK on target.\n                    \n                    More tools in the Drawer on the right. Check it out!",W.to,[So],{onClick:function(){e._tutorialShown=!0,t.getNotificationManager().pushNotification("-=- Bab's Masterpiece -=-\n                            Action Mode Tray (Bottom Left)\n                            > This will show you whether you are currently editing or moving stuff or you can manually switch them here!\n                            \n                            Trash Can (Bottom Right)\n                            > This will turn RED if deleting stuff. You can also enter Delete Mode with a CLICK.\n                            \n                            Drawer (Right)\n                            > Open the drawer by a CLICK on the tabs. You can toggle fullscreen with the Expand Arrow at the top.\n                            \n                            Any additional questions, please use the ? button on the toolbar.\n                            Have fun!\n                            ",null,[So])}})}})}}],e&&wo(t.prototype,e),r&&wo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const Eo=Oo;var jo=r(1236),Po=r(2340),Co=r(5972),To=r(8498),ko=r(5347),Ao=r(2574),xo=r(9117),Mo=r(3494),No=r(2242),Io=r(9897);function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Bo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lo(n.key),n)}}function Lo(t){var e=function(t,e){if("object"!=Do(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Do(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Do(e)?e:e+""}function Ro(t,e,r){return e=Vo(e),function(t,e){if(e&&("object"==Do(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fo()?Reflect.construct(e,r||[],Vo(t).constructor):e.apply(t,r))}function Fo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Fo=function(){return!!t})()}function Vo(t){return Vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vo(t)}function Go(t,e){return Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Go(t,e)}var Ho="Enter",zo="Escape";const Uo=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ro(this,e,[t])).state={value:null,error:!1},r.onValueChange=r.onValueChange.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r.onKeyUp=r.onKeyUp.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Go(t,e)}(e,t),r=e,o=[{key:"onFocus",value:function(t){var e=t.target,r=this.props.node,n=r?r.getNodeLabel():null;this.setState({value:n,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(t,this,e)}},{key:"onKeyDown",value:function(t){var e=t.key;e!==Ho&&e!==zo||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,r=t.target;e===Ho?r.blur():e===zo&&this.setState({value:null,error:!1},function(){return r.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),r=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){r=!0}this.setState({value:e,error:r})}},{key:"render",value:function(){var t=this.props.node,e=this.state.value,r=t?t.getNodeLabel():"",o=!!t&&(t.getNodeCustom()||null!==e&&e!==r),i=!!t&&t.getNodeAccept(),u=null===e?r:e;return n.createElement("div",{id:this.props.id,className:Io.A.element_container+(o?" custom ":"")+(!t.getNodeCustom()&&u.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(i?" accept ":"")+" "+this.props.className,style:this.props.style},n.createElement("input",{spellCheck:!1,style:{width:u.length+"ch"},value:u,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}],o&&Bo(r.prototype,o),i&&Bo(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function Wo(t){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}function Xo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yo(n.key),n)}}function Yo(t){var e=function(t,e){if("object"!=Wo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wo(e)?e:e+""}function Ko(t,e,r){return e=$o(e),function(t,e){if(e&&("object"==Wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qo()?Reflect.construct(e,r||[],$o(t).constructor):e.apply(t,r))}function Qo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Qo=function(){return!!t})()}function $o(t){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$o(t)}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qo(t,e)}const Zo=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ko(this,e,[t]))._prevX=0,r._prevY=0,r.onElementAdd=r.onElementAdd.bind(r),r.onElementFocus=r.onElementFocus.bind(r),r.onElementBlur=r.onElementBlur.bind(r),r.onElementChange=r.onElementChange.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}(e,t),r=e,o=[{key:"onElementAdd",value:function(t){var e=this.props.graphController;this._prevX+=16,this._prevY+=16;var r=e.createNode(this._prevX,this._prevY);this.props.graphView.moveViewToPosition(r.x,r.y)}},{key:"onElementFocus",value:function(t,e){var r=e.props.node;this._prevX=r.x,this._prevY=r.y,this.props.graphView.moveViewToPosition(r.x,r.y)}},{key:"onElementBlur",value:function(t,e,r){var n=e.props.node;if(n){var o=this.props.graphController;if(null!==r){var i=o.getGraph();r.length>0?i.getNodesByLabel(r).length<=0&&o.renameNode(n,r):n.getNodeCustom()?(n.setNodeCustom(!1),o.applyAutoRename()):o.deleteTargetNode(n)}}}},{key:"onElementChange",value:function(t,e,r){var n=this.props.graphController;if(r.length>0){var o=n.getGraph().getNodesByLabel(r);if(o.length>1||1===o.length&&o[0]!==e.props.node)throw new Error("Not a valid node label")}}},{key:"render",value:function(){var t=this,e=this.props.graphController.getGraph().getNodes();return n.createElement("div",{id:this.props.id,className:Ao.A.list_container,style:this.props.style},n.createElement("div",{className:Ao.A.element_list},n.createElement(No.A,{className:Ao.A.first_marker}),e.map(function(e){return n.createElement(Uo,{key:e.getGraphElementID(),node:e,onFocus:t.onElementFocus,onBlur:t.onElementBlur,onChange:t.onElementChange})})),n.createElement(xo.A,{className:Ao.A.add_button,title:"Add State",onClick:this.onElementAdd},n.createElement(Mo.A,null)))}}],o&&Xo(r.prototype,o),i&&Xo(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var Jo=r(9199),ti=r(3182);function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ri(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ni(n.key),n)}}function ni(t){var e=function(t,e){if("object"!=ei(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ei(e)?e:e+""}function oi(t,e,r){return e=ui(e),function(t,e){if(e&&("object"==ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ii()?Reflect.construct(e,r||[],ui(t).constructor):e.apply(t,r))}function ii(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ii=function(){return!!t})()}function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ui(t)}function ai(t,e){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ai(t,e)}var ci="Enter",li="Escape";const si=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=oi(this,e,[t]))._inputElement=null,r.state={value:null,error:!1},r.onValueChange=r.onValueChange.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r.onKeyUp=r.onKeyUp.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ai(t,e)}(e,t),r=e,o=[{key:"onFocus",value:function(t){var e=t.target,r=this.props.symbol;this.setState({value:r,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.props.onBlur&&this.props.onBlur(t,this,e),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(t){var e=t.key;e!==ci&&e!==li||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,r=t.target;e===ci?r.blur():e===li&&this.setState({value:null,error:!1},function(){return r.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),r=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){r=!0}this.setState({value:e,error:r})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var t=this,e=this.state.value,r=null===e?this.props.symbol:e,o=this.props.used||!1;return n.createElement("div",{id:this.props.id,className:ti.A.element_container+(null!==r&&r.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(o?" used ":"")+" "+this.props.className,style:this.props.style},n.createElement("input",{ref:function(e){return t._inputElement=e},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:r,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}],o&&ri(r.prototype,o),i&&ri(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function fi(t){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(t)}function pi(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return yi(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yi(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function yi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bi(n.key),n)}}function bi(t){var e=function(t,e){if("object"!=fi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fi(e)?e:e+""}function vi(t,e,r){return e=mi(e),function(t,e){if(e&&("object"==fi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,di()?Reflect.construct(e,r||[],mi(t).constructor):e.apply(t,r))}function di(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(di=function(){return!!t})()}function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mi(t)}function gi(t,e){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gi(t,e)}const wi=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=vi(this,e,[t])).newSymbolComponent=null,r.state={useNewSymbol:!1},r.onElementAdd=r.onElementAdd.bind(r),r.onElementFocus=r.onElementFocus.bind(r),r.onElementBlur=r.onElementBlur.bind(r),r.onElementChange=r.onElementChange.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gi(t,e)}(e,t),r=e,(o=[{key:"onElementAdd",value:function(t){var e=this;this.setState({useNewSymbol:!0},function(){e.newSymbolComponent.focus()})}},{key:"onElementFocus",value:function(t,e){}},{key:"onElementBlur",value:function(t,e,r){var n=e.props.symbol,o=this.props.machineController;if(null!==r){var i=o.getMachineBuilder().getMachine();r.length>0?i.isSymbol(r)||(n?o.renameSymbol(n,r):o.createSymbol(r)):n&&o.deleteSymbol(n)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(t,e,r){var n=this.props.machineController;if(r.length>0&&n.getMachineBuilder().getMachine().isSymbol(r)&&r!==e.props.symbol)throw new Error("Not a valid symbol")}},{key:"renderAlphabetList",value:function(t,e){var r,o=[],i=pi(e);try{for(i.s();!(r=i.n()).done;){var u=r.value;u&&o.push(n.createElement(si,{key:u,symbol:u,used:t.isUsedSymbol(u),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(t){i.e(t)}finally{i.f()}return o}},{key:"render",value:function(){var t=this,e=this.props.machineController.getMachineBuilder().getMachine(),r=e.getAlphabet();return n.createElement("div",{id:this.props.id,className:Jo.A.list_container,style:this.props.style},n.createElement("div",{className:Jo.A.element_list},this.renderAlphabetList(e,r),n.createElement(si,{ref:function(e){return t.newSymbolComponent=e},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),n.createElement(xo.A,{className:Jo.A.add_button,title:"Add Symbol",onClick:this.onElementAdd},n.createElement(Mo.A,null)))}}])&&hi(r.prototype,o),i&&hi(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var _i=r(2648);function Si(t){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(t)}function Oi(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ei(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ei(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Ei(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ji(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pi(n.key),n)}}function Pi(t){var e=function(t,e){if("object"!=Si(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Si(e)?e:e+""}function Ci(t,e,r){return e=ki(e),function(t,e){if(e&&("object"==Si(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ti()?Reflect.construct(e,r||[],ki(t).constructor):e.apply(t,r))}function Ti(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ti=function(){return!!t})()}function ki(t){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ki(t)}function Ai(t,e){return Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ai(t,e)}const xi=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ci(this,e,[t]))._cachedMachineHash=0,r._cachedMachineComponents=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ai(t,e)}(e,t),r=e,(o=[{key:"componentWillUnmount",value:function(){this._cachedMachineHash=0,this._cachedMachineComponents.length=0}},{key:"renderTransitionEntry",value:function(t,e,r){var o=t.isDeterministic(),i=t.doTransition(e,r,!0),u="",a=!1;if(i.length<=0){if(!o)return null;if(a=!0,u="-",r===kt)return null}else if(1===i.length)a=!1,u=i[0].getStateLabel(),o||(u="{"+u+"}");else{o&&(a=!0);var c,l="",s=Oi(i);try{for(s.s();!(c=s.n()).done;){var f=c.value;l.length>0&&(l+=","),l+=f.getStateLabel()}}catch(t){s.e(t)}finally{s.f()}u="{"+l+"}"}return r===kt&&(r=A,o&&(a=!0)),n.createElement("tr",{key:e.getStateID()+":"+r},n.createElement("td",{className:_i.A.chart_key+(a?" error ":"")},"("+e.getStateLabel()+","+r+")"),n.createElement("td",{className:_i.A.chart_value+(a?" error ":"")},u))}},{key:"renderTransitionTable",value:function(t){var e=t.getHashCode();if(e===this._cachedMachineHash)return this._cachedMachineComponents;this._cachedMachineHash=e;var r,n=this._cachedMachineComponents=[],o=Oi(t.getStates());try{for(o.s();!(r=o.n()).done;){var i=r.value,u=null;(u=this.renderTransitionEntry(t,i,kt))&&n.push(u);var a,c=Oi(t.getAlphabet());try{for(c.s();!(a=c.n()).done;){var l=a.value;(u=this.renderTransitionEntry(t,i,l))&&n.push(u)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"render",value:function(){var t=this.props.machineController,e=t.getMachineBuilder().getMachine(),r="DFA"===t.getMachineType();return n.createElement("div",{id:this.props.id,className:_i.A.chart_container+" "+this.props.className,style:this.props.style},n.createElement("table",null,n.createElement("tbody",null,n.createElement("tr",null,n.createElement("th",null,"Q"),n.createElement("th",null,r?n.createElement("span",null,"Q"):n.createElement("span",null,n.createElement("span",{style:{fontFamily:"cursive"}},"P"),n.createElement("span",null,"(Q)")))),this.renderTransitionTable(e))))}}])&&ji(r.prototype,o),i&&ji(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var Mi=r(9324);function Ni(t){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}function Ii(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Di(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Di(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Di(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Bi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Li(n.key),n)}}function Li(t){var e=function(t,e){if("object"!=Ni(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ni(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ni(e)?e:e+""}function Ri(t,e,r){return e=Vi(e),function(t,e){if(e&&("object"==Ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fi()?Reflect.construct(e,r||[],Vi(t).constructor):e.apply(t,r))}function Fi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Fi=function(){return!!t})()}function Vi(t){return Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vi(t)}function Gi(t,e){return Gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gi(t,e)}var Hi="symbols",zi="states";const Ui=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ri(this,e,[t])).state={rowAxis:Hi},r.onRowAxisSwitch=r.onRowAxisSwitch.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gi(t,e)}(e,t),r=e,(o=[{key:"onRowAxisSwitch",value:function(t){this.setState(function(t,e){return{rowAxis:t.rowAxis===Hi?zi:Hi}})}},{key:"renderTableEntryForSymbolAxis",value:function(t,e,r){var o=t.isDeterministic(),i=t.doTransition(e,r),u="",a=!1;if(i.length<=0)o&&r!==kt&&(a=!0),u="-";else if(1===i.length)o&&r===kt&&(a=!0),u=i[0].getStateLabel();else{o&&(a=!0);var c,l="",s=Ii(i);try{for(s.s();!(c=s.n()).done;){var f=c.value;l.length>0&&(l+=","),l+=f.getStateLabel()}}catch(t){s.e(t)}finally{s.f()}u="{"+l+"}"}var p=o&&r===kt;return n.createElement("td",{key:e.getStateID()+":"+r,className:Mi.A.table_entry+(a?" error ":"")+(p?" disabled ":"")},u)}},{key:"renderTableEntries",value:function(t,e){var r,o=[],i=Ii(t.getStates());try{for(i.s();!(r=i.n()).done;){var u=r.value,a=[];switch(e){case Hi:var c,l=Ii(t.getAlphabet());try{for(l.s();!(c=l.n()).done;){var s=c.value;a.push(this.renderTableEntryForSymbolAxis(t,u,s))}}catch(t){l.e(t)}finally{l.f()}a.push(this.renderTableEntryForSymbolAxis(t,u,kt));break;case zi:var f,p=Ii(t.getStates());try{for(p.s();!(f=p.n()).done;){var y=f.value,h=t.getTransitionSymbols(u,y),b="";if(h){var v,d=Ii(h);try{for(d.s();!(v=d.n()).done;){var m=v.value;b.length>0&&(b+="\n"),b+=m===kt?A:m}}catch(t){d.e(t)}finally{d.f()}}else b="-";a.push(n.createElement("td",{key:u.getStateID()+":"+y.getStateID()},b))}}catch(t){p.e(t)}finally{p.f()}break;default:throw new Error("Unknown row axis type '"+e+"'")}o.push(n.createElement("tr",{key:u.getStateID()},n.createElement("th",{scope:"row",className:Mi.A.table_axis_header+" row"},u.getStateLabel()),a))}}catch(t){i.e(t)}finally{i.f()}return o}},{key:"renderTableAxis",value:function(t,e){var r=[],o=t.isDeterministic();switch(e){case Hi:var i,u=Ii(t.getAlphabet());try{for(u.s();!(i=u.n()).done;){var a=i.value;r.push(n.createElement("th",{key:a,scope:"col",className:Mi.A.table_axis_header+" col"},a))}}catch(t){u.e(t)}finally{u.f()}return r.push(n.createElement("th",{key:kt,scope:"col",className:Mi.A.table_axis_header+(o?" disabled ":"")+" col"},A)),r;case zi:var c,l=Ii(t.getStates());try{for(l.s();!(c=l.n()).done;){var s=c.value;r.push(n.createElement("th",{key:s.getStateID(),scope:"col",className:Mi.A.table_axis_header+" col"},s.getStateLabel()))}}catch(t){l.e(t)}finally{l.f()}return r;default:throw new Error("Unknown row axis type '"+e+"'")}}},{key:"render",value:function(){var t=this.state.rowAxis,e=this.props.machineController.getMachineBuilder().getMachine();return n.createElement("div",{id:this.props.id,className:Mi.A.table_container+" "+this.props.className,style:this.props.style},n.createElement("table",null,n.createElement("tbody",null,n.createElement("tr",null,n.createElement("th",null,n.createElement("button",{onClick:this.onRowAxisSwitch},t===Hi?"Q/":"Q/Q")),this.renderTableAxis(e,t)),this.renderTableEntries(e,t))))}}])&&Bi(r.prototype,o),i&&Bi(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var Wi=r(7776),Xi=r(9755);function Yi(t){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(t)}function Ki(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qi(n.key),n)}}function Qi(t){var e=function(t,e){if("object"!=Yi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yi(e)?e:e+""}function $i(t,e,r){return e=Zi(e),function(t,e){if(e&&("object"==Yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qi()?Reflect.construct(e,r||[],Zi(t).constructor):e.apply(t,r))}function qi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qi=function(){return!!t})()}function Zi(t){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zi(t)}function Ji(t,e){return Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ji(t,e)}const tu=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=$i(this,e,[t])).onAutoStatePrefixSubmit=r.onAutoStatePrefixSubmit.bind(r),r.onAutoStatePrefixFormat=r.onAutoStatePrefixFormat.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ji(t,e)}(e,t),r=e,(o=[{key:"onAutoStatePrefixSubmit",value:function(t,e){var r=this.props.graphController,n=r.getGraphLabeler();n.getDefaultNodeLabelPrefix()!=t&&(n.setDefaultNodeLabelPrefix(t),r.applyAutoRename())}},{key:"onAutoStatePrefixFormat",value:function(t){return t&&t.length>0?t:this.props.graphController.getGraphLabeler().getDefaultNodeLabelPrefix()}},{key:"render",value:function(){var t=this.props.graphController;return n.createElement("div",{id:this.props.id,className:Wi.A.select_container+" "+this.props.className,style:this.props.style},n.createElement("label",{className:Wi.A.select_label},I18N.toString("options.autolabel")),n.createElement(Xi.Ay,{className:Wi.A.prefix_editor,defaultValue:t.getGraphLabeler().getDefaultNodeLabelPrefix(),captureOnExit:"save",formatter:this.onAutoStatePrefixFormat,onSubmit:this.onAutoStatePrefixSubmit}),n.createElement("select",{className:Wi.A.postfix_selector,onChange:this.onMachineTypeChange,disabled:!0},n.createElement("option",null,"0-9"),n.createElement("option",null,"a-z"),n.createElement("option",null,"A-Z")))}}])&&Ki(r.prototype,o),i&&Ki(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function eu(t){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(t)}function ru(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nu(n.key),n)}}function nu(t){var e=function(t,e){if("object"!=eu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=eu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eu(e)?e:e+""}function ou(t,e,r){return e=uu(e),function(t,e){if(e&&("object"==eu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,iu()?Reflect.construct(e,r||[],uu(t).constructor):e.apply(t,r))}function iu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(iu=function(){return!!t})()}function uu(t){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(t)}function au(t,e){return au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},au(t,e)}var cu="DFA",lu="NFA",su=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ou(this,e,[t])).onMachineTypeChange=r.onMachineTypeChange.bind(r),r.onAutoLayoutApply=r.onAutoLayoutApply.bind(r),r.onAutoLayoutChange=r.onAutoLayoutChange.bind(r),r.onAutoLabelChange=r.onAutoLabelChange.bind(r),r.onSnapToGridChange=r.onSnapToGridChange.bind(r),r.onConvertToDFA=r.onConvertToDFA.bind(r),r.onConvertToNFA=r.onConvertToNFA.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&au(t,e)}(e,t),r=e,o=[{key:"onMachineTypeChange",value:function(t){var e=t.target.value,r=this.props.session,n=r&&r.getTaskViewConfig?r.getTaskViewConfig():null,o=!n||!1!==n.allowConvert;if(!n||!n.type||o){var i=r.getCurrentModule().getMachineController().getMachineBuilder().getMachine();switch(e){case cu:i.setDeterministic(!0);break;case lu:i.setDeterministic(!1);break;default:throw new Error("Unknown machine type '"+e+"'")}}}},{key:"onAutoLayoutApply",value:function(t){this.props.session.getCurrentModule().getGraphController().applyAutoLayout()}},{key:"onAutoLayoutChange",value:function(t){}},{key:"onAutoLabelChange",value:function(t){this.props.session.getCurrentModule().getGraphController().setAutoRenameNodes(t.target.checked)}},{key:"onSnapToGridChange",value:function(t){}},{key:"onConvertToDFA",value:function(t){var e=this.props.session,r=e.getCurrentModule(),n={graphController:r.getGraphController(),machineController:r.getMachineController()};e.getApp().getNotificationManager().pushNotification(I18N.toString("message.warning.convertNFAToDFA"),Rr,"machine-convert",n,!0)}},{key:"onConvertToNFA",value:function(t){this.props.session.getCurrentModule().getMachineController().convertMachineTo("NFA")}},{key:"render",value:function(){var t=this.props.drawer,r=this.props.session,o=r.getCurrentModule(),i=o.getGraphController(),u=o.getMachineController(),a=o.getGraphView(),c=r&&r.getTaskViewConfig?r.getTaskViewConfig():null,l=c&&c.type?c.type:null,s=u.getMachineBuilder().getMachine().isDeterministic()?cu:lu,f=!c||!1!==c.allowConvert,p=i.shouldAutoRenameNodes(),y=t.isDrawerFullscreen();return n.createElement(jo.A,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},n.createElement("select",{className:Po.A.machine_type_select,value:s,onChange:this.onMachineTypeChange,disabled:!!l&&!f},n.createElement("option",null,cu),n.createElement("option",null,lu)),f&&(s===cu?n.createElement("button",{className:Po.A.convert_button,onClick:this.onConvertToNFA},I18N.toString("action.overview.convertnfa")):n.createElement("button",{className:Po.A.convert_button,onClick:this.onConvertToDFA},I18N.toString("action.overview.convertdfa"))),n.createElement(To.A,null),n.createElement(Co.A,{title:I18N.toString("component.stateslist.title"),initial:!0,full:y},n.createElement(Zo,{graphController:i,graphView:a})),n.createElement(Co.A,{title:"Alphabet",initial:!0,full:y},n.createElement(wi,{machineController:u})),n.createElement(To.A,null),n.createElement(Co.A,{title:I18N.toString("component.transitionchart.title"),full:y,disabled:i.getGraph().getEdgeCount()<=0},n.createElement(xi,{machineController:u})),n.createElement(Co.A,{title:I18N.toString("component.transitiontable.title"),full:y,disabled:i.getGraph().getNodeCount()<=0},n.createElement(Ui,{machineController:u})),n.createElement(To.A,null),n.createElement(tu,{graphController:i}),n.createElement("button",{className:Po.A.autolayout_button,onClick:this.onAutoLayoutApply,disabled:i.getGraph().isEmpty()},I18N.toString("action.overview.autolayout")),n.createElement(To.A,null),n.createElement(ko.A,{id:"overview-auto-label",checked:p,title:I18N.toString("options.autorename"),onChange:this.onAutoLabelChange}))}}],o&&ru(r.prototype,o),i&&ru(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);Object.defineProperty(su,"TITLE",{get:function(){return I18N.toString("component.overview.title")}});const fu=su;var pu=r(1084),yu=r(7445),hu=r(5320),bu=(r(1252),r(3978),r(6703),r(7526),r(3406),r(6193)),vu=r(255),du=r(9815),mu=r(3530),gu=r(9786),wu=r(2170),_u=r(4649);function Su(t){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(t)}function Ou(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Eu(n.key),n)}}function Eu(t){var e=function(t,e){if("object"!=Su(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Su(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Su(e)?e:e+""}function ju(t,e,r){return e=Cu(e),function(t,e){if(e&&("object"==Su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pu()?Reflect.construct(e,r||[],Cu(t).constructor):e.apply(t,r))}function Pu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Pu=function(){return!!t})()}function Cu(t){return Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(t)}function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tu(t,e)}var ku="default",Au="success",xu="failure",Mu="working",Nu=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ju(this,e,[t])).inputElement=null,r.state={value:r.props.defaultValue||"",status:ku},r.onChange=r.onChange.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tu(t,e)}(e,t),r=e,o=[{key:"focus",value:function(){this.inputElement&&this.inputElement.focus()}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.value!==t?this.setState({value:t},e):e&&e()}},{key:"setStatus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.status!==t?this.setState({status:t},e):e&&e()}},{key:"resetStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.status!==ku?this.setState({status:ku},t):t&&t()}},{key:"getValue",value:function(){return this.state.value}},{key:"getStatus",value:function(){return this.state.status}},{key:"onChange",value:function(t){var e=this,r=t.target.value;this.state.value!==r&&this.setState({value:r,status:ku},function(){e.props.onValueChange&&e.props.onValueChange(r,e)})}},{key:"componentDidUpdate",value:function(t){t.defaultValue!==this.props.defaultValue&&this.props.defaultValue!==this.state.value&&this.setState({value:this.props.defaultValue||""})}},{key:"render",value:function(){var t=this,e=this.props.onDelete,r=!!this.props.showDelete,o=this.props.onTest,i=this.props.active,u=this.props.placeholder,a=!!this.props.readOnly,c=this.state.status;return n.createElement("div",{id:this.props.id,className:du.A.test_item_container+(i?" active ":"")+" "+c+" "+this.props.className,style:this.props.style},n.createElement(xo.A,{className:du.A.test_button,title:"Test",disabled:!o,onClick:function(e){return o(e,t)}},c===Au?n.createElement(gu.A,null):c===xu?n.createElement(wu.A,null):c===Mu?n.createElement(_u.A,null):n.createElement(vu.A,null)),n.createElement("div",{className:du.A.test_input},n.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",placeholder:u,value:this.state.value,readOnly:a,onChange:this.onChange}),n.createElement("label",null,this.props.subtitle)),r&&n.createElement(xo.A,{className:du.A.delete_button,title:"Delete",disabled:!e,onClick:function(r){return e(r,t)}},n.createElement(mu.A,null)))}}],o&&Ou(r.prototype,o),i&&Ou(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);const Iu=Nu;function Du(t){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(t)}function Bu(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Lu(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ru(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fu(n.key),n)}}function Fu(t){var e=function(t,e){if("object"!=Du(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Du(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Du(e)?e:e+""}function Vu(t,e,r){return e=Hu(e),function(t,e){if(e&&("object"==Du(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Gu()?Reflect.construct(e,r||[],Hu(t).constructor):e.apply(t,r))}function Gu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Gu=function(){return!!t})()}function Hu(t){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(t)}function zu(t,e){return zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zu(t,e)}var Uu=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Vu(this,e,[t]))._controlTests=[],r._customTests=[],r._testName="test.txt",r._lastControlWords=t.controlWords,r._lastCustomWords=t.customWords,r.onTestNew=r.onTestNew.bind(r),r.onTestUpload=r.onTestUpload.bind(r),r.onTestDownload=r.onTestDownload.bind(r),r.onTestClose=r.onTestClose.bind(r),r.onTestAdd=r.onTestAdd.bind(r),r.onTestDelete=r.onTestDelete.bind(r),r.onTestTest=r.onTestTest.bind(r),r.onTestRunAll=r.onTestRunAll.bind(r),r.onGraphChange=r.onGraphChange.bind(r),r.onTestValueChange=r.onTestValueChange.bind(r),r.syncControlTests(t),r.syncCustomTests(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zu(t,e)}(e,t),r=e,o=[{key:"componentDidMount",value:function(){this.props.graphController.getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"componentWillUnmount",value:function(){this.props.graphController.getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"syncControlTests",value:function(t){var e=this,r=(t.controlWords||[]).filter(function(t){return t&&"string"==typeof t.word}).map(function(t){return{word:t.word,shouldAccept:!!t.shouldAccept}}).map(function(t,r){var n=e._controlTests[r];return n&&n.word===t.word&&n.shouldAccept===t.shouldAccept?n:{id:(0,gt.Os)(),word:t.word,shouldAccept:t.shouldAccept,ref:null}});this._controlTests=r,this._lastControlWords=t.controlWords}},{key:"syncCustomTests",value:function(t){var e=this,r=(t.customWords||[]).filter(function(t){return"string"==typeof t}).map(function(t){return t.trim()}).filter(function(t){return t.length>0});this._customTests=r.map(function(t,r){var n=e._customTests[r];return n?(n.defaultValue=t,n):{id:(0,gt.Os)(),defaultValue:t,ref:null}}),this._lastCustomWords=t.customWords}},{key:"getCustomWordList",value:function(){var t,e=[],r=Bu(this._customTests);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=((n.ref?n.ref.getValue():n.defaultValue)||"").trim();o.length>0&&e.push(o)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"emitCustomWordsChange",value:function(){this.props.onCustomWordsChange&&this.props.onCustomWordsChange(this.getCustomWordList())}},{key:"onGraphChange",value:function(t){var e,r=Bu(this._controlTests.concat(this._customTests));try{for(r.s();!(e=r.n()).done;){var n=e.value;n.ref&&n.ref.resetStatus()}}catch(t){r.e(t)}finally{r.f()}}},{key:"onTestNew",value:function(t){this.isEmpty()||this.onTestClose(t),this.onTestAdd(t)}},{key:"onTestUpload",value:function(t){var e=this,r=new FileReader;r.onload=function(n){try{e._testName=t.name,e._customTests.length=0;var o,i=Bu(n.target.result.split("\n"));try{for(i.s();!(o=i.n()).done;){var u=o.value;(u=u.trim()).length>0&&e._customTests.push({id:(0,gt.Os)(),defaultValue:u,ref:null})}}catch(t){i.e(t)}finally{i.f()}e._customTests.length<=0?e.onTestAdd(null):e.emitCustomWordsChange()}catch(t){r.abort()}},r.readAsText(t)}},{key:"onTestDownload",value:function(t){var e,r=[],n=Bu(this._customTests);try{for(n.s();!(e=n.n()).done;){var o=e.value.ref;o&&r.push(o.getValue())}}catch(t){n.e(t)}finally{n.f()}(0,hu.mR)(this._testName,r.join("\n"))}},{key:"onTestClose",value:function(t){var e=this.props.tester;e.isTesting()&&e.stopTest(),this._customTests.length=0,this.emitCustomWordsChange()}},{key:"onTestAdd",value:function(t){this._customTests.push({id:(0,gt.Os)(),defaultValue:"",ref:null}),this.emitCustomWordsChange()}},{key:"onTestRunAll",value:function(t){var e=this,r=this._controlTests.concat(this._customTests).filter(function(t){return!!t.ref}),n=0,o=function(){var t=r[n];e.onTestTest(null,t.ref,!0,function(){++n<r.length&&o()})};r.length>0&&o()}},{key:"onTestDelete",value:function(t,e){}},{key:"onTestValueChange",value:function(){this.emitCustomWordsChange()}},{key:"onTestTest",value:function(t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.props.immediate,o=this.props.tester,i=e.getValue();e.setState({status:Mu});var u=this.props.graphController,a=this.props.machineController;if(o.startTest(i,u,a).then(function(t){e.setState({status:t?Au:xu})},function(t){e.setState({status:ku})}),n){var c=o.runTest(u,a,!0);r&&c.then(r)}}},{key:"isEmpty",value:function(){return this._customTests.length<=0}},{key:"render",value:function(){var t=this;this._lastControlWords!==this.props.controlWords&&this.syncControlTests(this.props),this._lastCustomWords!==this.props.customWords&&this.syncCustomTests(this.props);var e=this.props.tester,r=this.props.graphController,o=this.isEmpty(),i=e&&e.isTesting(),u=r&&!r.getGraph().isEmpty(),a=this._controlTests.filter(function(t){return t.shouldAccept}),c=this._controlTests.filter(function(t){return!t.shouldAccept}),l=a.length>0,s=c.length>0,f=l||s||!o;return n.createElement("div",{id:this.props.id,className:yu.A.test_container+" "+this.props.className,style:this.props.style},n.createElement("div",{className:yu.A.test_sections+(i?" disabled ":"")},l&&n.createElement("div",{className:yu.A.test_section},n.createElement("div",{className:yu.A.test_section_title},"w  L"),n.createElement("div",{className:yu.A.test_list_scroll_container},n.createElement("div",{className:yu.A.test_list},a.map(function(o){var i=o.id,u=o.word||"",a=t.onTestTest;return e&&!r.getGraph().isEmpty()||(a=null),n.createElement(Iu,{key:i,ref:function(t){return o.ref=t},defaultValue:u,readOnly:!0,showDelete:!1,onTest:a})})))),s&&n.createElement("div",{className:yu.A.test_section},n.createElement("div",{className:yu.A.test_section_title},"w  L"),n.createElement("div",{className:yu.A.test_list_scroll_container},n.createElement("div",{className:yu.A.test_list},c.map(function(o){var i=o.id,u=o.word||"",a=t.onTestTest;return e&&!r.getGraph().isEmpty()||(a=null),n.createElement(Iu,{key:i,ref:function(t){return o.ref=t},defaultValue:u,readOnly:!0,showDelete:!1,onTest:a})})))),n.createElement("div",{className:yu.A.test_section},n.createElement("div",{className:yu.A.test_section_title},"eigene Wrter"),n.createElement(xo.A,{className:yu.A.test_list_add,title:"Add",onClick:this.onTestAdd},n.createElement(bu.A,null),n.createElement("span",{className:yu.A.test_list_count},o?"":""+this._customTests.length)),!o&&n.createElement("div",{className:yu.A.test_list_scroll_container},n.createElement("div",{className:yu.A.test_list},this._customTests.map(function(o,i){var u=o.id,a=o.defaultValue||"",c=t.onTestTest;return e&&!r.getGraph().isEmpty()||(c=null),n.createElement(Iu,{key:u,ref:function(t){return o.ref=t},defaultValue:a,showDelete:!0,onTest:c,onValueChange:t.onTestValueChange,onDelete:function(e,r){t._customTests.splice(i,1),t.emitCustomWordsChange(),t.onTestDelete(e,r)}})}))))),f&&n.createElement(xo.A,{className:yu.A.test_list_runall,title:"Run All",disabled:i||!u,onClick:this.onTestRunAll},n.createElement(vu.A,null)))}}],o&&Ru(r.prototype,o),i&&Ru(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);const Wu=Uu;function Xu(t){return Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(t)}function Yu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ku(n.key),n)}}function Ku(t){var e=function(t,e){if("object"!=Xu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xu(e)?e:e+""}function Qu(t,e,r){return e=qu(e),function(t,e){if(e&&("object"==Xu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$u()?Reflect.construct(e,r||[],qu(t).constructor):e.apply(t,r))}function $u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($u=function(){return!!t})()}function qu(t){return qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(t)}function Zu(t,e){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zu(t,e)}var Ju=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Qu(this,e,[t])).state={stepMode:!1},r.onStepTestChange=r.onStepTestChange.bind(r),r.onAutoErrorCheckChange=r.onAutoErrorCheckChange.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zu(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.session,r=t.getApp(),n=t.getCurrentModule(),o=t.getTaskViewConfig?t.getTaskViewConfig():null,i=o&&Array.isArray(o.customWords)?o.customWords:[];i.length>0&&n&&"function"==typeof n.getCustomTestWords&&"function"==typeof n.setCustomTestWords&&n.getCustomTestWords().length<=0&&n.setCustomTestWords(i);var u=n._tester;u.on("startTest",function(t){n._testMode=!0,r._drawer.setDrawerSoloClass(e),r._drawer.closeDrawer()}),u.on("stopTest",function(t){n._testMode=!1,r._drawer.setDrawerSoloClass(null),r._drawer.openDrawer()})}},{key:"onStepTestChange",value:function(t){this.setState(function(t,e){return{stepMode:!t.stepMode}})}},{key:"onAutoErrorCheckChange",value:function(t){var e=this.props.session.getCurrentModule().getErrorChecker(),r=e.isErrorChecking();e.setErrorChecking(!r),r?this.props.session.getApp().getNotificationManager().clearNotifications(zr):e.showErrors()}},{key:"render",value:function(){var t=this.props.session,r=t.getCurrentModule(),o=r.getGraphController(),i=r.getMachineController(),u=r.getStringTester(),a=r.getErrorChecker(),c=t&&t.getTaskViewConfig?t.getTaskViewConfig():null,l=c&&c.controlWords?c.controlWords:[],s=r&&"function"==typeof r.getCustomTestWords?r.getCustomTestWords():null,f=c&&Array.isArray(c.customWords)?c.customWords:[],p=Array.isArray(s)?s:f,y=this.state.stepMode,h=a.isErrorChecking();return n.createElement(jo.A,{id:this.props.id,className:pu.A.panel_container+" "+this.props.className,style:this.props.style,title:e.TITLE},n.createElement(Wu,{tester:u,graphController:o,machineController:i,immediate:!y,controlWords:l,customWords:p,onCustomWordsChange:function(e){r&&"function"==typeof r.setCustomTestWords&&r.setCustomTestWords(e);var n=t&&"function"==typeof t.getApp?t.getApp():null;n&&"function"==typeof n.onCustomWordsChanged&&n.onCustomWordsChanged(e)}}),n.createElement(ko.A,{id:"testing-step-test",checked:y,onChange:this.onStepTestChange,title:I18N.toString("options.testing.step")}),n.createElement(ko.A,{id:"testing-error-check",checked:h,onChange:this.onAutoErrorCheckChange,title:I18N.toString("options.testing.errorcheck")}))}}])&&Yu(r.prototype,o),i&&Yu(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);Object.defineProperty(Ju,"TITLE",{get:function(){return I18N.toString("component.testing.title")}});const ta=Ju;var ea=r(6171),ra=r(2705),na=r(8696),oa=r(345),ia=r(5161),ua=r(4558),aa=r(9898);function ca(t){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(t)}function la(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sa(n.key),n)}}function sa(t){var e=function(t,e){if("object"!=ca(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ca(e)?e:e+""}function fa(t,e,r){return e=ya(e),function(t,e){if(e&&("object"==ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pa()?Reflect.construct(e,r||[],ya(t).constructor):e.apply(t,r))}function pa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pa=function(){return!!t})()}function ya(t){return ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ya(t)}function ha(t,e){return ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ha(t,e)}const ba=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fa(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ha(t,e)}(e,t),r=e,o=[{key:"render",value:function(){var t=this.props.node,e=this.props.fill,r=this.props.stroke,o=this.props.onMouseOver,i=this.props.onMouseOut,u=this.props.pointerEvents,a=t.getNodeLabel(),c=t.getNodeSize(),l=t.getNodeAccept();return n.createElement(n.Fragment,null,n.createElement(aa.Ay,{position:t,radius:c,label:a,color:e,outline:r,onMouseOver:o?function(e){(e.target.value||(e.target.value={})).source=t,o(e)}:null,onMouseOut:i?function(e){(e.target.value||(e.target.value={})).source=t,i(e)}:null,pointerEvents:u}),l&&n.createElement(aa.Ay,{position:t,radius:.7*c,color:"none",outline:r}))}}],o&&la(r.prototype,o),i&&la(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var va=r(3668);function da(t){return da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(t)}function ma(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ga(n.key),n)}}function ga(t){var e=function(t,e){if("object"!=da(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=da(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==da(e)?e:e+""}function wa(t,e,r){return e=Sa(e),function(t,e){if(e&&("object"==da(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_a()?Reflect.construct(e,r||[],Sa(t).constructor):e.apply(t,r))}function _a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_a=function(){return!!t})()}function Sa(t){return Sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sa(t)}function Oa(t,e){return Oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oa(t,e)}const Ea=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=wa(this,e))._inputController=t,n._graphController=r,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oa(t,e)}(e,t),r=e,(n=[{key:"onDblInputEvent",value:function(t){var e=this._inputController,r=this._graphController;if(e.getCurrentTargetType()===aa.c6){var n=e.getCurrentTargetSource();n.setNodeAccept(!n.getNodeAccept()),r.emitGraphEvent("node-accept-change",{target:n})}}}])&&ma(r.prototype,n),o&&ma(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(va.A);var ja=r(7807);function Pa(t){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(t)}function Ca(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ta(n.key),n)}}function Ta(t){var e=function(t,e){if("object"!=Pa(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pa(e)?e:e+""}function ka(t,e,r){return e=xa(e),function(t,e){if(e&&("object"==Pa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Aa()?Reflect.construct(e,r||[],xa(t).constructor):e.apply(t,r))}function Aa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Aa=function(){return!!t})()}function xa(t){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(t)}function Ma(t,e){return Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ma(t,e)}const Na=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ka(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ma(t,e)}(e,t),r=e,o=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke,r=this.props.onMouseOver,o=this.props.onMouseOut,i=this.props.pointerEvents,u=t.getStartPoint(),a=t.getEndPoint(),c=t.getCenterPoint(),l=t.getEdgeLabel(),s=t.getEdgeDirection();return n.createElement(n.Fragment,null,n.createElement(ja.Ay,{directed:ja.zK,from:u,to:a,center:c,label:l.split(k).join("\n"),direction:s,color:e,onMouseOver:r?function(e){(e.target.value||(e.target.value={})).source=t,r(e)}:null,onMouseOut:o?function(e){(e.target.value||(e.target.value={})).source=t,o(e)}:null,pointerEvents:i}))}}],o&&Ca(r.prototype,o),i&&Ca(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function Ia(t){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(t)}function Da(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ba(n.key),n)}}function Ba(t){var e=function(t,e){if("object"!=Ia(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ia(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ia(e)?e:e+""}function La(t,e,r){return e=Fa(e),function(t,e){if(e&&("object"==Ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ra()?Reflect.construct(e,r||[],Fa(t).constructor):e.apply(t,r))}function Ra(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ra=function(){return!!t})()}function Fa(t){return Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fa(t)}function Va(t,e){return Va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Va(t,e)}const Ga=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=La(this,e,[t]);var n=t.graphView,o=t.graphController,i=n.getInputController();return r._fsaNodeInputHandler=new Ea(i,o),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Va(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){this.props.graphView.getInputContext().addInputHandler(this._fsaNodeInputHandler)}},{key:"componentWillUnmount",value:function(){this.props.graphView.getInputContext().removeInputHandler(this._fsaNodeInputHandler)}},{key:"render",value:function(){var t=this.props.graphView,e=this.props.graphController,r=this.props.editable,o=e.getGraph(),i=t.getInputController(),u=t.getInputContext(),a=this.props.session.getCurrentModule()._tester.targets;return n.createElement(n.Fragment,null,n.createElement(ia.A,{inputController:i,graphController:e,inputContext:u,inputPriority:-1,editable:r}),n.createElement(ra.A,{nodes:o.getNodes(),inputController:i,graphController:e,nodeRenderer:ba,inputContext:u,inputPriority:-1,editable:r}),n.createElement(na.A,{ref:function(t){t&&t.getGraphEdgeInputHandler().setShouldDeleteEdgeWithEmptyLabel(!0).setShouldDeleteEdgePlaceholder(!0)},edges:o.getEdges(),inputController:i,graphController:e,edgeRenderer:Na,inputContext:u,inputPriority:-1,editable:r}),n.createElement(oa.A,{inputController:i,graphController:e,inputContext:u,inputPriority:-1}),n.createElement(ua.A,{nodes:a}))}}])&&Da(r.prototype,o),i&&Da(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var Ha=r(2328),za=r(3937),Ua=r(4944),Wa=r(9793),Xa=r(9143),Ya=r(643);function Ka(t){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(t)}function Qa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$a(n.key),n)}}function $a(t){var e=function(t,e){if("object"!=Ka(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ka(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ka(e)?e:e+""}function qa(t,e,r){return e=Ja(e),function(t,e){if(e&&("object"==Ka(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Za()?Reflect.construct(e,r||[],Ja(t).constructor):e.apply(t,r))}function Za(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Za=function(){return!!t})()}function Ja(t){return Ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(t)}function tc(t,e){return tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tc(t,e)}var ec=["0","1"],rc=[A];const nc=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qa(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tc(t,e)}(e,t),r=e,o=[{key:"renderSymbol",value:function(t){var e=this.props.graphController.getLabelEditor();if(!e)return null;var r=e.inputComponent;return n.createElement(Ya.A,{key:t,parent:r,title:t,onClick:function(e){return r.appendValue(t,k)}})}},{key:"render",value:function(){var t=this,e=this.props.graphController.getLabelEditor(),r=this.props.currentModule.getMachineController().getAlphabet(),o=e&&e.getTarget()instanceof Xa.A,i=e&&e.getTarget()instanceof c.A,u=!r||r.length<=1;return n.createElement("div",{className:Wa.A.tray_container},o&&n.createElement("span",null,n.createElement("span",{className:Wa.A.tray_used},r.map(function(e){return t.renderSymbol(e)})),n.createElement("span",{className:Wa.A.tray_default},u&&ec.map(function(e){return t.renderSymbol(e)}),rc.map(function(e){return t.renderSymbol(e)}))),i&&n.createElement("span",null,n.createElement(Ya.A,{parent:e.inputComponent,title:e.getTarget().getNodeCustom()?"Custom":"Auto",onClick:function(){e.getTarget().setNodeCustom(!e.getTarget().getNodeCustom())}}),n.createElement(Ya.A,{parent:e.inputComponent,title:e.getTarget().getNodeAccept()?"Accept":"Reject",onClick:function(){e.getTarget().setNodeAccept(!e.getTarget().getNodeAccept())}})))}}],o&&Qa(r.prototype,o),i&&Qa(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function oc(t){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(t)}function ic(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uc(n.key),n)}}function uc(t){var e=function(t,e){if("object"!=oc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oc(e)?e:e+""}function ac(t,e,r){return e=lc(e),function(t,e){if(e&&("object"==oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cc()?Reflect.construct(e,r||[],lc(t).constructor):e.apply(t,r))}function cc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cc=function(){return!!t})()}function lc(t){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lc(t)}function sc(t,e){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sc(t,e)}const fc=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ac(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sc(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),r=this.props.graphView,o=this.props.graphController,i=o.getLabelFormatter(),u=r.getInputController();return n.createElement(n.Fragment,null,n.createElement(Ha.A,{graphController:o,inputController:u,viewport:r.getViewportComponent(),session:t}),n.createElement(za.A,{style:{right:0},viewportAdapter:r.getViewportAdapter()}),n.createElement(Ua.A,{ref:function(t){return o.setLabelEditor(t)},labelFormatter:i,viewport:r.getViewportComponent(),saveOnExit:!0},n.createElement(nc,{graphController:o,currentModule:e})))}}])&&ic(r.prototype,o),i&&ic(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var pc=r(6715),yc=r(2435);function hc(t){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(t)}function bc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vc(n.key),n)}}function vc(t){var e=function(t,e){if("object"!=hc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hc(e)?e:e+""}function dc(t,e,r){return e=gc(e),function(t,e){if(e&&("object"==hc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mc()?Reflect.construct(e,r||[],gc(t).constructor):e.apply(t,r))}function mc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mc=function(){return!!t})()}function gc(t){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gc(t)}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wc(t,e)}const _c=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=dc(this,e,[t])).onTapeStepBackward=r.onTapeStepBackward.bind(r),r.onTapeStepForward=r.onTapeStepForward.bind(r),r.onTapeFinish=r.onTapeFinish.bind(r),r.onTapeReset=r.onTapeReset.bind(r),r.onTapeSkipForward=r.onTapeSkipForward.bind(r),r.onTapeSkipBackward=r.onTapeSkipBackward.bind(r),r.onTapeStop=r.onTapeStop.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wc(t,e)}(e,t),r=e,o=[{key:"onTapeStepBackward",value:function(t){this.props.value.stepBackward()}},{key:"onTapeStepForward",value:function(t){this.props.value.stepForward()}},{key:"onTapeSkipForward",value:function(t){}},{key:"onTapeSkipBackward",value:function(t){}},{key:"onTapeReset",value:function(t){this.props.value.reset()}},{key:"onTapeFinish",value:function(t){this.props.value.finish()}},{key:"onTapeStop",value:function(t){this.props.value.stop()}},{key:"render",value:function(){var t=this.props.value,e=t?t.getCurrentTapeIndex():-1;return t?n.createElement("div",{id:this.props.id,className:pc.A.tape_container+" "+this.props.className,style:this.props.style},n.createElement("div",{className:pc.A.tape_control_tray},n.createElement("button",{onClick:this.onTapeStepBackward},"BACK"),n.createElement("button",{onClick:this.onTapeStepForward},"STEP"),n.createElement("button",{onClick:this.onTapeReset},"RESET"),n.createElement("button",{onClick:this.onTapeFinish},"TO END")),n.createElement("div",{className:pc.A.tape_control_tray},n.createElement("button",{onClick:this.onTapeSkipForward},"SKIP TO NEXT"),n.createElement("button",{onClick:this.onTapeSkipBackward},"SKIP TO PREV"),n.createElement("button",{onClick:this.onTapeStop},"STOP")),n.createElement("div",{className:"tape-row"},t.isTapeLeftInfinite()&&n.createElement("div",{className:"tape-row-entry infinite"},n.createElement("span",{className:"tape-row-states"}),n.createElement("label",{className:"tape-row-symbol"},"...")),n.createElement(yc.A,{className:"tape-pointer",style:{opacity:e<0?0:1,left:e+"em"}}),t.getTapeInput().map(function(r,o){var i,u;i=e===o,u=e===o-1;var a=t.getTapeSourceStatesByIndex(o),c=null===a;return n.createElement("div",{key:r+":"+o,className:"tape-row-entry"+(i?" active ":"")+(u?" active-read ":"")+(c?" disabled ":""),onClick:function(e){return c?null:t.setCurrentTapeIndex(o)}},a&&n.createElement("span",{className:"tape-row-states"},a.map(function(t){return n.createElement("label",{key:t.getGraphElementID()},t.getNodeLabel())})),n.createElement("label",{className:"tape-row-symbol"},r))}),t.isTapeRightInfinite()&&n.createElement("div",{className:"tape-row-entry infinite"},n.createElement("span",{className:"tape-row-states"}),n.createElement("label",{className:"tape-row-symbol"},"...")))):null}}],o&&bc(r.prototype,o),i&&bc(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function Sc(t){return Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(t)}function Oc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ec(n.key),n)}}function Ec(t){var e=function(t,e){if("object"!=Sc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sc(e)?e:e+""}function jc(t,e,r){return e=Cc(e),function(t,e){if(e&&("object"==Sc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pc()?Reflect.construct(e,r||[],Cc(t).constructor):e.apply(t,r))}function Pc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Pc=function(){return!!t})()}function Cc(t){return Cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cc(t)}function Tc(t,e){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tc(t,e)}const kc=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),jc(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tc(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){var t=this.props.graphView,e=this.props.tester;return n.createElement(n.Fragment,null,n.createElement(za.A,{style:{right:0},viewportAdapter:t.getViewportAdapter()}),n.createElement(_c,{style:{position:"absolute",bottom:0},value:e?e.getTapeContext():null}))}}])&&Oc(r.prototype,o),i&&Oc(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);var Ac=r(4645);function xc(t){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(t)}function Mc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nc(n.key),n)}}function Nc(t){var e=function(t,e){if("object"!=xc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xc(e)?e:e+""}var Ic=function(){return t=function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._graph=new V,this._graphController=new bt(e,this._graph,null),this._graphViewComponent=n.createRef();var o=this._graphController;e.getRenderManager().addRenderer(u.Ri,function(t){return n.createElement(Ac.A,{ref:r._graphViewComponent,renderGraph:function(t){return n.createElement(Ga,{graphView:t,graphController:o,editable:!r._testMode,session:r._app.getSession()})},renderOverlay:function(t){return r._testMode?n.createElement(kc,{graphView:t,tester:r._tester}):n.createElement(fc,{graphView:t,graphController:o,session:r._app.getSession()})}})}),this._machineController=new we(this),this._errorChecker=new Qr(e,this._graphController,this._machineController),this._tester=new He,this._testMode=!1,this._customTestWords=[],this._broadcastHandler=new mo,this._tutorialHandler=new Eo(e)},e=[{key:"setCustomTestWords",value:function(t){this._customTestWords=Array.isArray(t)?t.filter(function(t){return"string"==typeof t}).map(function(t){return t.trim()}).filter(function(t){return t.length>0}):[]}},{key:"getCustomTestWords",value:function(){return this._customTestWords||[]}},{key:"initialize",value:function(t){var e,r=this;(e=t.getNotificationManager()).registerNotificationLayout(Rr,qe),e.registerNotificationLayout(Gr,Cr),e.registerNotificationLayout(Hr,Lr),e.registerNotificationLayout(Fr,ar),e.registerNotificationLayout(Vr,dr),t.getExportManager().registerExporter(new An(Jr),"session").registerExporter(new Xn(tn),"jflap"),(0,Yn.B8)(t.getExportManager()),t.getImportManager().addImporter(new pn(t,Jr),".fsa.json",".json").addImporter(new wn(t,tn),".jff"),t.getUndoManager().setEventHandlerFactory(function(){return new Kn.A(r._graphController,Jr)});var o=t.getTaskViewConfig?t.getTaskViewConfig():null,u=!!(o&&o.description&&o.description.trim().length>0),a=t.getDrawerManager();a.addPanelClass(function(t){return n.createElement(jo.A,{id:t.id,className:t.className,style:t.style,title:"Finite State Automata"},n.createElement("p",null,"Brought to you with  by the Flap.js team."),n.createElement("p",null,"<- Tap on a tab to begin!"))}),u&&a.addPanelClass(ea.A),a.addPanelClass(fu).addPanelClass(ta),t.getHotKeyManager().registerHotKey("Export to PNG",[i.gd,"KeyP"],function(){t.getExportManager().tryExportFile("image-png",t.getSession())}).registerHotKey("Save Task",[i.gd,"KeyS"],function(){"function"!=typeof t.saveContent?t.getExportManager().tryExportFile("session",t.getSession()):t.saveContent(!1)}),t.getMenuManager().setSubtitleComponentClass(function(t){return n.createElement("select",{onChange:function(t){r._machineController.setMachineType(t.target.value)},value:r._machineController.getMachineType()},n.createElement("option",{value:"DFA"},"DFA"),n.createElement("option",{value:"NFA"},"NFA"))}),t.getTooltipManager().addTooltip(I18N.toString("message.workspace.empty")).addTooltip("Oder du kannst dich entscheiden, nichts zu tun.").addTooltip("Ich kann dagegen nichts tun.").addTooltip("Du solltest jedoch wirklich in Erwgung ziehen, etwas zu tun, um unser beider Willen.").addTooltip("Natrlich ist es dein freier Wille."),t.getBroadcastManager().addMessageHandler(this._broadcastHandler),this._machineController.initialize(this),this._graphController.initialize()}},{key:"update",value:function(t){this._graphController.update(),this._machineController.update(this)}},{key:"destroy",value:function(t){this._machineController.destroy(this),this._graphController.destroy()}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o.v)(t,e,function(){return t.getToolbarComponent().closeBar()})}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getGraphView",value:function(){return this._graphViewComponent.current}},{key:"getErrorChecker",value:function(){return this._errorChecker}},{key:"getStringTester",value:function(){return this._tester}},{key:"getBroadcastHandler",value:function(){return this._broadcastHandler}},{key:"getModuleVersion",value:function(){return"3.0.0"}},{key:"getModuleName",value:function(){return"fsa"}},{key:"getLocalizedModuleName",value:function(){return"Finite Automata"}},{key:"getApp",value:function(){return this._app}}],e&&Mc(t.prototype,e),r&&Mc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const Dc=Ic},7522(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},n.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),n.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),n.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),n.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),n.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),n.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),n.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"}),n.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),n.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),n.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),n.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},7807(t,e,r){r.d(e,{Ay:()=>_,gX:()=>m,hK:()=>b,td:()=>d,zK:()=>y});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f=Math.PI/6,p=Math.PI/4,y="forward",h="both",b="forward-endpoint",v="backward-endpoint",d="edge",m="label",g=function(t){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M "+(t.position.x-t.length*Math.sin(t.angle-f))+" "+(t.position.y-t.length*Math.cos(t.angle-f))+" L "+t.position.x+" "+t.position.y+" L "+(t.position.x-t.length*Math.sin(t.angle+f))+" "+(t.position.y-t.length*Math.cos(t.angle+f)),stroke:t.color,fill:"none"}),n.createElement("circle",{cx:t.position.x-t.length*Math.cos(-t.angle+p),cy:t.position.y-t.length*Math.sin(-t.angle+p),r:t.length,fill:"transparent",cursor:"pointer",onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,pointerEvents:t.pointerEvents}))},w=function(t){return n.createElement("g",{transform:"translate("+t.position.x+","+t.position.y+") rotate("+180*t.direction/Math.PI+")"},t.labels&&t.labels.length>0&&t.labels.map(function(e,r){var o=t.onMouseOver,i=t.onMouseOut;return n.createElement("text",{key:e+"."+r,transform:"translate(0,"+-15*(r+1)+")"+(t.reverse?" scale(-1,-1)":""),alignmentBaseline:"central",style:{userSelect:"none"},textAnchor:"middle",fill:t.color,cursor:"pointer",onMouseOver:o?function(t){(t.target.value||(t.target.value={})).index=r,o(t)}:null,onMouseOut:i?function(t){(t.target.value||(t.target.value={})).index=r,i(t)}:null,pointerEvents:t.pointerEvents},e)}))};const _=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,o=[{key:"render",value:function(){var t,e,r=this.props.directed||"undirected",o=r===y||r===h?this.props.forwardEndpointRenderer||this.props.endpointRenderer||g:null,i="backward"===r||r===h?this.props.backwardEndpointRenderer||this.props.endpointRenderer||g:null,u=this.props.labelRenderer||w,a=this.props.from,c=this.props.to,l=this.props.center,s=this.props.label||"",f=this.props.direction||0,p=this.props.color||"#000000",_=this.props.onMouseOver,S=this.props.onMouseOut,O=this.props.pointerEvents||"visiblePainted",E=!1,j=null,P=a.x-c.x,C=a.y-c.y,T=a.x-l.x,k=a.y-l.y,A=Math.atan2(C,P),x=Math.atan2(k,T);if(Math.abs(A-x)<=.01)e=Math.atan2(l.x-c.x,l.y-c.y)+Math.PI,t=Math.atan2(l.x-a.x,l.y-a.y)+Math.PI,j="L "+c.x+" "+c.y,E=!1;else{var M=(4*l.x-a.x-c.x)/2,N=(4*l.y-a.y-c.y)/2;e=Math.atan2(M-c.x,N-c.y)+Math.PI,t=Math.atan2(M-a.x,N-a.y)+Math.PI,j="Q "+M+" "+N+" "+c.x+" "+c.y,E=N>l.y+4}var I="M ".concat(a.x," ").concat(a.y," ").concat(j);return n.createElement("g",null,n.createElement("path",{d:I,stroke:p,fill:"none"}),n.createElement("path",{d:I,stroke:"transparent",strokeWidth:"".concat(8,"px"),fill:"none",cursor:"pointer",onMouseOver:_?function(t){(t.target.value||(t.target.value={})).type=d,_(t)}:null,onMouseOut:S?function(t){(t.target.value||(t.target.value={})).type=d,S(t)}:null,pointerEvents:O}),o&&n.createElement(o,{position:c,angle:e,length:10,color:p,onMouseOver:_?function(t){(t.target.value||(t.target.value={})).type=b,_(t)}:null,onMouseOut:S?function(t){(t.target.value||(t.target.value={})).type=b,S(t)}:null,pointerEvents:O}),i&&n.createElement(i,{position:a,angle:t,length:10,color:p,onMouseOver:_?function(t){(t.target.value||(t.target.value={})).type=v,_(t)}:null,onMouseOut:S?function(t){(t.target.value||(t.target.value={})).type=v,S(t)}:null,pointerEvents:O}),u&&n.createElement(u,{position:l,labels:s.split("\n"),direction:f,reverse:E,color:p,onMouseOver:_?function(t){(t.target.value||(t.target.value={})).type=m,_(t)}:null,onMouseOut:S?function(t){(t.target.value||(t.target.value={})).type=m,S(t)}:null,pointerEvents:O}))}}],o&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Component)},7892(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{A:()=>u});const u=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Missing module for machine controller");if(!r)throw new Error("Missing machine builder for machine controller");this._module=e,this._machineBuilder=r},(e=[{key:"initialize",value:function(t){this._machineBuilder.initialize(t)}},{key:"destroy",value:function(t){this._machineBuilder.destroy(t)}},{key:"update",value:function(t){}},{key:"getMachineBuilder",value:function(){return this._machineBuilder}},{key:"getModule",value:function(){return this._module}}])&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}()},8498(t,e,r){r.d(e,{A:()=>p});var n=r(6540),o=r(2655);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,r){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,(i=[{key:"render",value:function(){return n.createElement("div",{id:this.props.id,className:o.A.panel_divider+" "+this.props.className,style:this.props.style})}}])&&u(r.prototype,i),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(n.Component)},8629(t,e,r){r.d(e,{A:()=>b,p:()=>h});var n=r(3668),o=r(5505),i=r(472),u=r(9898);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,r){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var h="start-marker-change";const b=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=s(this,e))._inputController=t,n._graphController=r,n._ghostMarker=null,n._cachedMarkerTarget=null,n._cachedPointer={x:0,y:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,(n=[{key:"onDragStart",value:function(t){var e=this._inputController;if(e.getCurrentTargetType()===i.l){var r=e.getCurrentTargetSource();return this._cachedMarkerTarget=r,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,this._ghostMarker=this._cachedPointer,e.bindActiveTarget(r,i.l,!0),e.setNodeEventsOnly(!0),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController;if(e.getActiveTargetType()===i.l)if(e.getImmediateTargetType()===u.c6){var r=e.getImmediateTargetSource();this._ghostMarker=r}else this._cachedPointer.x=(0,o.Cc)(this._cachedPointer.x,t.x,.6),this._cachedPointer.y=(0,o.Cc)(this._cachedPointer.y,t.y,.6),this._ghostMarker!==this._cachedPointer&&(this._ghostMarker=this._cachedPointer)}},{key:"onDragStop",value:function(t){var e=this._inputController,r=e.getActiveTargetType();e.unbindActiveTarget(),r===i.l&&(this._ghostMarker&&this._ghostMarker!==this._cachedPointer&&(this._graphController.getGraph().setStartNode(this._ghostMarker),this._graphController.emitGraphEvent(h,{target:this._ghostMarker})),this._ghostMarker=null)}},{key:"getGhostMarker",value:function(){return this._ghostMarker}}])&&c(r.prototype,n),a&&c(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(n.A)},8696(t,e,r){r.d(e,{A:()=>O});var n=r(6540),o=r(7807);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,r){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,i=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke,r=this.props.onMouseOver,i=this.props.onMouseOut,u=this.props.pointerEvents,a=t.getStartPoint(),c=t.getEndPoint(),l=t.getCenterPoint(),s=t.getEdgeLabel(),f=t.getEdgeDirection();return n.createElement(n.Fragment,null,n.createElement(o.Ay,{directed:o.zK,from:a,to:c,center:l,label:s,direction:f,color:e,onMouseOver:r?function(e){(e.target.value||(e.target.value={})).source=t,r(e)}:null,onMouseOut:i?function(e){(e.target.value||(e.target.value={})).source=t,i(e)}:null,pointerEvents:u}))}}],i&&u(r.prototype,i),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(n.Component);var y=r(9923);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return v(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function m(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function g(t,e,r){return e=_(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,r||[],_(t).constructor):e.apply(t,r))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w=function(){return!!t})()}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}const O=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=g(this,e,[t]);var n=t.inputController,o=t.graphController;return r._graphEdgeInputHandler=new y.Ay(n,o),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),r=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._graphEdgeInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._graphEdgeInputHandler)}},{key:"getGraphEdgeInputHandler",value:function(){return this._graphEdgeInputHandler}},{key:"render",value:function(){var t,e=this.props.inputController,r=this.props.edgeRenderer||p,o=this.props.editable,i=e?e.onMouseOver:null,u=e?e.onMouseOut:null,a=[],c=b(this.props.edges);try{for(c.s();!(t=c.n()).done;){var l=t.value;a.push(n.createElement(r,{key:l.getGraphElementID(),edge:l,stroke:"var(--color-graph-text)",onMouseOver:i,onMouseOut:u,pointerEvents:o&&e&&e.hasPointerEvents(l)?"all":"none"}))}}catch(t){c.e(t)}finally{c.f()}return n.createElement("g",null,a)}}])&&d(r.prototype,o),i&&d(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component)},9058(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function u(t,e,r){return e=s(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function c(t,e,r,n){var o=l(s(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},l.apply(null,arguments)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}r.d(e,{A:()=>p});const p=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,e,[t,r]))._nodes=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,(n=[{key:"setStartNode",value:function(t){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var e=this._nodes.indexOf(t);if(e>0){var r=this._nodes[0];this._nodes[0]=t,this._nodes[e]=r}else if(e<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"getNodeByIndex",value:function(t){return this._nodes[t]}},{key:"addNode",value:function(t){return this._nodes.push(t),c(e,"addNode",this,3)([t])}},{key:"deleteNode",value:function(t){c(e,"deleteNode",this,3)([t]);var r=this._nodes.indexOf(t);r>=0&&this._nodes.splice(r,1)}},{key:"clearNodes",value:function(){c(e,"clearNodes",this,3)([]),this._nodes.length=0}},{key:"getNodes",value:function(){return this._nodes}}])&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(9613).A)},9066(t,e,r){r.d(e,{A:()=>a});var n=r(9143);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}const a=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"getDefaultLabel",value:function(t){return t instanceof n.A?this.getDefaultEdgeLabel():this.getDefaultNodeLabel()}},{key:"getLabelFormatter",value:function(t){return t instanceof n.A?this.getEdgeLabelFormatter():this.getNodeLabelFormatter()}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){throw new Error("Node label formatting is not supported")}},{key:"getEdgeLabelFormatter",value:function(){throw new Error("Edge label formatting is not supported")}}])&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}()},9143(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function u(t,e,r){return e=l(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},c.apply(null,arguments)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}r.d(e,{A:()=>p});var f=function(t){function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,e,[t]))._from=r,n._to=o,n._label="",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,n=[{key:"setEdgeFrom",value:function(t){if(!t)throw new Error("Source of edge cannot be null");return this._from=t,this}},{key:"setEdgeTo",value:function(t){return this._to=t,this}},{key:"setEdgeLabel",value:function(t){return this._label=t,this}},{key:"getEdgeDirection",value:function(){var t=this._from,e=this._to,r=Math.PI/2,n=0;if(this.isPlaceholder())n=Math.PI/4;else{var o=e.y-t.y,i=e.x-t.x;n=Math.atan2(o,i)}return(n>r||n<-r)&&(n+=Math.PI),n}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from;return t.x=e.x,t.y=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,r=this._to;if(this.isPlaceholder()){var n=this.getPlaceholderLength()/2;t.x=e.x+n,t.y=e.y+n}else t.x=e.x+(r.x-e.x)/2,t.y=e.y+(r.y-e.y)/2;return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var e=this._from,r=this.getPlaceholderLength();t.x=e.x+r,t.y=e.y+r}else{var n=this._to;t.x=n.x,t.y=n.y}return t}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return null===this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeFrom",value:function(){return this._from}},{key:"getEdgeTo",value:function(){return this._to}},{key:"getHashString",value:function(){var t,r,n,o,i,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this._from?this._from.getHashString(u):"",s=this._to?this._to.getHashString?this._to.getHashString(u):"0":"";return(t=e,r="getHashString",n=this,i=c(l(1&(o=3)?t.prototype:t),r,n),2&o&&"function"==typeof i?function(t){return i.apply(n,t)}:i)([u])+":"+a+","+s+"."+this._label}}],n&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(5752).A);const p=f},9240(t,e,r){r.d(e,{B8:()=>et});var n=r(3411),o=r(1404),i=r(6540);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function l(t,e,r){return e=f(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}const y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){return i.createElement("svg",{className:"png-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.createElement("g",null,i.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.createElement("g",null,i.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),i.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),i.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"})),i.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"})))}}])&&a(r.prototype,n),o&&a(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.Component);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function d(t,e,r){return e=g(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,r||[],g(t).constructor):e.apply(t,r))}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(m=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}const _=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){return i.createElement("svg",{className:"jpg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.createElement("g",null,i.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.createElement("polygon",{fill:"#26B99A",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}),i.createElement("path",{fill:"#14A085",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.createElement("g",null,i.createElement("path",{fill:"#FFFFFF",d:"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z"}),i.createElement("path",{fill:"#FFFFFF",d:"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z"}),i.createElement("path",{fill:"#FFFFFF",d:"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H39.5z"}))))}}])&&b(r.prototype,n),o&&b(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.Component);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function E(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}function j(t,e,r){return e=C(e),function(t,e){if(e&&("object"==S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,P()?Reflect.construct(e,r||[],C(t).constructor):e.apply(t,r))}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(P=function(){return!!t})()}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}const k=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){return i.createElement("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.createElement("g",null,i.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.createElement("path",{fill:"#E57E25",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.createElement("g",null,i.createElement("path",{fill:"#FFFFFF",d:"M21.459,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116s-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39c0.296-0.26,0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S21.459,49.7,21.459,50.238z"}),i.createElement("path",{fill:"#FFFFFF",d:"M25.861,53.055L22.73,42.924h1.873l2.338,8.695l2.475-8.695h1.859l-3.281,10.131H25.861z"}),i.createElement("path",{fill:"#FFFFFF",d:"M40.668,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S38.561,52.954,38.255,53s-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.822-0.754,1.333-0.978 s1.062-0.335,1.654-0.335c0.547,0,1.058,0.091,1.531,0.273s0.897,0.456,1.271,0.82l-1.135,1.012 c-0.219-0.265-0.47-0.456-0.752-0.574s-0.574-0.178-0.875-0.178c-0.337,0-0.658,0.063-0.964,0.191s-0.579,0.344-0.82,0.649 s-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777s0.314,0.911,0.547,1.23 s0.497,0.556,0.793,0.711s0.608,0.232,0.937,0.232c0.101,0,0.234-0.007,0.403-0.021s0.337-0.036,0.506-0.068 s0.33-0.075,0.485-0.13s0.269-0.132,0.342-0.232v-2.488h-1.709v-1.121H40.668z"})),i.createElement("path",{fill:"#C8BDB8",d:"M45.5,22v-6h-6v2h-6v-4h-10v4h-6v-2h-6v6h6v-2h3.548c-4.566,2.636-7.548,7.588-7.548,13 c0,0.552,0.447,1,1,1s1-0.448,1-1c0-5.246,3.229-9.999,8-11.995V24h10v-2.995c4.771,1.997,8,6.75,8,11.995c0,0.552,0.447,1,1,1 s1-0.448,1-1c0-5.412-2.982-10.364-7.548-13H39.5v2H45.5z M15.5,20h-2v-2h2V20z M31.5,22h-6v-3.754V16h6v2.246V22z M41.5,18h2v2h-2 V18z"})))}}])&&O(r.prototype,n),o&&O(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.Component);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A(e)?e:e+""}function N(t,e,r){return e=D(e),function(t,e){if(e&&("object"==A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I()?Reflect.construct(e,r||[],D(t).constructor):e.apply(t,r))}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I=function(){return!!t})()}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}const L=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){return i.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},i.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),i.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),i.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"}),i.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}))}}])&&x(r.prototype,n),o&&x(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(i.PureComponent);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function F(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return V(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function H(t){var e=function(t,e){if("object"!=R(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==R(e)?e:e+""}function z(t,e,r){return e=Y(e),function(t,e){if(e&&("object"==R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U()?Reflect.construct(e,r||[],Y(t).constructor):e.apply(t,r))}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U=function(){return!!t})()}function W(t,e,r,n){var o=X(Y(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function X(){return X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},X.apply(null,arguments)}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}var Q="png",$="jpg",q="svg",Z="bw",J=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=z(this,e))._imageType=r,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(e,t),r=e,(n=[{key:"exportTarget",value:function(t,e){var r=e,n=r.getCurrentModule(),o=r.getProjectName(),i=r.getCurrentModule().getGraphView().getViewportComponent().getSVGElement(),u=i.viewBox.baseVal,a=u.width,c=u.height,l=this.processSVGForExport(i,a,c,n),s=this._imageType===Z?Q:this._imageType;return Promise.resolve({name:o+"."+s,type:"image",data:l,width:a,height:c,"image-type":s})}},{key:"processColorAttribute",value:function(t,e){if(!e)return e;var r=e.indexOf("var(--");if(r<0)return e;var n=e.indexOf(")",r),i=e.substring(r+4,n),u=t.getStyleByName(i),a=u?u.getValue():"#000000";if(this._imageType===Z){var c=o.K9(a);o.Bf(c,c),a=o.ml(c)}return a}},{key:"processSVGForExport",value:function(t,e,r,n){var o=n.getGraphController(),i=n.getGraphView().getViewportAdapter(),u=i.getOffsetX(),a=i.getOffsetY(),c=o.getGraph().getBoundingRect(),l=c.minX+u-30,s=c.minY+a-0,f=c.width+60,p=c.height+0,y=t.cloneNode(!0);y.setAttribute("viewBox",l+" "+s+" "+f+" "+p),y.setAttribute("width",e),y.setAttribute("height",r),y.setAttribute("font-size","16px"),y.setAttribute("font-family","monospace"),y.setAttribute("style",".graph-ui {display: none;}");var h,b=n.getApp().getThemeManager(),v=F(y.getElementsByTagName("*"));try{for(v.s();!(h=v.n()).done;){var d=h.value,m=d.getAttribute("stroke"),g=this.processColorAttribute(b,m);m!==g&&d.setAttribute("stroke",g);var w=d.getAttribute("fill"),_=this.processColorAttribute(b,w);w!==_&&d.setAttribute("fill",_)}}catch(t){v.e(t)}finally{v.f()}for(var S=y.getElementsByClassName("graph-ui");S.length>0;)S[0].remove();return y}},{key:"getIconClass",value:function(){switch(this._imageType){case Q:return y;case $:return _;case q:return k;case Z:return L;default:return null}}},{key:"getLabel",value:function(){switch(this._imageType){case Q:return I18N.toString("file.export.png");case $:return I18N.toString("file.export.jpg");case q:return I18N.toString("file.export.svg");case Z:return I18N.toString("file.export.bw");default:return W(e,"getLabel",this,3)([])}}},{key:"getTitle",value:function(){switch(this._imageType){case Q:return I18N.toString("file.export.png.hint");case $:return I18N.toString("file.export.jpg.hint");case q:return I18N.toString("file.export.svg.hint");case Z:return I18N.toString("file.export.bw.hint");default:return W(e,"getTitle",this,3)([])}}},{key:"getImageType",value:function(){return this._imageType}}])&&G(r.prototype,n),i&&G(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.A),tt=[new J(Q),new J($),new J(q),new J(Z)];function et(t){var e,r=F(tt);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.registerExporter(n,"image-"+n.getImageType())}}catch(t){r.e(t)}finally{r.f()}}},9613(t,e,r){r.d(e,{A:()=>p});var n=r(1074),o=r(9143),i=r(5505);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}var f=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.A,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.A;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodeClass=e,this._edgeClass=r,this._nodeMapping=new Map,this._edgeMapping=new Map},e=[{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}},{key:"getBoundingRect",value:function(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var t,e=Number.MAX_VALUE,r=Number.MAX_VALUE,n=Number.MIN_VALUE,o=Number.MIN_VALUE,i=0,u=a(this._nodeMapping.values());try{for(u.s();!(t=u.n()).done;){var c=t.value,l=c.x,s=c.y,f=c.getNodeSize();f>i&&(i=f),e=Math.min(e,l),n=Math.max(n,l),r=Math.min(r,s),o=Math.max(o,s)}}catch(t){u.e(t)}finally{u.f()}e-=i,r-=i,n+=i,o+=i;var p,y=Number.MAX_VALUE,h=Number.MAX_VALUE,b=Number.MIN_VALUE,v=Number.MIN_VALUE,d={x:0,y:0},m={x:0,y:0},g={x:0,y:0},w=a(this._edgeMapping.values());try{for(w.s();!(p=w.n()).done;){var _=p.value;_.getStartPoint(d),_.getEndPoint(m),_.getCenterPoint(g);var S=d.x,O=d.y,E=m.x,j=m.y,P=g.x,C=g.y;y=Math.min(y,S,E,P),b=Math.max(b,S,E,P),h=Math.min(h,O,j,C),v=Math.max(v,O,j,C)}}catch(t){w.e(t)}finally{w.f()}var T={minX:Math.min(e,y),minY:Math.min(r,h),maxX:Math.max(n,b),maxY:Math.max(o,v),width:0,height:0};return T.width=T.maxX-T.minX,T.height=T.maxY-T.minY,T}},{key:"getHashCode",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r="",n=a(this._nodeMapping.values());try{for(n.s();!(t=n.n()).done;)r+=t.value.getHashString(e)+","}catch(t){n.e(t)}finally{n.f()}r+="|";var o,u=a(this._edgeMapping.values());try{for(u.s();!(o=u.n()).done;)r+=o.value.getHashString(e)+","}catch(t){u.e(t)}finally{u.f()}return(0,i.e2)(r)}},{key:"createNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(r||(0,i.Os)(),t,e))}},{key:"addNode",value:function(t){return t.getGraphElementID()||t.setGraphElementID((0,i.Os)()),this._nodeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteNode",value:function(t){var e=t.getGraphElementID();if(this._nodeMapping.has(e)){this._nodeMapping.delete(e);var r,n=[],o=a(this.getEdges());try{for(o.s();!(r=o.n()).done;){var i=r.value;i.getEdgeFrom()===t?n.push(i):i.getEdgeTo()===t&&i.setEdgeTo(null)}}catch(t){o.e(t)}finally{o.f()}for(var u=0,c=n;u<c.length;u++){var l=c[u];this.deleteEdge(l)}}}},{key:"clearNodes",value:function(){this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(t){return this._nodeMapping.has(t)?this._nodeMapping.get(t):null}},{key:"getNodesByLabel",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=a(this.getNodes());try{for(n.s();!(e=n.n()).done;){var o=e.value;o.getNodeLabel()===t&&r.push(o)}}catch(t){n.e(t)}finally{n.f()}return r}},{key:"getNodes",value:function(){return Array.from(this._nodeMapping.values())}},{key:"getNodeCount",value:function(){return this._nodeMapping.size}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"formatEdge",value:function(t){return t}},{key:"createEdge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(r||(0,i.Os)(),t,e))}},{key:"addEdge",value:function(t){return t.getGraphElementID()||t.setGraphElementID((0,i.Os)()),this._edgeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteEdge",value:function(t){var e=t.getGraphElementID();this._edgeMapping.has(e)&&this._edgeMapping.delete(e)}},{key:"clearEdges",value:function(){this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(t){return this._edgeMapping.has(t)?this._edgeMapping.get(t):null}},{key:"getEdgesByLabel",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=a(this.getEdges());try{for(n.s();!(e=n.n()).done;){var o=e.value;o.getEdgeLabel()===t&&r.push(o)}}catch(t){n.e(t)}finally{n.f()}return r}},{key:"getEdges",value:function(){return Array.from(this._edgeMapping.values())}},{key:"getEdgeCount",value:function(){return this._edgeMapping.size}},{key:"getEdgeClass",value:function(){return this._edgeClass}}],e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const p=f},9755(t,e,r){r.d(e,{Ay:()=>p});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,e,[t])).element=null,r.ignoreSaveOnExit=!1;var n=t.defaultValue||"";return r.state={value:n,prevValue:n},r.onChange=r.onChange.bind(r),r.onBlur=r.onBlur.bind(r),r.onKeyUp=r.onKeyUp.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,o=[{key:"componentWillReceiveProps",value:function(t){this.hasFocus()||(!this.state.value||this.state.value.length<=0||this.state.value===this.props.defaultValue)&&this.setState({value:t.defaultValue})}},{key:"value",get:function(){return this.state.value}},{key:"focus",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.element.select():this.element.focus()}},{key:"blur",value:function(){this.element.blur()}},{key:"hasFocus",value:function(){return this.element===document.activeElement}},{key:"onChange",value:function(t){if(this.props.filter){var e=t.target.value.replace(this.props.filter,"");this.setState({value:e})}else this.setState({value:t.target.value})}},{key:"onBlur",value:function(t){var e=this;if(this.ignoreSaveOnExit||"none"===this.props.captureOnExit){var r=this.formatValue(t.target.value);this.setState({value:r}),this.ignoreSaveOnExit=!1}else if("save"===this.props.captureOnExit){var n=this.state.prevValue,o=t.target.value||this.props.defaultValue||"";this.resetValue(o,function(){e.props.onSubmit&&e.props.onSubmit(o,n)})}else"reset"===this.props.captureOnExit&&this.resetValue(null)}},{key:"onKeyUp",value:function(t){var e=this;if("Enter"===t.key){if(this.props.multiline&&t.shiftKey)return!0;var r=this.state.prevValue,n=t.target.value||this.props.defaultValue||"";return this.setValue(n,function(){e.ignoreSaveOnExit=!0,e.props.onSubmit&&e.props.onSubmit(n,r),e.element.blur()}),t.preventDefault(),t.stopPropagation(),!1}if("Escape"===t.key){var o=this.state.prevValue;return this.resetValue(o,function(){e.ignoreSaveOnExit=!0,e.props.onSubmit&&e.props.onSubmit(o||"",o),e.element.blur()}),t.preventDefault(),t.stopPropagation(),!1}}},{key:"resetValue",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==e){var n=this.formatValue(e);this.setState({value:n,prevValue:e},r)}else this.setState(function(e,r){return{value:t.formatValue(e.prevValue)}},r)}},{key:"setValue",value:function(t,e){t=t&&0!=t.length?this.formatValue(t):this.props.defaultValue||"",this.setState({value:t},e)}},{key:"appendValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=this.state.value;r=0==this.element.selectionStart&&this.element.selectionEnd==t.length?t:r&&0!=r.length?r+e+t:t,this.props.filter&&(r=r.replace(this.props.filter,"")),this.setState({value:this.formatValue(r)})}},{key:"formatValue",value:function(t){var e=this.props.formatter;return(e?e(t):t)||""}},{key:"render",value:function(){var t=this;return this.props.multiline?n.createElement("textarea",{id:this.props.id,className:this.props.className,style:this.props.style,ref:function(e){return t.element=e},type:"text",value:this.state.value,rows:"1",onChange:this.onChange,onBlur:this.onBlur,onKeyUp:this.onKeyUp}):n.createElement("input",{id:this.props.id,className:this.props.className,style:this.props.style,ref:function(e){return t.element=e},type:"text",value:this.state.value,onChange:this.onChange,onBlur:this.onBlur,onKeyUp:this.onKeyUp})}}],o&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Component);const p=f},9786(t,e,r){r.d(e,{A:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(o=[{key:"render",value:function(){return n.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.PureComponent)},9898(t,e,r){r.d(e,{Ay:()=>h,c6:()=>f});var n=r(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,r){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f="node",p=function(t){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:t.position.x,cy:t.position.y,r:t.radius,fill:t.color,stroke:t.outline}),(t.onMouseOver||t.onMouseOut)&&n.createElement("circle",{cx:t.position.x,cy:t.position.y,r:t.radius+4,fill:"transparent",cursor:"pointer",onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,pointerEvents:t.pointerEvents}))},y=function(t){return n.createElement("text",{x:t.position.x,y:t.position.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:"".concat(1-Math.min(Math.max(t.label.length-2,0)/6,.5),"em")},textAnchor:"middle",fill:t.color},t.label)};const h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,o=[{key:"render",value:function(){var t=this.props.position,e=this.props.radius||16,r=this.props.label||"",o=this.props.color||"#FFFFFF",i=this.props.outline||"#000000",u=this.props.onMouseOver,a=this.props.onMouseOut,c=this.props.pointerEvents||"visiblePainted",l=p,s=y;return n.createElement("g",null,l&&n.createElement(l,{position:t,radius:e,color:o,outline:i,onMouseOver:u?function(t){(t.target.value||(t.target.value={})).type=f,u(t)}:null,onMouseOut:a?function(t){(t.target.value||(t.target.value={})).type=f,a(t)}:null,pointerEvents:c}),s&&n.createElement(s,{position:t,label:r,color:i}))}}],o&&i(r.prototype,o),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Component)},9923(t,e,r){r.d(e,{Ay:()=>m,Pw:()=>d,Yi:()=>b,rR:()=>h});var n=r(3668),o=r(5505),i=r(7807),u=r(9898);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,r){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var h="edge-create",b="edge-delete",v="edge-to-change",d="error-edge-edit-while-delete";const m=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=s(this,e))._inputController=t,n._graphController=r,n._cachedEdgeQuads={radians:0,length:0},n._cachedEdgeTo=null,n._cachedPointer={x:0,y:0},n._newEdge=!1,n._shouldDeleteEdgePlaceholder=!1,n._shouldDeleteEdgeWithEmptyLabel=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,(n=[{key:"setShouldDeleteEdgePlaceholder",value:function(t){return this._shouldDeleteEdgePlaceholder=t,this}},{key:"setShouldDeleteEdgeWithEmptyLabel",value:function(t){return this._shouldDeleteEdgeWithEmptyLabel=t,this}},{key:"onInputEvent",value:function(t){var e=this,r=this._inputController,n=r.getCurrentTargetType();if(r.isTrashMode()&&(n===i.td||n===i.hK||n===i.gX)){var o=r.getCurrentTargetSource(),u=this._graphController;return u.getGraph().deleteEdge(o),u.emitGraphEvent(b,{target:o}),!0}if(n===i.gX||n===i.td){var a=r.getCurrentTargetSource(),c=this._graphController;return c.openLabelEditor(a,a.getEdgeLabel(),function(t,r,n){e._shouldDeleteEdgeWithEmptyLabel&&!r?(c.getGraph().deleteEdge(a),c.emitGraphEvent(b,{target:a})):n&&c.emitGraphEvent("edge-label-change",{target:a})}),!0}return!1}},{key:"onAltInputEvent",value:function(t){return this.onInputEvent(t)}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return this._graphController.emitGraphEvent(d),!1;var r=e.getCurrentTargetType();if(!e.isMoveMode(t.getInputAdapter())&&r===u.c6){var n=this._graphController.getGraph(),o=e.getCurrentTargetSource();this._cachedEdgeQuads.radians=0,this._cachedEdgeQuads.length=0,this._cachedEdgeTo=null,this._newEdge=!0,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y;var a=n.createEdge(o,this._cachedPointer);return e.bindActiveTarget(a,i.hK,!1),e.setNodeEventsOnly(!0),!0}if(r===i.hK){var c=e.getCurrentTargetSource();return this._cachedEdgeQuads.radians=c.getQuadraticRadians(),this._cachedEdgeQuads.length=c.getQuadraticLength(),this._cachedEdgeTo=c.getEdgeTo(),this._newEdge=!1,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,c.setQuadraticRadians(0),c.setQuadraticLength(0),c.setEdgeTo(this._cachedPointer),e.bindActiveTarget(c,r,!1),e.setNodeEventsOnly(!0),!0}if(r===i.td){var l=e.getCurrentTargetSource();return this._cachedEdgeQuads.radians=l.getQuadraticRadians(),this._cachedEdgeQuads.length=l.getQuadraticLength(),this._cachedEdgeTo=l.getEdgeTo(),this._newEdge=!1,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,e.bindActiveTarget(l,r,!1),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController,r=e.getActiveTargetSource(),n=e.getActiveTargetType();n===i.td?r.setQuadraticByCoords(t.x,t.y):n===i.hK&&this.handleDragMoveForEndpoint(r,n,t,e)}},{key:"handleDragMoveForEndpoint",value:function(t,e,r,n){if(n.getImmediateTargetType()===u.c6){var i=n.getImmediateTargetSource();if(t.getEdgeTo()===this._cachedEdgeTo)t.setQuadraticRadians(this._cachedEdgeQuads.radians),t.setQuadraticLength(this._cachedEdgeQuads.length);else if(t.getEdgeFrom()===i){var a=t.getEdgeFrom(),c=a.x-r.x,l=a.y-r.y,s=Math.PI+Math.atan2(l,c);t.setQuadraticRadians(s),t.setEdgeTo(i)}else t.setQuadraticRadians(0),t.setQuadraticLength(0),t.setEdgeTo(i)}else this._cachedPointer.x=(0,o.Cc)(this._cachedPointer.x,r.x,.6),this._cachedPointer.y=(0,o.Cc)(this._cachedPointer.y,r.y,.6),t.getEdgeTo()!==this._cachedPointer&&(t.setQuadraticRadians(0),t.setQuadraticLength(0),t.setEdgeTo(this._cachedPointer))}},{key:"onDragStop",value:function(t){var e=this,r=this._inputController,n=r.getActiveTargetSource(),o=r.getActiveTargetType(),u=this._newEdge;r.unbindActiveTarget(),o===i.hK&&r.setNodeEventsOnly(!1);var a=this._graphController;if(r.isTrashMode())return a.getGraph().deleteEdge(n),void a.emitGraphEvent(b,{target:n});if(o===i.td)a.emitGraphEvent("edge-quad-change",{target:n});else{var c=n.getEdgeTo();if(c&&c!==this._cachedPointer){if(c!==this._cachedEdgeTo){var l=a.getLabelFormatter();u&&l&&n.setEdgeLabel(l.getDefaultEdgeLabel()),a.openLabelEditor(n,u?null:n.getEdgeLabel(),function(t,r,o){e._shouldDeleteEdgeWithEmptyLabel&&!r?(a.getGraph().deleteEdge(n),a.emitGraphEvent(b,{target:n})):u?a.emitGraphEvent(h,{target:n}):a.emitGraphEvent(v,{target:n})})}}else{if(this._shouldDeleteEdgePlaceholder)return a.getGraph().deleteEdge(n),void a.emitGraphEvent(b,{target:n});if(n.setEdgeTo(null),u){var s=a.getLabelFormatter();s&&n.setEdgeLabel(s.getDefaultEdgeLabel()),a.emitGraphEvent(h,{target:n})}else a.emitGraphEvent(v,{target:n})}}}}])&&c(r.prototype,n),a&&c(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(n.A)}}]);
//# sourceMappingURL=sourcemap/module_fsa.bundle.js.map