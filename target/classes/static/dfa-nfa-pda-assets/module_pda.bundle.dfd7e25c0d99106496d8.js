"use strict";(self.webpackChunkflap_js=self.webpackChunkflap_js||[]).push([[219],{255(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},345(t,e,n){n.d(e,{A:()=>B});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this.props.visible,e=this.props.fromX||0,n=this.props.fromY||0,o=this.props.toX||e+1,i=this.props.toY||n+1,u=this.props.color||"#000000",a=o-e,c=i-n;return r.createElement("g",null,t&&r.createElement("rect",{className:"graph-ui",x:Math.min(o,e),y:Math.min(i,n),width:Math.abs(a),height:Math.abs(c),stroke:u,fill:u,fillOpacity:.1}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.Component);var p=n(4558);function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}var d=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boundingBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[]},e=[{key:"getBoundingBox",value:function(){return this._boundingBox}},{key:"getSelection",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var e=this._boundingBox,n=Math.max(e.toX,e.fromX),r=Math.max(e.toY,e.fromY),o=Math.min(e.toX,e.fromX),i=Math.min(e.toY,e.fromY);this.clearSelection(),function(t,e,n,r,o,i){var u,a=Math.min(e,r),c=Math.min(n,o),l=Math.max(e,r),s=Math.max(n,o),f=y(t.getNodes());try{for(f.s();!(u=f.n()).done;){var p=u.value;p.x>=a&&p.x<l&&p.y>=c&&p.y<s&&i.push(p)}}catch(t){f.e(t)}finally{f.f()}}(t,o,i,n,r,this.targets)}return this.targets}},{key:"beginSelection",value:function(t,e,n){var r=this._boundingBox;r.fromX=r.toX=e,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0)}},{key:"endSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0),r.visible=!1}},{key:"isTargetInSelection",value:function(t){return this.targets.includes(t)}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isVisible",value:function(){return this._boundingBox.visible}}],e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const g=d;function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function S(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function O(t,e,n){return e=j(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,n||[],j(t).constructor):e.apply(t,n))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(E=function(){return!!t})()}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}const k=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=O(this,e))._inputController=t,o._graphController=n,o._selectionBox=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(e,t),n=e,(r=[{key:"onPreInputEvent",value:function(t){var e=this._inputController,n=this._selectionBox;return n.hasSelection()&&(e.isMoveMode(t.getInputAdapter())&&n.isTargetInSelection(e.getImmediateTargetSource())||n.clearSelection()),!1}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isMoveMode(t.getInputAdapter()))return!1;if(e.hasCurrentTarget())return!1;var n=t.getInputEventPosition();return this._selectionBox.beginSelection(this._graphController.getGraph(),n.x,n.y),!0}},{key:"onDragMove",value:function(t){this._selectionBox.isVisible()&&this._selectionBox.updateSelection(this._graphController.getGraph(),t.x,t.y)}},{key:"onDragStop",value:function(t){this._selectionBox.isVisible()&&this._selectionBox.endSelection(this._graphController.getGraph(),t.x,t.y)}}])&&_(n.prototype,r),o&&_(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(n(3668).A);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A(r.key),r)}}function A(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}function x(t,e,n){return e=N(e),function(t,e){if(e&&("object"==C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,M()?Reflect.construct(e,n||[],N(t).constructor):e.apply(t,n))}function M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(M=function(){return!!t})()}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}const B=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=x(this,e,[t]);var r=t.inputController,o=t.graphController;return n._selectionBox=new g,n._selectionBoxInputHandler=new k(r,o,n._selectionBox),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.inputController;t&&t.setSelectionBox(this._selectionBox);var e=this.props.inputContext;if(e){var n=this.props.inputPriority||-1;e.addInputHandler(this._selectionBoxInputHandler,n)}}},{key:"componentWillUnmount",value:function(){this._selectionBox.clearSelection();var t=this.props.inputContext;t&&t.removeInputHandler(this._selectionBoxInputHandler)}},{key:"getSelectionBox",value:function(){return this._selectionBox}},{key:"getSelectionBoxInputHandler",value:function(){return this._selectionBoxInputHandler}},{key:"render",value:function(){var t=this._selectionBox,e=t.getBoundingBox();return r.createElement(r.Fragment,null,r.createElement(p.A,{nodes:t.getSelection()}),r.createElement(f,{visible:t.isVisible(),fromX:e.fromX,fromY:e.fromY,toX:e.toX,toY:e.toY}))}}])&&T(n.prototype,o),i&&T(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component)},472(t,e,n){n.d(e,{A:()=>p,l:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f="start-marker";const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,o=[{key:"render",value:function(){var t=this.props.position,e=this.props.radians||Math.PI,n=this.props.offset||0,o=this.props.size||24,i=this.props.color||"#000000",u=Math.cos(e),a=Math.sin(e),c=t.x+u*n,l=t.y+a*n,s=u*o*2,p=this.props.onMouseOver,y=this.props.onMouseOut,h=this.props.pointerEvents;return r.createElement("g",null,r.createElement("path",{d:"M"+c+" "+l+" L"+(c+s)+" "+(l+Math.sin(e+Math.PI/2)*o*2)+" L"+(c+s)+" "+(l-Math.sin(e+Math.PI/2)*o*2)+" Z",fill:"transparent",stroke:i,cursor:"pointer",onMouseOver:p?function(t){(t.target.value||(t.target.value={})).type=f,p(t)}:null,onMouseOut:y?function(t){(t.target.value||(t.target.value={})).type=f,y(t)}:null,pointerEvents:h}))}}],o&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.Component)},625(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>y});function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function l(t,e,n){return e=f(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}const y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,e))._app=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,(r=[{key:"onParseSession",value:function(t,e){return e}},{key:"onPreImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){}},{key:"onPostImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"importFileData",value:function(t,e,n){var r,o=this._app,i=o.getSession(),u=i.getCurrentModule(),a=this.onParseSession(i,n);return this.onPreImportSession(i),this.onImportSession(i,a),r=t?t.substring(0,t.length-e.length):a._metadata.name,o.getSession().setProjectName(r),this.onPostImportSession(i),u}}])&&a(n.prototype,r),o&&a(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"importFileData",value:function(t,e,n){return Promise.resolve(n)}},{key:"getDataType",value:function(){return"text"}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}())},643(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,e,[t])).ref=null,n._timeout=null,n.onMouseDown=n.onMouseDown.bind(n),n.onAnyMouseUp=n.onAnyMouseUp.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,o=[{key:"onMouseDown",value:function(t){this.props.parent.ignoreBlur(!0)&&document.addEventListener("mouseup",this.onAnyMouseUp),this.props.onClick&&this.props.onClick(t,this)}},{key:"onAnyMouseUp",value:function(){var t=this;document.removeEventListener("mouseup",this.onAnyMouseUp),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){t._timeout=null;var e=t.props.parent;e.ignoreBlur(!1),document.activeElement===t.ref?e.focus(!1):document.activeElement!==t.props.parent.inputElement&&e.onBlur()},50)}},{key:"render",value:function(){var t=this;return r.createElement("button",{ref:function(e){return t.ref=e},id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,onMouseDown:this.onMouseDown},this.props.title)}}],o&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.Component)},1074(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function u(t,e,n){return e=s(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function c(t,e,n,r){var o=l(s(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},l.apply(null,arguments)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}n.d(e,{A:()=>y});var p=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,e,[t])).x=r,n.y=o,n._label="",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,r=[{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=this.x,t.y=this.y,t}},{key:"setNodeLabel",value:function(t){return this._label=t,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?c(e,"getHashString",this,3)([t])+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:c(e,"getHashString",this,3)([t])+":"+this._label}}],r&&o(n.prototype,r),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(n(5752).A);const y=p},1252(t,e,n){var r=n(6540),o=n(8673),i=n(9117);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function l(t,e,n){return e=f(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}r.Component},2170(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},2242(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},2304(t,e,n){n.d(e,{A:()=>o});var r={__eventListeners:null,mixin:function(t){var e=t.prototype;Object.assign(e,r),delete e.mixin},registerEvent:function(t){if(this.__eventListeners||(this.__eventListeners=new Map),this.__eventListeners.has(t))throw new Error("Already registered event '"+t+"'");this.__eventListeners.set(t,[])},unregisterEvent:function(t){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.delete(t)}},addEventListener:function(t,e){if(this.__eventListeners||(this.__eventListeners=new Map),!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).push(e)},removeEventListener:function(t,e){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unknown event '"+t+"'");for(var n=this.__eventListeners.get(t),r=!1,o=n.length;o--;)n[o]===e&&(n.splice(o,1),r=!0);if(!r)throw new Error("Unable to find listener for event '"+t+"'")}},clearEventListeners:function(t){if(this.__eventListeners)if(t){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).length=0}else this.__eventListeners.clear()},countEventListeners:function(t){return this.__eventListeners&&this.__eventListeners.has(t)?this.__eventListeners.get(t).length:0},getEventListeners:function(t){return this.__eventListeners?this.__eventListeners.get(t):null},on:function(t,e){this.addEventListener(t,e)},once:function(t,e){var n=this,r=function(){try{for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];e.apply(null,i)}finally{n.removeEventListener(t,r)}};this.addEventListener(t,r)},emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];try{if(!this.__eventListeners)return;var o;if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");o=this.__eventListeners.get(t);for(var i=null,u=o.length;u--;){try{i=o[u].apply(null,n)}catch(t){continue}if(!0===i)break}}finally{this.onEventProcessed.apply(this,[t].concat(n))}},onEventProcessed:function(t){}};const o=r},2328(t,e,n){n.d(e,{A:()=>et});var r=n(6540),o=n(1423),i=n(6367),u=n(9117);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,n){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}const h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 26 26"},r.createElement("path",{d:"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z "}))}}])&&c(n.prototype,o),i&&c(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}function d(t,e,n){return e=w(e),function(t,e){if(e&&("object"==b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,n||[],w(t).constructor):e.apply(t,n))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}const S=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=d(this,e,[t]))._ref=r.createRef(),n._buttonElement=r.createRef(),n.state={active:!1,forceActive:!1},n._doubleTapTimeout=null,n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n.onClick=n.onClick.bind(n),n.onAnyMouseDownNotConsumed=n.onAnyMouseDownNotConsumed.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(e,t),n=e,o=[{key:"onMouseEnter",value:function(t){var e=this;this.state.forceActive||this.setState({active:!0},function(){var t=e.props.onChange;t&&t(!0)})}},{key:"onMouseLeave",value:function(t){var e=this;this.state.forceActive||this.setState({active:!1},function(){var t=e.props.onChange;t&&t(!1)})}},{key:"onClick",value:function(t){var e=this;t.stopPropagation(),t.preventDefault(),this._doubleTapTimeout?(clearTimeout(this._doubleTapTimeout),this._doubleTapTimeout=null,this.setState({active:!1,forceActive:!1},function(){var t=e.props.onClear;t&&t();var n=e.props.onChange;n&&n(!1)})):this.setState(function(t,n){var r=!t.forceActive;return e._doubleTapTimeout=setTimeout(function(){e._doubleTapTimeout=null},250),r&&document.documentElement.addEventListener("mousedown",e.onAnyMouseDownNotConsumed),{active:r,forceActive:r}},function(){var t=e.props.onChange;t&&t(e.state.active)})}},{key:"onAnyMouseDownNotConsumed",value:function(t){var e=this;this.state.forceActive&&this._buttonElement.current!==t.target&&(t.stopPropagation(),t.preventDefault(),document.documentElement.removeEventListener("mousedown",this.onAnyMouseDownNotConsumed),this.setState({active:!1,forceActive:!1},function(){var t=e.props.onChange;t&&t(!1)}))}},{key:"render",value:function(){var t=this.props.visible,e=this.state.active,n=!e&&!t;return r.createElement(u.A,{ref:this._ref,refButton:this._buttonElement,id:this.props.id,className:i.A.trash_container+(e?" active ":"")+(n?" hide ":"")+" "+this.props.className,style:this.props.style,title:"Delete",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},r.createElement(h,null))}}],o&&v(n.prototype,o),a&&v(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,a}(r.Component);var O=n(258);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P(r.key),r)}}function P(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}function k(t,e,n){return e=T(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C()?Reflect.construct(e,n||[],T(t).constructor):e.apply(t,n))}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(C=function(){return!!t})()}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}const x=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))}}])&&j(n.prototype,o),i&&j(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function I(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M(e)?e:e+""}function B(t,e,n){return e=D(e),function(t,e){if(e&&("object"==M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,R()?Reflect.construct(e,n||[],D(t).constructor):e.apply(t,n))}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(R=function(){return!!t})()}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}const F=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&N(n.prototype,o),i&&N(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}function H(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:e+""}function z(t,e,n){return e=W(e),function(t,e){if(e&&("object"==V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U()?Reflect.construct(e,n||[],W(t).constructor):e.apply(t,n))}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U=function(){return!!t})()}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}const X=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),z(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this.props.visible,e=this.props.mode,n=this.props.onChange,o=!t;return r.createElement("div",{id:this.props.id,className:O.A.tray_container+(o?" hide ":"")+" "+this.props.className,style:this.props.style},r.createElement(u.A,{className:O.A.tray_button+(0===e?" active ":""),onClick:function(){n&&n(0)},title:I18N.toString("cursor.actionmode")},r.createElement(x,null)),r.createElement(u.A,{className:O.A.tray_button+(1===e?" active ":""),onClick:function(){n&&n(1)},title:I18N.toString("cursor.movemode")},r.createElement(F,null)))}}])&&G(n.prototype,o),i&&G(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q(r.key),r)}}function q(t){var e=function(t,e){if("object"!=Y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Y(e)?e:e+""}function $(t,e,n){return e=J(e),function(t,e){if(e&&("object"==Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Z()?Reflect.construct(e,n||[],J(t).constructor):e.apply(t,n))}function Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Z=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}const et=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=$(this,e,[t])).onTrashChange=n.onTrashChange.bind(n),n.onTrashClear=n.onTrashClear.bind(n),n.onModeChange=n.onModeChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),n=e,(i=[{key:"onTrashChange",value:function(t){this.props.inputController.setTrashMode(t),t?this.props.session.getApp().getDrawerComponent().setViewportColor("var(--color-viewport-error)"):this.props.session.getApp().getDrawerComponent().setViewportColor(null)}},{key:"onTrashClear",value:function(){this.props.graphController.clearGraph()}},{key:"onModeChange",value:function(t){this.props.inputController.setMoveModeFirst(1===t)}},{key:"render",value:function(){var t=this.props.inputController,e=this.props.graphController,n=this.props.viewport,i=e.getGraph(),u=null;return t&&(u=t.isHandlingInput()?t.isMoveMode(n.getInputAdapter())?1:0:t.isMoveModeFirst()?1:0),r.createElement("div",{id:this.props.id,className:o.A.view_container+" "+this.props.className,style:this.props.style},r.createElement(S,{className:o.A.view_widget,style:{bottom:0,right:0},visible:!i.isEmpty()&&n&&(!n.getInputAdapter().isUsingTouch()||!n.getInputAdapter().isDragging()),onChange:this.onTrashChange,onClear:this.onTrashClear}),r.createElement(X,{className:o.A.view_widget,style:{bottom:0,left:0},visible:t,mode:u,onChange:this.onModeChange}),this.props.children)}}])&&Q(n.prototype,i),u&&Q(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,u}(r.Component)},2435(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},2696(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function u(t,e,n){return e=c(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}n.d(e,{A:()=>s});const s=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,e))._graphController=t,r._graphParser=n,r._graphData=n.objectify(t.getGraph()),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),n=e,(r=[{key:"applyUndo",value:function(t){var n=t.getPreviousEvent();n instanceof e?n.applyRedo(t):this._graphController.getGraph().clear()}},{key:"applyRedo",value:function(t){this._graphParser.parse(this._graphData,this._graphController.getGraph())}}])&&o(n.prototype,r),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(n(5860).A)},2705(t,e,n){n.d(e,{A:()=>O});var r=n(6540),o=n(9898);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,n){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,i=[{key:"render",value:function(){var t=this.props.node,e=this.props.fill,n=this.props.stroke,i=this.props.onMouseOver,u=this.props.onMouseOut,a=this.props.pointerEvents,c=t.getNodeLabel(),l=t.getNodeSize();return r.createElement(r.Fragment,null,r.createElement(o.Ay,{position:t,radius:l,label:c,color:e,outline:n,onMouseOver:i?function(e){(e.target.value||(e.target.value={})).source=t,i(e)}:null,onMouseOut:u?function(e){(e.target.value||(e.target.value={})).source=t,u(e)}:null,pointerEvents:a}))}}],i&&u(n.prototype,i),a&&u(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);var y=n(4006);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return v(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function g(t,e,n){return e=_(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,n||[],_(t).constructor):e.apply(t,n))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w=function(){return!!t})()}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}const O=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=g(this,e,[t]);var r=t.inputController,o=t.graphController;return n._graphNodeInputHandler=new y.Ay(r,o),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._graphNodeInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._graphNodeInputHandler)}},{key:"getGraphNodeInputHandler",value:function(){return this._graphNodeInputHandler}},{key:"render",value:function(){var t,e=this.props.inputController,n=this.props.nodeRenderer||p,o=this.props.editable,i=e?e.onMouseOver:null,u=e?e.onMouseOut:null,a=[],c=b(this.props.nodes);try{for(c.s();!(t=c.n()).done;){var l=t.value;a.push(r.createElement(n,{key:l.getGraphElementID(),node:l,fill:"var(--color-graph-node)",stroke:"var(--color-graph-text)",onMouseOver:i,onMouseOut:u,pointerEvents:o&&e&&e.hasPointerEvents(l)?"all":"none"}))}}catch(t){c.e(t)}finally{c.f()}return r.createElement("g",null,a)}}])&&m(n.prototype,o),i&&m(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component)},3074(t,e,n){function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.confirm(I18N.toString("alert.graph.clear"))&&(t.getCurrentModule().getGraphController().getGraph().clear(),e?t.getUndoManager().captureEvent():(t.getUndoManager().clear(),t.getSession().setProjectName(null)),n&&n())}n.d(e,{v:()=>r})},3494(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},3530(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},3668(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>u});const u=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},3883(t,e,n){function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,u=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw u}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function i(t){if(t.getNodeCount()<=1)return[];var e=t.getEdges(),n=t.getNodes().slice(),o=n.shift(),i=[];for(i.push(o);i.length>0;){var u,a=i.pop(),c=r(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(l.getEdgeFrom()===a){var s=n.indexOf(l.getEdgeTo());if(s>=0){var f=n.splice(s,1)[0];i.push(f)}}}}catch(t){c.e(t)}finally{c.f()}}return n}n.d(e,{u:()=>i})},3937(t,e,n){n.d(e,{A:()=>et});var r=n(6540),o=n(7841),i=n(8678),u=n(9117);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,n){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}const h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))}}])&&c(n.prototype,o),i&&c(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}function d(t,e,n){return e=w(e),function(t,e){if(e&&("object"==b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,n||[],w(t).constructor):e.apply(t,n))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}const S=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}}])&&v(n.prototype,o),i&&v(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function j(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O(e)?e:e+""}function P(t,e,n){return e=C(e),function(t,e){if(e&&("object"==O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,k()?Reflect.construct(e,n||[],C(t).constructor):e.apply(t,n))}function k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(k=function(){return!!t})()}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}const A=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=P(this,e,[t])).onZoomIn=n.onZoomIn.bind(n),n.onZoomOut=n.onZoomOut.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),n=e,(o=[{key:"onZoomIn",value:function(t){var e=this.props.viewportAdapter,n=.4*-e.getScale();e.addScale(n)}},{key:"onZoomOut",value:function(t){var e=this.props.viewportAdapter,n=.75*e.getScale();e.addScale(n)}},{key:"render",value:function(){var t="x"+(1/(this.props.viewportAdapter.getScale()||1)).toFixed(2);return r.createElement("div",{id:this.props.id,className:i.A.zoom_container+" "+this.props.className,style:this.props.style},r.createElement(u.A,{className:i.A.zoom_button,title:"Zoom In",onClick:this.onZoomIn},r.createElement(h,null)),r.createElement(u.A,{className:i.A.zoom_button,title:"Zoom Out",onClick:this.onZoomOut},r.createElement(S,null)),r.createElement("label",{className:i.A.zoom_label},t))}}])&&E(n.prototype,o),a&&E(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,a}(r.Component);var x=n(4096);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function I(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M(e)?e:e+""}function B(t,e,n){return e=D(e),function(t,e){if(e&&("object"==M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,R()?Reflect.construct(e,n||[],D(t).constructor):e.apply(t,n))}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(R=function(){return!!t})()}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}const F=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))}}])&&N(n.prototype,o),i&&N(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}function H(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:e+""}function z(t,e,n){return e=W(e),function(t,e){if(e&&("object"==V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U()?Reflect.construct(e,n||[],W(t).constructor):e.apply(t,n))}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U=function(){return!!t})()}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}const X=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=z(this,e,[t])).onClick=n.onClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(e,t),n=e,(o=[{key:"onClick",value:function(t){this.props.viewportAdapter.setOffset(0,0)}},{key:"render",value:function(){var t=this.props.viewportAdapter;return r.createElement(u.A,{id:this.props.id,className:x.A.center_focus_button+" "+this.props.className,style:this.props.style,title:"Center Workspace",disabled:Math.abs(t.getOffsetX())<.1&&Math.abs(t.getOffsetY())<.1,onClick:this.onClick},r.createElement(F,null))}}])&&G(n.prototype,o),i&&G(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q(r.key),r)}}function q(t){var e=function(t,e){if("object"!=Y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Y(e)?e:e+""}function $(t,e,n){return e=J(e),function(t,e){if(e&&("object"==Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Z()?Reflect.construct(e,n||[],J(t).constructor):e.apply(t,n))}function Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Z=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}const et=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),$(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){var t=this.props.viewportAdapter;return r.createElement("div",{id:this.props.id,className:o.A.navbar_container+" "+this.props.className,style:this.props.style},r.createElement(A,{className:o.A.navbar_widget_container,viewportAdapter:t}),r.createElement(X,{className:o.A.navbar_widget,viewportAdapter:t}),this.props.children)}}])&&Q(n.prototype,i),u&&Q(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,u}(r.Component)},3978(t,e,n){var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}r.PureComponent},4006(t,e,n){n.d(e,{Ay:()=>d,D9:()=>v,a9:()=>m,tK:()=>b});var r=n(3668),o=n(5505),i=n(9898);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function f(t,e,n){return e=y(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var b="node-delete",v="node-delete-all",m="error-node-edit-while-delete";const d=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=f(this,e))._inputController=t,r._graphController=n,r._cachedPosition={x:0,y:0},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),n=e,(r=[{key:"onInputEvent",value:function(t){var e=this._inputController,n=e.getCurrentTargetType();if(e.isTrashMode()&&n===i.c6){var r=e.getCurrentTargetSource(),o=this._graphController;return o.getGraph().deleteNode(r),o.emitGraphEvent(b,{target:r}),!0}if(!e.isMoveMode(t.getInputAdapter())&&n===i.c6){var u=e.getCurrentTargetSource(),a=this._graphController;return a.openLabelEditor(u,u.getNodeLabel(),function(t,e,n){n&&a.emitGraphEvent("edge-label-change",{target:u})}),!0}return!1}},{key:"onAltInputEvent",value:function(t){return this.onInputEvent(t)}},{key:"onDblInputEvent",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return!1;if(!e.getCurrentTargetType()){var n=this._graphController,r=n.getLabelFormatter(),o=n.getGraph().createNode(t.x,t.y);r&&o.setNodeLabel(r.getDefaultNodeLabel()),n.emitGraphEvent("node-create",{target:o})}}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return this._graphController.emitGraphEvent(m),!1;var n=e.getCurrentTargetType();if(e.isMoveMode(t.getInputAdapter())&&n===i.c6){var r=e.getSelectionBox(),o=e.getCurrentTargetSource();return r&&r.hasSelection()&&(r.isTargetInSelection(o)?(this._cachedPosition.x=t.x,this._cachedPosition.y=t.y):r.clearSelection()),e.bindActiveTarget(o,n,!1),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController,n=e.getSelectionBox(),r=e.getActiveTargetSource();if(n&&n.hasSelection()){var o,i=t.x-this._cachedPosition.x,u=t.y-this._cachedPosition.y,c=a(n.getSelection());try{for(c.s();!(o=c.n()).done;){var l=o.value;l.x+=i,l.y+=u}}catch(t){c.e(t)}finally{c.f()}this._cachedPosition.x=t.x,this._cachedPosition.y=t.y}else this.moveNodeTo(this._graphController.getGraph(),r,t.x,t.y)}},{key:"onDragStop",value:function(t){var e=this._inputController,n=this._graphController,r=e.getSelectionBox(),o=e.getActiveTargetSource();if(e.unbindActiveTarget(),e.isTrashMode())if(r.hasSelection()){var i,u=n.getGraph(),c=[],l=a(r.getSelection());try{for(l.s();!(i=l.n()).done;){var s=i.value;u.deleteNode(s),c.push(s)}}catch(t){l.e(t)}finally{l.f()}r.clearSelection(),n.emitGraphEvent(v,{target:c})}else n.getGraph().deleteNode(o),n.emitGraphEvent(b,{target:o});else r.hasSelection()?n.emitGraphEvent("node-move-all",{target:r.getSelection()}):n.emitGraphEvent("node-move",{target:o})}},{key:"moveNodeTo",value:function(t,e,n,r){n=(0,o.Cc)(e.x,n,.6),r=(0,o.Cc)(e.y,r,.6);var i,u=e.getNodeSize(),c=a(t.getNodes());try{for(c.s();!(i=c.n()).done;){var l=i.value;if(e!==l){var s=n-l.x,f=r-l.y,p=Math.atan2(f,s),y=2*u,h=l.x+Math.cos(p)*y-n,b=l.y+Math.sin(p)*y-r;s*s+f*f<u*u*4&&(n+=h,r+=b)}}}catch(t){c.e(t)}finally{c.f()}e.x=n,e.y=r}}])&&l(n.prototype,r),u&&l(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,u}(r.A)},4017(t,e,n){n.d(e,{A:()=>b});var r=n(9143),o=n(5505);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,n){return e=p(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t,e,n,r){var o=f(p(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},f.apply(null,arguments)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var h=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=c(this,e,[t,n,o]))._quad={radians:0,length:o?0:r.getPlaceholderLength(),coords:{x:0,y:0}},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,r=[{key:"setEdgeTo",value:function(t){var n=this._to;if(t!==n){var r=s(e,"setEdgeTo",this,3)([t]);return t?t===this._from&&(this._quad.length=this._from.getNodeSize()+this.getPlaceholderLength()):this.setQuadraticByCoords(n.x,n.y),r}return s(e,"setEdgeTo",this,3)([t])}},{key:"setQuadraticRadians",value:function(t){return this._quad.radians=t,this}},{key:"setQuadraticLength",value:function(t){return this._quad.length=t,this}},{key:"setQuadraticByCoords",value:function(t,e){var n=this._from,r=this._to;if(!r){var o=this._from.x-t,i=this._from.y-e,u=-Math.atan2(o,i)-Math.PI/2;return this._quad.radians=u,this}var a=n.x,c=n.y,l=r.x-a,s=r.y-c,f=a+l/2,p=c+s/2,y=Math.atan2(-s,l);l=t-f,s=e-p;var h=Math.PI,b=h/2,v=Math.atan2(s,l)+y,m=Math.sqrt(l*l+s*s);m<0&&(m=0);var d=v- -b,g=v-b,w=h/20;return Math.abs(m)<8?(v=0,m=0):d<w&&d>-w?v=-b:-g<w&&-g>-w&&(v=b),this._quad.radians=v,this._quad.length=m,this}},{key:"getQuadraticLength",value:function(){return this._quad.length}},{key:"getQuadraticRadians",value:function(){return this._quad.radians}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!==this._quad.length}},{key:"getQuadraticAsCoords",value:function(){var t=this._from,e=this._to,n=this._quad.coords;return null==t||null==e?(n.x=0,n.y=0):(0,o.CJ)(t.x,t.y,e.x,e.y,this._quad.length,this._quad.radians,n),n}},{key:"getEdgeDirection",value:function(){var t=0;if(this.isQuadratic()){var n=this.getQuadraticAsCoords();t=Math.atan2(n.y,n.x)+Math.PI/2}else t=s(e,"getEdgeDirection",this,3)([]);return t}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=this._quad.radians,i=Math.cos(r),u=Math.sin(r),a=e.getNodeSize();return t.x=e.x+i*a,t.y=e.y+u*a,t}if("function"==typeof n.getNodeSize&&this.isQuadratic()){(0,o.P8)(e.x,e.y,n.x,n.y,t);var c=this.getQuadraticAsCoords(),l=t.x+c.x,s=t.y+c.y;return(0,o.CJ)(e.x,e.y,l,s,e.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,t),t.x+=e.x,t.y+=e.y,t}return(0,o.CJ)(e.x,e.y,n.x,n.y,e.getNodeSize(),0,t),t.x+=e.x,t.y+=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),u=e.getNodeSize()+this.getPlaceholderLength()/2;return t.x=e.x+r*u,t.y=e.y+i*u,t}if((0,o.P8)(e.x,e.y,n.x,n.y,t),this.isQuadratic()){var a=this.getQuadraticAsCoords();t.x+=a.x,t.y+=a.y}return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=this._quad.radians,i=Math.cos(r),u=Math.sin(r),a=e.getNodeSize()+this.getPlaceholderLength();return t.x=e.x+i*a,t.y=e.y+u*a,t}if("function"!=typeof n.getNodeSize)return n;if(this.isQuadratic()){(0,o.P8)(e.x,e.y,n.x,n.y,t);var c=this.getQuadraticAsCoords(),l=t.x+c.x,s=t.y+c.y;return(0,o.CJ)(n.x,n.y,l,s,n.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,t),t.x+=n.x,t.y+=n.y,t}return(0,o.CJ)(n.x,n.y,e.x,e.y,n.getNodeSize(),0,t),t.x+=n.x,t.y+=n.y,t}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?s(e,"getHashString",this,3)([t])+":"+this._quad.radians+","+this._quad.length:s(e,"getHashString",this,3)([t])}}],r&&u(n.prototype,r),i&&u(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.A);const b=h},4256(t,e,n){n.d(e,{default:()=>Zu});var r=n(6540),o=n(3074),i=n(6297),u=n(6446),a=n(9058),c=n(1074);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}function p(t,e,n){return e=b(e),function(t,e){if(e&&("object"==l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,n||[],b(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},h.apply(null,arguments)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var m=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=p(this,e,[t,n,r]))._accept=!1,o._custom=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,r=[{key:"setNodeAccept",value:function(t){this._accept=t}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(t){this._custom=t}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getHashString",value:function(){var t,n,r,o,i,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(t=e,n="getHashString",r=this,i=h(b(1&(o=3)?t.prototype:t),n,r),2&o&&"function"==typeof i?function(t){return i.apply(r,t)}:i)([u])+":"+(this._accept?"1":"0")}}],r&&s(n.prototype,r),o&&s(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(c.A);const d=m;var g=n(4017);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function S(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function O(t,e,n){return e=k(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,n||[],k(t).constructor):e.apply(t,n))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(E=function(){return!!t})()}function j(t,e,n,r){var o=P(k(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(null,arguments)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}var T="\n",A=" ",x=",",M="",N="",I=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,e,[t,n,r])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t),n=e,(r=[{key:"setEdgeLabel",value:function(t){t?j(e,"setEdgeLabel",this,3)([t]):j(e,"setEdgeLabel",this,3)([","])}},{key:"getEdgeSymbolsFromLine",value:function(t){var e=(t=t.trim()).indexOf(x),n=t.indexOf(M);if(e<=0)return[N,N,N];var r=t.substring(0,e);if(n<=0)return[r,N,N];var o=t.substring(e+1,n),i=t.substring(n+1);return i.length<=0?[r,o,N]:[r,o,i]}}])&&_(n.prototype,r),o&&_(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(g.A);const B=I;function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function L(t){var e=function(t,e){if("object"!=R(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==R(e)?e:e+""}function F(t,e,n){return e=G(e),function(t,e){if(e&&("object"==R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,V()?Reflect.construct(e,n||[],G(t).constructor):e.apply(t,n))}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(V=function(){return!!t})()}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}const z=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),F(this,e,[d,B])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(e,t),n=e,r&&D(n.prototype,r),o&&D(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.A);var U=n(6431),W=n(4006),K=n(9923),X=n(8629),Y=n(1449),Q=n(9066);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z(r.key),r)}}function Z(t){var e=function(t,e){if("object"!=q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==q(e)?e:e+""}function J(t,e,n){return e=et(e),function(t,e){if(e&&("object"==q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tt()?Reflect.construct(e,n||[],et(t).constructor):e.apply(t,n))}function tt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tt=function(){return!!t})()}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}function nt(t,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nt(t,e)}function rt(t){return 1===t.length&&t!==T&&t!==A&&t!==x&&t!==M}function ot(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.split(T),o=new Set,i=r.length,u=0,a=0;a<i;++a)if((u=(e=r[a].trim().split("")).length)<=0)o.add("");else{for(var c=null,l=null,s=null,f=null,p=0;p<u;++p)if(null===c)rt(f=e[p].trim())&&(c=f,p+1<u&&(e[p+1]===x||e[p+1]===A)&&++p);else if(null===l)rt(f=e[p].trim())&&(l=f,p+1<u&&(e[p+1]===M||e[p+1]===A)&&++p);else if(null===s&&rt(f=e[p].trim())){s=f;break}null===c?o.add(""):null===l?o.add(c+x):null===s?o.add(c+x+l+M):o.add(c+x+l+M+s)}return o.size<=0?n?null:N:Array.from(o).join(T)}const it=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=J(this,e))._prefix="q",t._graphController=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(e,t),n=e,(r=[{key:"setGraphController",value:function(t){return this._graphController=t,this}},{key:"setDefaultNodeLabelPrefix",value:function(t){this._prefix=t}},{key:"getDefaultNodeLabelPrefix",value:function(){return this._prefix}},{key:"getDefaultNodeLabel",value:function(){if(this._graphController.shouldAutoRenameNodes()){var t=this._graphController.getGraph(),e=[],n=0,r=t.getStartNode();r&&r.getNodeCustom()&&(n=1);for(var o=this.getDefaultNodeLabelPrefix()+n;t.getNodesByLabel(o,e).length>0;)e.length=0,++n,o=this.getDefaultNodeLabelPrefix()+n;return o}return this.getDefaultNodeLabelPrefix()}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){return function(t){return t||""}}},{key:"getEdgeLabelFormatter",value:function(){return ot}}])&&$(n.prototype,r),o&&$(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Q.A);var ut=n(6719);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ct(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return lt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ft(r.key),r)}}function ft(t){var e=function(t,e){if("object"!=at(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=at(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==at(e)?e:e+""}function pt(t,e,n){return e=bt(e),function(t,e){if(e&&("object"==at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yt()?Reflect.construct(e,n||[],bt(t).constructor):e.apply(t,n))}function yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yt=function(){return!!t})()}function ht(){return ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ht.apply(null,arguments)}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}function vt(t,e){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vt(t,e)}const mt=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=pt(this,e,[n]))._app=t,o.setLabelFormatter((new it).setGraphController(o)),o.shouldAutoLabel=true,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}(e,t),n=e,r=[{key:"onGraphEvent",value:function(t,n){var r,o,i,u,a;switch((r=e,o="onGraphEvent",i=this,a=ht(bt(1&(u=3)?r.prototype:r),o,i),2&u&&"function"==typeof a?function(t){return a.apply(i,t)}:a)([t,n]),t){case X.p:case W.tK:case W.D9:this.shouldAutoLabel&&this.applyAutoRename(),this._app.getUndoManager().captureEvent();break;case W.a9:case K.Pw:this._app.getNotificationManager().pushNotification(I18N.toString("message.warning.cannotmodify"),Y.UU,"tryCreateWhileTrash",null,!0);break;default:this._app.getUndoManager().captureEvent()}}},{key:"getApp",value:function(){return this._app}},{key:"deleteTargetNodes",value:function(t){if(t&&!(t.length<=0)){var e,n=this.getGraph(),r=ct(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.deleteNode(o)}}catch(t){r.e(t)}finally{r.f()}this.emitGraphEvent(W.D9,{target:t})}}},{key:"getGraphLabeler",value:function(){return this.getLabelFormatter()}},{key:"applyAutoLayout",value:function(){ut.A.applyLayout(this.getGraph()),this._app.getUndoManager().captureEvent()}},{key:"applyAutoRename",value:function(){var t=this._labelFormatter,e=this._graph;if(!e.isEmpty()){var n,r=ct(e.getNodes());try{for(r.s();!(n=r.n()).done;){var o=n.value;o.getNodeCustom()||o.setNodeLabel("")}}catch(t){r.e(t)}finally{r.f()}var i,u=ct(e.getNodes());try{for(u.s();!(i=u.n()).done;){var a=i.value;a.getNodeCustom()||a.setNodeLabel(t.getDefaultNodeLabel())}}catch(t){u.e(t)}finally{u.f()}}}},{key:"setAutoRenameNodes",value:function(t){var e=this.shouldAutoLabel;this.shouldAutoLabel=t,t&&!e&&this.applyAutoRename()}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"deleteSelectedNodes",value:function(t){var e,n=this.inputController.getSelectionBox(),r=n.getSelection(this.getGraph()).slice(),o=ct(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;this._graph.deleteNode(i)}}catch(t){o.e(t)}finally{o.f()}n.clearSelection(),this.emitGraphEvent(W.D9,{target:r})}},{key:"deleteTargetNode",value:function(t){this._graph.deleteNode(t),this.emitGraphEvent(W.tK,{target:t})}},{key:"deleteTargetEdge",value:function(t){this._graph.deleteEdge(t),this.emitGraphEvent(K.Yi,{target:t})}},{key:"deleteTargetEdges",value:function(t){if(t&&!(t.length<=0)){var e,n=ct(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.deleteTargetEdge(r)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"createNode",value:function(t,e){void 0===t&&(t=64*Math.random()*2-64),void 0===e&&(e=64*Math.random()*2-64);var n=this._graph.createNode(t,e),r=this.getGraphLabeler().getDefaultNodeLabel();return n.setNodeLabel(r),this._app.getUndoManager().captureEvent(),n}},{key:"renameNode",value:function(t,e){t.setNodeLabel(e),t.setNodeCustom(!0),this._app.getUndoManager().captureEvent()}}],r&&st(n.prototype,r),o&&st(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(U.A);var dt=n(7892),gt=n(6229),wt=n(5752),_t=n(5505);function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function Ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||jt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function jt(t,e){if(t){if("string"==typeof t)return Pt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(t,e):void 0}}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,At(r.key),r)}}function Tt(t,e,n){return e&&Ct(t.prototype,e),n&&Ct(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function At(t){var e=function(t,e){if("object"!=St(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==St(e)?e:e+""}var xt="&empty",Mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;kt(this,t),this._label=e,this._src=n,this._id=n instanceof wt.A?n.getGraphElementID():(0,_t.Os)()}return Tt(t,[{key:"copy",value:function(){var e=new t;return e._label=this._label,e._src=this._src,e._id=this._id,e}},{key:"getStateLabel",value:function(){return this._label}},{key:"getStateID",value:function(){return this._id}},{key:"getSource",value:function(){return this._src}},{key:"getHashString",value:function(){return this._id}}])}(),Nt=function(){function t(e,n){kt(this,t),this._from=e,this._to=n,this._symbols=new Map}return Tt(t,[{key:"copy",value:function(){var e=new t;throw e._from=this._from,e._to=this._to,new Error("Not yet implemented")}},{key:"getSourceState",value:function(){return this._from}},{key:"getDestinationState",value:function(){return this._to}},{key:"addSymbol",value:function(t,e,n){var r=new It(t,e,n);this._symbols.set(r.getHashString(),r)}},{key:"hasSymbol",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=Et(this._symbols.values());try{for(o.s();!(e=o.n()).done;){var i=e.value;if(i.getReadSymbol()===t&&!(n&&i.getPopSymbol()!==n||r&&i.getPushSymbol()!==r))return!0}}catch(t){o.e(t)}finally{o.f()}return!1}},{key:"getSymbolsByReadPop",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=Et(this._symbols.values());try{for(o.s();!(e=o.n()).done;){var i=e.value;i.getReadSymbol()===t&&(n&&i.getPopSymbol()!==n||r.push(i))}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"getSymbols",value:function(){return this._symbols.values()}},{key:"getHashString",value:function(){var t,e="",n=Et(this._symbols.values());try{for(n.s();!(t=n.n()).done;){e+=t.value.getHashString()+","}}catch(t){n.e(t)}finally{n.f()}return this._from.getHashString()+":"+e+":"+this._to.getHashString()}}])}(),It=function(){return Tt(function t(e,n,r){kt(this,t),this._read=e,this._pop=n,this._push=r},[{key:"getReadSymbol",value:function(){return this._read}},{key:"getPopSymbol",value:function(){return this._pop}},{key:"getPushSymbol",value:function(){return this._push}},{key:"getHashString",value:function(){return this._read+";"+this._pop+";"+this._push}}])}(),Bt=function(){return Tt(function t(){kt(this,t),this._states=new Map,this._alphabet=new Map,this._stackAlphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._customStackSymbols=new Set,this._startState=null,this._errors=[]},[{key:"copy",value:function(t){if(t!==this){this.clear();var e,n=Et(t._states.entries());try{for(n.s();!(e=n.n()).done;){var r=Ot(e.value,2),o=r[0],i=r[1],u=i.copy();this._states.set(o,u),t.isStartState(i)&&(this._startState=u),t.isFinalState(i)&&this._finalStates.add(u)}}catch(t){n.e(t)}finally{n.f()}var a,c=Et(t._alphabet.entries());try{for(c.s();!(a=c.n()).done;){var l=Ot(a.value,2),s=l[0],f=l[1];this._alphabet.set(s,f)}}catch(t){c.e(t)}finally{c.f()}var p,y=Et(t._stackAlphabet.entries());try{for(y.s();!(p=y.n()).done;){var h=Ot(p.value,2),b=h[0],v=h[1];this._stackAlphabet.set(b,v)}}catch(t){y.e(t)}finally{y.f()}var m,d=Et(t._transitions.entries());try{for(d.s();!(m=d.n()).done;){var g=Ot(m.value,2),w=g[0],_=g[1],S=_.copy();S._from=this._states.get(_.getSourceState().getStateID()),S._to=this._states.get(_.getDestinationState().getStateID()),this._transitions.set(w,S)}}catch(t){d.e(t)}finally{d.f()}var O,E=Et(t._customSymbols);try{for(E.s();!(O=E.n()).done;){var j=O.value;this._customSymbols.add(j)}}catch(t){E.e(t)}finally{E.f()}var P,k=Et(t._customStackSymbols);try{for(k.s();!(P=k.n()).done;){var C=P.value;this._customStackSymbols.add(C)}}catch(t){k.e(t)}finally{k.f()}var T,A=Et(t._errors);try{for(A.s();!(T=A.n()).done;){var x=T.value;this._errors.push(x)}}catch(t){A.e(t)}finally{A.f()}}}},{key:"clear",value:function(){this._states.clear(),this._alphabet.clear(),this._stackAlphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._customStackSymbols.clear(),this._startState=null,this._errors.length=0}},{key:"validate",value:function(){return this._errors.length=0,!0}},{key:"isValid",value:function(){return 0==this._errors.length}},{key:"getErrors",value:function(){return this._errors}},{key:"createState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new Mt(t))}},{key:"addState",value:function(t){var e=t.getStateID();if(this._states.has(e))throw new Error("Already added state with id '"+e+"'");return this._states.size<=0&&(this._startState=t),this._states.set(e,t),t}},{key:"removeState",value:function(t){var e=t.getStateID();return!!this._states.has(e)&&(this._states.delete(e),this._startState===t&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}},{key:"hasStateWithLabel",value:function(t){var e,n=Et(this._states.values());try{for(n.s();!(e=n.n()).done;){if(e.value.getStateLabel()==t)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"getStatesByLabel",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Et(this._states.values());try{for(r.s();!(e=r.n()).done;){var o=e.value;o.getStateLabel()==t&&n.push(o)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"getStateByID",value:function(t){return this._states.get(t)}},{key:"hasState",value:function(t){return this._states.has(t.getStateID())}},{key:"getStates",value:function(){return this._states.values()}},{key:"getStateCount",value:function(){return this._states.size}},{key:"addTransition",value:function(t,e,n,r,o){if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+t.getStateLabel()+"'");if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+e.getStateLabel()+"'");if(!n)throw new Error("Cannot add transition for null read symbol - use the empty symbol instead");if(!r)throw new Error("Cannot add transition for null pop symbol - use the empty symbol instead");if(!o)throw new Error("Cannot add transition for null push symbol - use the empty symbol instead");var i=t.getStateID()+"->"+e.getStateID();if(this._transitions.has(i)){var u=this._transitions.get(i);if(u.hasSymbol(n,r,o))return!1;u.addSymbol(n,r,o)}else{var a=new Nt(t,e);a.addSymbol(n,r,o),this._transitions.set(i,a)}return this._incrSymbolCount(n),this._incrStackSymbolCount(r),this._incrStackSymbolCount(o),!0}},{key:"removeTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();if(!this._transitions.has(r))return!1;var o=this._transitions.get(r).getSymbols();if(n){var i=o.indexOf(n);return i>=0&&(this._decrSymbolCount(n),o.splice(i,1),o.length<=0&&this._transitions.delete(r),!0)}var u,a=Et(o);try{for(a.s();!(u=a.n()).done;){var c=u.value;this._decrSymbolCount(c)}}catch(t){a.e(t)}finally{a.f()}return this._transitions.delete(r),!0}},{key:"hasTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();return!!this._transitions.has(r)&&(!n||this._transitions.get(r).hasSymbol(n))}},{key:"getTransitionSymbols",value:function(t,e){var n=t.getStateID()+"->"+e.getStateID();return this._transitions.has(n)?this._transitions.get(n).getSymbols():null}},{key:"getTransitions",value:function(){return this._transitions.values()}},{key:"_incrSymbolCount",value:function(t){if(t!==xt){var e=this._alphabet.get(t)||0;this._alphabet.set(t,e+1)}}},{key:"_incrStackSymbolCount",value:function(t){if(t!==xt){var e=this._stackAlphabet.get(t)||0;this._stackAlphabet.set(t,e+1)}}},{key:"_decrSymbolCount",value:function(t){if(!this._alphabet.has(t))throw new Error("Unable to find valid transition symbol in alphabet");if(t!==xt){var e=this._alphabet.get(t);e<=1?this.isCustomSymbol(t)?this._alphabet.set(t,0):this._alphabet.delete(t):this._alphabet.set(t,e-1)}}},{key:"_decrStackSymbolCount",value:function(t){if(!this._stackAlphabet.has(t))throw new Error("Unable to find valid transition symbol in alphabet");if(t!==xt){var e=this._stackAlphabet.get(t);e<=1?this.isCustomStackSymbol(t)?this._stackAlphabet.set(t,0):this._stackAlphabet.delete(t):this._stackAlphabet.set(t,e-1)}}},{key:"changeSymbol",value:function(t,e){if(t===xt)throw new Error("Cannot change the empty symbol");if(e===xt)throw new Error("Cannot change to the empty symbol");if(this._stackAlphabet.has(e))throw new Error("Cannot change symbol to another existing symbol");throw new Error("Not yet implemented")}},{key:"removeSymbol",value:function(t){throw new Error("Not yet implemented")}},{key:"setCustomSymbol",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t===xt)throw new Error("Cannot change the empty symbol as a custom symbol");e?this._customSymbols.has(t)||(this._customSymbols.add(t),this._alphabet.has(t)||this._alphabet.set(t,0)):this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._alphabet.has(t)&&this._alphabet.get(t)<=0&&this._alphabet.delete(t))}},{key:"isCustomSymbol",value:function(t){return this._customSymbols.has(t)}},{key:"getCustomSymbols",value:function(){return this._customSymbols}},{key:"clearCustomSymbols",value:function(){this._customSymbols.clear()}},{key:"isUsedSymbol",value:function(t){return this._alphabet.has(t)&&this._alphabet.get(t)>0}},{key:"isSymbol",value:function(t){return this._alphabet.has(t)}},{key:"getAlphabet",value:function(){return this._alphabet.keys()}},{key:"changeStackSymbol",value:function(t,e){if(t===xt)throw new Error("Cannot change the empty symbol");if(e===xt)throw new Error("Cannot change to the empty symbol");if(this._stackAlphabet.has(e))throw new Error("Cannot change symbol to another existing symbol");throw new Error("Not yet implemented")}},{key:"removeStackSymbol",value:function(t){throw new Error("Not yet implemented")}},{key:"setCustomStackSymbol",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t===xt)throw new Error("Cannot change the empty symbol as a custom symbol");e?this._customStackSymbols.has(t)||(this._customStackSymbols.add(t),this._stackAlphabet.has(t)||this._stackAlphabet.set(t,0)):this._customStackSymbols.has(t)&&(this._customStackSymbols.delete(t),this._stackAlphabet.has(t)&&this._stackAlphabet.get(t)<=0&&this._stackAlphabet.delete(t))}},{key:"isCustomStackSymbol",value:function(t){return this._customStackSymbols.has(t)}},{key:"getCustomStackSymbols",value:function(){return this._customStackSymbols}},{key:"clearCustomStackSymbols",value:function(){this._customStackSymbols.clear()}},{key:"isUsedStackSymbol",value:function(t){return this._stackAlphabet.has(t)&&this._stackAlphabet.get(t)>0}},{key:"isStackSymbol",value:function(t){return this._stackAlphabet.has(t)}},{key:"getStackAlphabet",value:function(){return this._stackAlphabet.keys()}},{key:"setStartState",value:function(t){var e=t.getStateID();this._states.has(e)||this._states.set(e,t),this._startState=t}},{key:"isStartState",value:function(t){return this._startState===t}},{key:"getStartState",value:function(){return this._startState}},{key:"setFinalState",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])this._states.has(t.getStateID())||this.addState(t),this._finalStates.add(t);else{if(!this._states.has(t.getStateID()))throw new Error("Trying to change final for missing state '"+t.getStateLabel()+"'");this._finalStates.delete(t)}}},{key:"isFinalState",value:function(t){return this._finalStates.has(t)}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"doTransition",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return r;if(!(t instanceof Mt))throw new Error("Invalid state instance type '"+St(t)+"'");if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=xt);var o,i=t.getStateID()+"->",u=Et(this._transitions.keys());try{for(u.s();!(o=u.n()).done;){var a=o.value;if(a.startsWith(i)){var c=this._transitions.get(a),l=c.getDestinationState(),s=[];c.getSymbolsByReadPop(e,n[n.length-1],s),c.getSymbolsByReadPop(e,xt,s);for(var f=0,p=s;f<p.length;f++){var y=p[f],h=n.slice(),b=y.getPopSymbol(),v=y.getPushSymbol();b!==xt&&h.pop(),v!==xt&&h.push(v),r.push([l,h])}}}}catch(t){u.e(t)}finally{u.f()}return r}},{key:"doTerminalTransition",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return r;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=xt);var o,i=t.getStateID()+"->",u=Et(this._transitions.keys());try{for(u.s();!(o=u.n()).done;){var a=o.value;if(a.startsWith(i)){var c=this._transitions.get(a),l=c.getDestinationState(),s=[];c.getSymbolsByReadPop(e,n[n.length-1],s),c.getSymbolsByReadPop(e,xt,s);for(var f=0,p=s;f<p.length;f++){var y=p[f],h=n.slice(),b=y.getPopSymbol(),v=y.getPushSymbol();if(b!==xt){if(0==n.length)continue;h.pop()}v!==xt&&h.push(v);var m,d=Et(this.doClosureTransition(l,h));try{for(d.s();!(m=d.n()).done;){var g,w=m.value,_=!1,S=Et(r);try{for(S.s();!(g=S.n()).done;){var O=g.value;if(O[0]===w[0]&&Rt(O[1],w[1])){_=!0;break}}}catch(t){S.e(t)}finally{S.f()}_||r.push(w)}}catch(t){d.e(t)}finally{d.f()}}}}}catch(t){u.e(t)}finally{u.f()}return r}},{key:"doClosureTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t)return n;n.push([t,e]);for(var r=0;r<n.length;++r){var o,i=n[r],u=i[0],a=i[1],c=Et(this.getOutgoingTransitions(u));try{for(c.s();!(o=c.n()).done;){var l=o.value,s=l[1],f=l[3],p=l[4];if(s===xt&&(f===a[a.length-1]||f===xt)){var y=a.slice(),h=l[2];f!==xt&&y.pop(),p!==xt&&y.push(p);var b,v=!1,m=Et(n);try{for(m.s();!(b=m.n()).done;){var d=b.value;if(d[0]===h&&Rt(d[1],y)){v=!0;break}}}catch(t){m.e(t)}finally{m.f()}v||n.push([h,y])}}}catch(t){c.e(t)}finally{c.f()}}return n}},{key:"getOutgoingTransitions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");var n,r=t.getStateID()+"->",o=Et(this._transitions.keys());try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.startsWith(r)){var u,a=this._transitions.get(i),c=Et(a.getSymbols());try{for(c.s();!(u=c.n()).done;){var l=u.value;e.push([t,l.getReadSymbol(),a.getDestinationState(),l.getPopSymbol(),l.getPushSymbol()])}}catch(t){c.e(t)}finally{c.f()}}}}catch(t){o.e(t)}finally{o.f()}return e}},{key:"getHashCode",value:function(){var t,e="",n=Et(this._states.values());try{for(n.s();!(t=n.n()).done;){e+=t.value.getHashString()+","}}catch(t){n.e(t)}finally{n.f()}e+="|";var r,o=Et(this._transitions.values());try{for(o.s();!(r=o.n()).done;){e+=r.value.getHashString()+","}}catch(t){o.e(t)}finally{o.f()}e+="|";var i,u=Et(this._finalStates);try{for(u.s();!(i=u.n()).done;){e+=i.value.getHashString()}}catch(t){u.e(t)}finally{u.f()}return e+="|",e+=this._startState?this._startState.getHashString():"",(0,_t.e2)(e)}}])}();function Rt(t,e){var n,r=[],o=Et(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push(i)}}catch(t){o.e(t)}finally{o.f()}var u,a=Et(e);try{for(a.s();!(u=a.n()).done;){var c=u.value,l=r.indexOf(c);if(-1===l)return!1;r.splice(l,1)}}catch(t){a.e(t)}finally{a.f()}return r.length<=0}const Dt=Bt;var Lt=n(3883);function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||Ht(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ht(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Ht(t,e){if(t){if("string"==typeof t)return zt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(t,e):void 0}}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wt(r.key),r)}}function Wt(t){var e=function(t,e){if("object"!=Ft(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ft(e)?e:e+""}function Kt(t,e,n){return e=Yt(e),function(t,e){if(e&&("object"==Ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xt()?Reflect.construct(e,n||[],Yt(t).constructor):e.apply(t,n))}function Xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Xt=function(){return!!t})()}function Yt(t){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yt(t)}function Qt(t,e){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qt(t,e)}var qt="unreachable_state",$t="duplicate_state",Zt="incomplete_transition",Jt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Kt(this,e))._machine=new Dt,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e)}(e,t),n=e,r=[{key:"attemptBuildGraph",value:function(t,e){var n;e.clear();var r,o,i,u,a,c=Gt(t.getStates());try{for(c.s();!(r=c.n()).done;){var l=r.value;(n=e.createNode(0,0)).setNodeLabel(l.getStateLabel()),t.isFinalState(l)&&n.setNodeAccept(!0)}}catch(t){c.e(t)}finally{c.f()}var s,f=Gt(t.getTransitions());try{for(f.s();!(s=f.n()).done;){var p=s.value;i=this.getFirstGraphNodeByLabel(e,p[0]),a=p[1],u=this.getFirstGraphNodeByLabel(e,p[2]),(o=e.createEdge(i,u)).setEdgeLabel(a),o!=e.formatEdge(o)&&e.deleteEdge(o)}}catch(t){f.e(t)}finally{f.f()}var y=t.getStartState();return e.setStartNode(this.getFirstGraphNodeByLabel(e,y)),e}},{key:"attemptBuildMachine",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n.length=0,r.length=0;var o=Array.from(e.getCustomSymbols()),i=Array.from(e.getCustomStackSymbols());e.clear();for(var u=0,a=o;u<a.length;u++){var c=a[u];e.setCustomSymbol(c)}for(var l=0,s=i;l<s.length;l++){var f=s[l];e.setCustomStackSymbol(f)}var p,y=new Map,h=new Map,b=[],v=t.getNodes(),m=t.getEdges(),g=t.getStartNode(),w=Gt(v);try{for(w.s();!(p=w.n()).done;){var _=p.value,S=_.getNodeLabel(),O=new Mt(S,_);e.addState(O),_.getNodeAccept()&&e.setFinalState(O,!0),g===_&&e.setStartState(O),y.has(S)?y.get(S).push(O):y.set(S,[O]),h.set(O,new Map)}}catch(t){w.e(t)}finally{w.f()}var E,j=Gt(m);try{for(j.s();!(E=j.n()).done;){var P=E.value,k=P.getEdgeFrom(),C=P.getEdgeTo();if(!P.isPlaceholder()&&k instanceof d&&C instanceof d){var A=e.getStateByID(k.getGraphElementID()),x=e.getStateByID(C.getGraphElementID());if(!A||!x)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var M,I=Gt(P.getEdgeLabel().split(T));try{for(I.s();!(M=I.n()).done;){var B=M.value;if(B){for(var R=P.getEdgeSymbolsFromLine(B),D=0;D<R.length;++D){var L=R[D];R[D]=L===N?xt:L}e.addTransition(A,x,R[0],R[1],R[2])}}}catch(t){I.e(t)}finally{I.f()}}else b.push(P)}}catch(t){j.e(t)}finally{j.f()}var F,V=Gt(y.entries());try{for(V.s();!(F=V.n()).done;){var G=Vt(F.value,2),H=G[0],z=G[1];z.length>1&&r.push({name:$t,label:H,nodes:z.map(function(t){return t.getSource()})})}}catch(t){V.e(t)}finally{V.f()}b.length>0&&n.push({name:Zt,edges:b});var U=(0,Lt.u)(t);return U&&U.length>0&&r.push({name:qt,nodes:U}),n.length<=0?this._machine:null}},{key:"getMachine",value:function(){return this._machine}}],r&&Ut(n.prototype,r),o&&Ut(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(gt.A);const te=Jt;function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function ne(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return re(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ie(r.key),r)}}function ie(t){var e=function(t,e){if("object"!=ee(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ee(e)?e:e+""}function ue(t,e,n){return e=se(e),function(t,e){if(e&&("object"==ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ae()?Reflect.construct(e,n||[],se(t).constructor):e.apply(t,n))}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ae=function(){return!!t})()}function ce(t,e,n,r){var o=le(se(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function le(){return le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=se(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},le.apply(null,arguments)}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}function fe(t,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fe(t,e)}const pe=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ue(this,e,[t,new te])).graphController=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(t){ce(e,"initialize",this,3)([t]),this.graphController=t.getGraphController()}},{key:"destroy",value:function(t){ce(e,"destroy",this,3)([t])}},{key:"update",value:function(t){ce(e,"update",this,3)([t])}},{key:"getFirstGraphNodeByLabel",value:function(t,e){var n,r=ne(t.getNodes());try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.getNodeLabel()==e)return o}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"setGraphToMachine",value:function(t,e){this._machineBuilder.attemptBuildGraph(e,t),ut.A.applyLayout(t)}},{key:"getStates",value:function(){return this._machineBuilder.getMachine().getStates()}},{key:"countStates",value:function(){return this.getStates().length}},{key:"getFinalStates",value:function(){return this._machineBuilder.getMachine().getFinalStates()}},{key:"getTransitions",value:function(){return this._machineBuilder.getMachine().getTransitions()}},{key:"getAlphabet",value:function(){var t=this._machineBuilder.getMachine();return Array.from(t.getAlphabet())}},{key:"isUsedSymbol",value:function(t){return!this.isCustomSymbol(t)}},{key:"createSymbol",value:function(t){this.addCustomSymbol(t)}},{key:"deleteSymbol",value:function(t){for(var e=null,n=null,r=null,o=[],i=this.graphController.getGraph(),u=i.getEdges().length-1;u>=0;--u)(n=(e=i.getEdges()[u]).getEdgeLabel().indexOf(t))>=0&&((r=e.getEdgeLabel().substring(0,n)+e.getEdgeLabel().substring(n+1)).length>0?e.setEdgeLabel(r):(e.setEdgeLabel(""),i.deleteEdge(e)),o.push(e));o.length<=0&&this.getMachineBuilder().removeCustomSymbol(t)}},{key:"renameSymbol",value:function(t,e){for(var n=null,r=null,o=[],i=this.graphController.getGraph(),u=i.getEdges().length,a=0;a<u;++a)(r=(n=i.getEdges()[a]).getEdgeLabel().replace(t,e))!=n.getEdgeLabel()&&o.push(n),n.setEdgeLabel(r);o.length<=0&&this.getMachineBuilder().renameCustomSymbol(t,e)}},{key:"getCustomSymbols",value:function(){return Array.from(this._machineBuilder.getMachine().getCustomSymbols())}},{key:"isCustomSymbol",value:function(t){return this._machineBuilder.isCustomSymbol(t)}},{key:"addCustomSymbol",value:function(t){this._machineBuilder.getMachine().setCustomSymbol(t)}},{key:"clearCustomSymbols",value:function(){this._machineBuilder.getMachine().clearCustomSymbols()}},{key:"getStackAlphabet",value:function(){var t=this._machineBuilder.getMachine();return Array.from(t.getStackAlphabet())}},{key:"isUsedStackSymbol",value:function(t){return!this.isCustomStackSymbol(t)}},{key:"createStackSymbol",value:function(t){this.addCustomStackSymbol(t)}},{key:"deleteStackSymbol",value:function(t){for(var e=null,n=null,r=null,o=[],i=this.graphController.getGraph(),u=i.getEdges().length-1;u>=0;--u)(n=(e=i.getEdges()[u]).getEdgeLabel().indexOf(t))>=0&&((r=e.getEdgeLabel().substring(0,n)+e.getEdgeLabel().substring(n+1)).length>0?e.setEdgeLabel(r):(e.setEdgeLabel(""),i.deleteEdge(e)),o.push(e));o.length<=0&&this.getMachineBuilder().removeCustomStackSymbol(t)}},{key:"renameStackSymbol",value:function(t,e){for(var n=null,r=null,o=[],i=this.graphController.getGraph(),u=i.getEdges().length,a=0;a<u;++a)(r=(n=i.getEdges()[a]).getEdgeLabel().replace(t,e))!=n.getEdgeLabel()&&o.push(n),n.setEdgeLabel(r);o.length<=0&&this.getMachineBuilder().renameCustomStackSymbol(t,e)}},{key:"getCustomStackSymbols",value:function(){return Array.from(this._machineBuilder.getMachine().getCustomStackSymbols())}},{key:"isCustomStackSymbol",value:function(t){return this._machineBuilder.isCustomStackSymbol(t)}},{key:"addCustomStackSymbol",value:function(t){this._machineBuilder.getMachine().setCustomStackSymbol(t)}},{key:"clearCustomStackSymbols",value:function(){this._machineBuilder.getMachine().clearCustomStackSymbols()}}])&&oe(n.prototype,r),o&&oe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(dt.A);var ye=n(2304);function he(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return be(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ve(t,e,n,r){var o=null,i=null,u=[],a=0;e&&r.push(e);var c,l=he(n);try{for(l.s();!(c=l.n()).done;){var s=c.value;if(o=s.state,i=s.stack,e=s.index<r.length?r[s.index]:null){a=s.index+1;var f,p=he(t.doTerminalTransition(o,e,i));try{for(p.s();!(f=p.n()).done;){var y=f.value;u.push({state:y[0],stack:y[1],index:a})}}catch(t){p.e(t)}finally{p.f()}}else if(t.isFinalState(o))return!0;a=s.index}}catch(t){l.e(t)}finally{l.f()}return n.length=0,n.push.apply(n,u),!1}function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ge(r.key),r)}}function ge(t){var e=function(t,e){if("object"!=me(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==me(e)?e:e+""}var we=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tapeInput=e?e.split(""):[],this._left=n,this._right=r,this._index=0},e=[{key:"stepForward",value:function(){++this._index}},{key:"stepBackward",value:function(){--this._index}},{key:"finish",value:function(){this._index=2*this._tapeInput.length}},{key:"reset",value:function(){this._index=-1}},{key:"stop",value:function(){this.finish(),this.reset()}},{key:"changeTapeSymbol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._tapeInput[t]=e}},{key:"getTapeSourceStatesByIndex",value:function(t){return null}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?"":this._tapeInput[t]||""}},{key:"isTapeLeftInfinite",value:function(){return this._left}},{key:"isTapeRightInfinite",value:function(){return this._right}},{key:"setCurrentTapeIndex",value:function(t){this._index=t}},{key:"getCurrentTapeIndex",value:function(){return this._index}},{key:"getTapeInput",value:function(){return this._tapeInput}}],e&&de(t.prototype,e),n&&de(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Se(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ke(r.key),r)}}function Pe(t,e,n){return e&&je(t.prototype,e),n&&je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ke(t){var e=function(t,e){if("object"!=_e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_e(e)?e:e+""}function Ce(t,e,n){return e=Ae(e),function(t,e){if(e&&("object"==_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Te()?Reflect.construct(e,n||[],Ae(t).constructor):e.apply(t,n))}function Te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Te=function(){return!!t})()}function Ae(t){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ae(t)}function xe(t,e){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xe(t,e)}var Me=function(t){function e(t,n,r){var o;return Ee(this,e),(o=Ce(this,e,[t.getTestString(),!1,!0]))._tester=t,o._graphController=n,o._machineController=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xe(t,e)}(e,t),Pe(e,[{key:"stepForward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepForward(t,e)}},{key:"stepBackward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepBackward(t,e)}},{key:"reset",value:function(){this._tester.resetPosition()}},{key:"finish",value:function(){var t=this._graphController,e=this._machineController;this._tester.runTest(t,e,!1)}},{key:"stop",value:function(){this._tester.stopTest()}},{key:"changeTapeSymbol",value:function(t){throw new Error("Operation not yet supported")}},{key:"getTapeSourceStatesByIndex",value:function(t){return t<0||t>=this._tapeInput.length?null:this._tester.getNodesAtPosition(t)}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?[]:this._tapeInput[t]||""}},{key:"setCurrentTapeIndex",value:function(t){this._tester.changePosition(t)}},{key:"getCurrentTapeIndex",value:function(){return this._tester.getPosition()}}])}(we),Ne=function(){return Pe(function t(){Ee(this,t),this._testString=null,this._testIndex=-1,this._tapeContext=null,this._cachePath=[],this._cachedResult=null,this._resolve=null,this._reject=null,this.registerEvent("startTest"),this.registerEvent("stepTest"),this.registerEvent("stopTest")},[{key:"targets",get:function(){return this._cachePath.length<=0?[]:this._cachePath[this._cachePath.length-1].targets}},{key:"startTest",value:function(t,e,n){var r=this;if(t||(t=""),this._tapeContext)throw new Error("Unable to start an already running test");return e.getGraph().isEmpty()?Promise.reject():(this._testString=t,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=new Me(this,e,n),this.emit("startTest",this),new Promise(function(t,e){r._resolve=t,r._reject=e}))}},{key:"stopTest",value:function(){if(!this._tapeContext)throw new Error("Unable to stop null test");if(this.emit("stopTest",this),!this._resolve)throw new Error("Must call startTest() before anything else");if(!this._reject)throw new Error("Must call startTest() before anything else");var t=null;return this._cachePath.length>=this._testString.length?(t=this._cachedResult,this._resolve(t)):(t=null,this._reject()),this._testString=null,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=null,Promise.resolve(t)}},{key:"runTest",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._tapeContext)throw new Error("Unable to run null test");return new Promise(function(o,i){var u=!1;do{u=n.stepForward(t,e,!r)}while(u);o(n._cachedResult)}).then(function(t){return r?n.stopTest():t})}},{key:"stepForward",value:function(t,e){var n=e.getMachineBuilder().getMachine();if(this._testIndex>=this._testString.length)return!1;if(++this._testIndex,this._cachePath.length<=this._testIndex){var r,o=null,i=this._testIndex===this._testString.length;if(this._testIndex<=0){r=[],o=[];var u,a=n.getStartState(),c=Se(n.doClosureTransition(a,[]));try{for(c.s();!(u=c.n()).done;){var l=u.value;r.push({state:l[0],stack:l[1],index:0})}}catch(t){c.e(t)}finally{c.f()}}else{var s=this._cachePath[this._testIndex-1];r=s.states.slice(),o=s.symbols.slice(),ve(n,this._testString[this._testIndex-1],r,o)}i&&(this._cachedResult=ve(n,null,r,o));var f,p=new Set,y=Se(r);try{for(y.s();!(f=y.n()).done;){var h=f.value,b=h.state.getSource();if(!b)throw new Error("Could not find node '"+h.state+"'");p.add(b)}}catch(t){y.e(t)}finally{y.f()}var v={targets:Array.from(p),states:r,symbols:o};this._cachePath.push(v)}return this.emit("stepTest"),!0}},{key:"stepBackward",value:function(t,e){return!(this._testIndex<=0)&&(--this._testIndex,this.emit("stepTest"),!0)}},{key:"isTesting",value:function(){return null!==this._testString}},{key:"changePosition",value:function(t){t>=this._cachePath.length?this._testIndex=this._cachePath.length-1:t<0?this._testIndex=0:t>=this._testString.length?this._testIndex=this._testString.length-1:this._testIndex=t}},{key:"resetPosition",value:function(){this._testIndex=-1}},{key:"getPosition",value:function(){return this._testIndex}},{key:"isComputedPosition",value:function(t){return this._cachePath.length>t}},{key:"getCurrentNodes",value:function(){return this._testIndex>=0&&this._testIndex<this._cachePath.length?this._cachePath[this._testIndex]:null}},{key:"getNodesAtPosition",value:function(t){return t>=0&&t<this._cachePath.length?this._cachePath[t].targets:null}},{key:"getTestString",value:function(){return this._testString}},{key:"getTapeContext",value:function(){return this._tapeContext}}])}();ye.A.mixin(Ne);const Ie=Ne;var Be=n(6858);function Re(t){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(t)}function De(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Le(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ve(r.key),r)}}function Ve(t){var e=function(t,e){if("object"!=Re(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Re(e)?e:e+""}function Ge(t,e,n){return e=ze(e),function(t,e){if(e&&("object"==Re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,He()?Reflect.construct(e,n||[],ze(t).constructor):e.apply(t,n))}function He(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(He=function(){return!!t})()}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}function Ue(t,e){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ue(t,e)}const We=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ge(this,e,[t])).targetIndex=0,n.targetLabel="";var r,o=De(t.message.targets);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=i.getNodeLabel()}}catch(t){o.e(t)}finally{o.f()}return n.onClick=n.onClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}(e,t),n=e,o=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n.targets,i=o.length;if(i>0&&this.targetIndex<i){var u=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),r.focusOnNode(u)}break;case"deleteall":var a=n.targets;r.deleteTargetNodes(a),r.applyAutoRename(),e.close()}}},{key:"render",value:function(){var t=this.props.message;return r.createElement(Be.Ay,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:Be.OD,notification:this.props.notification},r.createElement("p",null,t.text+": "+this.targetLabel),r.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),r.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}],o&&Fe(n.prototype,o),i&&Fe(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function Ke(t){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(t)}function Xe(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ye(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qe(r.key),r)}}function qe(t){var e=function(t,e){if("object"!=Ke(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ke(e)?e:e+""}function $e(t,e,n){return e=Je(e),function(t,e){if(e&&("object"==Ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ze()?Reflect.construct(e,n||[],Je(t).constructor):e.apply(t,n))}function Ze(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ze=function(){return!!t})()}function Je(t){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Je(t)}function tn(t,e){return tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tn(t,e)}const en=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=$e(this,e,[t])).targetIndex=0,n.targetLabel="";var r,o=Xe(t.message.targets);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+="("+i.getEdgeFrom().getNodeLabel()+", "+i.getEdgeLabel()+")  "+(i.getEdgeTo()instanceof c.A?i.getEdgeTo().getNodeLabel():"null")}}catch(t){o.e(t)}finally{o.f()}return n.onClick=n.onClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tn(t,e)}(e,t),n=e,o=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n.targets,i=o.length;if(i>0&&this.targetIndex<i){var u=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),r.focusOnEdge(u)}break;case"deleteall":var a=n.targets;r.deleteTargetEdges(a),e.close()}}},{key:"render",value:function(){return r.createElement(Be.Ay,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:Be.OD,notification:this.props.notification},r.createElement("p",null,this.props.message.text+": "+this.targetLabel),r.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),r.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}],o&&Qe(n.prototype,o),i&&Qe(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function rn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return on(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function on(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,an(r.key),r)}}function an(t){var e=function(t,e){if("object"!=nn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nn(e)?e:e+""}function cn(t,e,n){return e=sn(e),function(t,e){if(e&&("object"==nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ln()?Reflect.construct(e,n||[],sn(t).constructor):e.apply(t,n))}function ln(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ln=function(){return!!t})()}function sn(t){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sn(t)}function fn(t,e){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fn(t,e)}const pn=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=cn(this,e,[t])).targetIndex=0,n.targetLabel="";var r,o=rn(t.message);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=i.getNodeLabel()}}catch(t){o.e(t)}finally{o.f()}return n.onClick=n.onClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fn(t,e)}(e,t),n=e,o=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n[this.targetIndex++];this.targetIndex>=n.length&&(this.targetIndex=0),r.focusOnNode(o);break;case"deleteall":var i=n;r.deleteTargetNodes(i),r.applyAutoRename(),e.close()}}},{key:"render",value:function(){return r.createElement(Be.Ay,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:Be.a0,notification:this.props.notification},r.createElement("p",null,I18N.toString("message.warning.unreachable")+": "+this.targetLabel),r.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),r.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}],o&&un(n.prototype,o),i&&un(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);var yn="machine-state",hn="machine-transition",bn="machine-state-unreachable",vn="machine-error";function mn(t){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(t)}function dn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return gn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_n(r.key),r)}}function _n(t){var e=function(t,e){if("object"!=mn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mn(e)?e:e+""}const Sn=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._graphController=n,this._machineController=r,this._showErrorOnChange=!1,this.onMachineChange=this.onMachineChange.bind(this),r.getMachineBuilder().getMachineChangeHandler().addListener(this.onMachineChange)},(e=[{key:"onMachineChange",value:function(t){this._showErrorOnChange&&this.showErrors()}},{key:"setErrorChecking",value:function(t){this._showErrorOnChange=t}},{key:"isErrorChecking",value:function(){return this._showErrorOnChange}},{key:"showErrors",value:function(){var t={graphController:this._graphController,machineController:this._machineController},e=this._machineController.getMachineBuilder(),n=e.getMachineErrors(),r=e.getMachineWarnings(),o=this._app.getNotificationManager();if(o.clearNotifications(vn),n.length<=0&&r.length<=0)o.pushNotification(I18N.toString("message.error.none"),Y.Pr,vn,null,!1);else{var i,u=dn(r);try{for(u.s();!(i=u.n()).done;){var a=i.value;switch(a.name){case $t:o.pushNotification({text:"Found duplicate nodes of similar names",targets:a.nodes},yn,vn,t,!1);break;case qt:o.pushNotification(a.nodes,bn,vn,t,!1)}}}catch(t){u.e(t)}finally{u.f()}var c,l=dn(n);try{for(l.s();!(c=l.n()).done;){var s=c.value;s.name===Zt&&o.pushNotification({text:I18N.toString("message.error.incomplete"),targets:s.edges},hn,vn,t,!1)}}catch(t){l.e(t)}finally{l.f()}}}}])&&wn(t.prototype,e),n&&wn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();var On={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?e.clear():e=new z;for(var n=t.nodes||[],r=Math.min(n.length||0,t.nodeCount||0),o=t.edges||[],i=Math.min(o.length||0,t.edgeCount||0),u=t.initial||0,a=new Map,c=0;c<r;++c){var l=n[c];if(l){var s=e.createNode(l.x||0,l.y||0,l.id);s.setNodeLabel(l.label||""),s.setNodeAccept(l.accept||!1),s.setNodeCustom(l.custom||!1),a.set(c,s)}}var f=a.get(u);f&&e.setStartNode(f);for(var p=0;p<i;++p){var y=o[p];if(y){var h=a.get(y.from)||null;if(h){var b=a.get(y.to)||null,v=e.createEdge(h,b,y.id),m=y.quad||{};v.setEdgeLabel(y.label||""),v.setQuadraticRadians(m.radians||0),v.setQuadraticLength(m.length||0)}}}return e},objectify:function(t){for(var e=t.getNodes()||[],n=e.length||0,r=t.getEdges()||[],o=r.length||0,i=t.getStartNode(),u=new Array(n),a=new Map,c=0;c<n;++c){var l=e[c];if(l){var s=l.getGraphElementID();a.set(l,c),u[c]={id:s,x:l.x||0,y:l.y||0,label:l.getNodeLabel()||"",accept:l.getNodeAccept()||!1,custom:l.getNodeCustom()||!1}}}for(var f=new Array(o),p=0;p<o;++p){var y=r[p];if(y){var h=y.getGraphElementID(),b=y.getQuadratic()||{},v=y.getEdgeFrom(),m=y.getEdgeTo(),d=a.has(v)?a.get(v):-1,g=a.has(m)?a.get(m):-1;f[p]={id:h,from:d,to:g,quad:{radians:b.radians||0,length:b.length||0},label:y.getEdgeLabel()||""}}}return{nodeCount:n,nodes:u,edgeCount:o,edges:f,initial:a.get(i)||0,_version:"1.0.0"}}};function En(t){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(t)}function jn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Pn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cn(r.key),r)}}function Cn(t){var e=function(t,e){if("object"!=En(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=En(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==En(e)?e:e+""}function Tn(t,e,n){return e=xn(e),function(t,e){if(e&&("object"==En(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,An()?Reflect.construct(e,n||[],xn(t).constructor):e.apply(t,n))}function An(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(An=function(){return!!t})()}function xn(t){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xn(t)}function Mn(t,e){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mn(t,e)}const Nn=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Tn(this,e,[t]))._graphParser=n,r._prevGraphHash=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}(e,t),n=e,(r=[{key:"onParseSession",value:function(t,e){return JSON.parse(e)}},{key:"onPreImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph();this._prevGraphHash=e.getHashCode(!0),e.isEmpty()||t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){var n=t.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),i=r.getGraph(),u=e.machineData||{},a=u.type?String(u.type).toUpperCase():null;a&&"PDA"!==a?console.log("Skip loading content: expected PDA, got ".concat(a,".")):(this._graphParser.parse(e.graphData,i),function(t,e,n){var r=n.type;r&&e.setMachineType(r);var o=n.symbols;if(o&&Array.isArray(o)){e.clearCustomSymbols();var i,u=jn(o);try{for(u.s();!(i=u.n()).done;){var a=i.value;e.addCustomSymbol(a)}}catch(t){u.e(t)}finally{u.f()}}var c=n.statePrefix;c&&t.getGraphLabeler().setDefaultNodeLabelPrefix(c)}(n,r,o))}},{key:"onPostImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph().getHashCode(!0);this._prevGraphHash!==e&&t.getApp().getUndoManager().captureEvent()}}])&&kn(n.prototype,r),o&&kn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(n(625).A);var In=n(3411),Bn=n(7522);function Rn(t){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(t)}function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ln(r.key),r)}}function Ln(t){var e=function(t,e){if("object"!=Rn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rn(e)?e:e+""}function Fn(t,e,n){return e=Gn(e),function(t,e){if(e&&("object"==Rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vn()?Reflect.construct(e,n||[],Gn(t).constructor):e.apply(t,n))}function Vn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Vn=function(){return!!t})()}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}function Hn(t,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hn(t,e)}const zn=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Fn(this,e,[".pda.json"]))._graphParser=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}(e,t),n=e,(r=[{key:"onExportSession",value:function(t,e){var n=t.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),i=r.getGraph(),u=this._graphParser.objectify(i);e.graphData=u,e.machineData={type:"PDA",symbols:o.getCustomSymbols(),statePrefix:r.getGraphLabeler().getDefaultNodeLabelPrefix()}}},{key:"getIconClass",value:function(){return Bn.A}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}}])&&Dn(n.prototype,r),o&&Dn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(In.A);var Un=n(9240),Wn=n(2696),Kn=n(1236),Xn=n(9231),Yn=n(5972),Qn=n(8498),qn=n(5347),$n=n(8003),Zn=n(9117),Jn=n(3494),tr=n(2242),er=n(490);function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,or(r.key),r)}}function or(t){var e=function(t,e){if("object"!=nr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nr(e)?e:e+""}function ir(t,e,n){return e=ar(e),function(t,e){if(e&&("object"==nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ur()?Reflect.construct(e,n||[],ar(t).constructor):e.apply(t,n))}function ur(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ur=function(){return!!t})()}function ar(t){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ar(t)}function cr(t,e){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cr(t,e)}var lr="Enter",sr="Escape";const fr=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ir(this,e,[t])).state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cr(t,e)}(e,t),n=e,o=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.node,r=n?n.getNodeLabel():null;this.setState({value:r,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(t,this,e)}},{key:"onKeyDown",value:function(t){var e=t.key;e!==lr&&e!==sr||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;e===lr?n.blur():e===sr&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"render",value:function(){var t=this.props.node,e=this.state.value,n=t?t.getNodeLabel():"",o=!!t&&(t.getNodeCustom()||null!==e&&e!==n),i=!!t&&t.getNodeAccept(),u=null===e?n:e;return r.createElement("div",{id:this.props.id,className:er.A.element_container+(o?" custom ":"")+(!t.getNodeCustom()&&u.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(i?" accept ":"")+" "+this.props.className,style:this.props.style},r.createElement("input",{spellCheck:!1,style:{width:u.length+"ch"},value:u,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}],o&&rr(n.prototype,o),i&&rr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hr(r.key),r)}}function hr(t){var e=function(t,e){if("object"!=pr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pr(e)?e:e+""}function br(t,e,n){return e=mr(e),function(t,e){if(e&&("object"==pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vr()?Reflect.construct(e,n||[],mr(t).constructor):e.apply(t,n))}function vr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(vr=function(){return!!t})()}function mr(t){return mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mr(t)}function dr(t,e){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dr(t,e)}const gr=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=br(this,e,[t]))._prevX=0,n._prevY=0,n.onElementAdd=n.onElementAdd.bind(n),n.onElementFocus=n.onElementFocus.bind(n),n.onElementBlur=n.onElementBlur.bind(n),n.onElementChange=n.onElementChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(e,t),n=e,o=[{key:"onElementAdd",value:function(t){var e=this.props.graphController;this._prevX+=16,this._prevY+=16;var n=e.createNode(this._prevX,this._prevY);e.focusOnNode(n)}},{key:"onElementFocus",value:function(t,e){this._prevX=e.props.node.x,this._prevY=e.props.node.y,this.props.graphController.focusOnNode(e.props.node)}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.node;if(r){var o=this.props.graphController;if(null!==n){var i=o.getGraph();n.length>0?i.getNodesByLabel(n).length<=0&&o.renameNode(r,n):r.getNodeCustom()?(r.setNodeCustom(!1),o.applyAutoRename()):o.deleteTargetNode(r)}}}},{key:"onElementChange",value:function(t,e,n){var r=this.props.graphController;if(n.length>0){var o=r.getGraph().getNodesByLabel(n);if(o.length>1||1===o.length&&o[0]!==e.props.node)throw new Error("Not a valid node label")}}},{key:"render",value:function(){var t=this,e=this.props.graphController.getGraph().getNodes();return r.createElement("div",{id:this.props.id,className:$n.A.list_container,style:this.props.style},r.createElement("div",{className:$n.A.element_list},r.createElement(tr.A,{className:$n.A.first_marker}),e.map(function(e){return r.createElement(fr,{key:e.getGraphElementID(),node:e,onFocus:t.onElementFocus,onBlur:t.onElementBlur,onChange:t.onElementChange})})),r.createElement(Zn.A,{className:$n.A.add_button,title:"Add State",onClick:this.onElementAdd},r.createElement(Jn.A,null)))}}],o&&yr(n.prototype,o),i&&yr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);var wr=n(3948),_r=n(4039);function Sr(t){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(t)}function Or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Er(r.key),r)}}function Er(t){var e=function(t,e){if("object"!=Sr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sr(e)?e:e+""}function jr(t,e,n){return e=kr(e),function(t,e){if(e&&("object"==Sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pr()?Reflect.construct(e,n||[],kr(t).constructor):e.apply(t,n))}function Pr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Pr=function(){return!!t})()}function kr(t){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kr(t)}function Cr(t,e){return Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cr(t,e)}var Tr="Enter",Ar="Escape";const xr=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=jr(this,e,[t]))._inputElement=null,n.state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cr(t,e)}(e,t),n=e,o=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.symbol;this.setState({value:n,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.props.onBlur&&this.props.onBlur(t,this,e),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(t){var e=t.key;e!==Tr&&e!==Ar||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;e===Tr?n.blur():e===Ar&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var t=this,e=this.state.value,n=null===e?this.props.symbol:e,o=this.props.used||!1;return r.createElement("div",{id:this.props.id,className:_r.A.element_container+(null!==n&&n.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(o?" used ":"")+" "+this.props.className,style:this.props.style},r.createElement("input",{ref:function(e){return t._inputElement=e},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:n,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}],o&&Or(n.prototype,o),i&&Or(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}function Nr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ir(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Ir(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rr(r.key),r)}}function Rr(t){var e=function(t,e){if("object"!=Mr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mr(e)?e:e+""}function Dr(t,e,n){return e=Fr(e),function(t,e){if(e&&("object"==Mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Lr()?Reflect.construct(e,n||[],Fr(t).constructor):e.apply(t,n))}function Lr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Lr=function(){return!!t})()}function Fr(t){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fr(t)}function Vr(t,e){return Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vr(t,e)}const Gr=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Dr(this,e,[t])).newSymbolComponent=null,n.state={useNewSymbol:!1},n.onElementAdd=n.onElementAdd.bind(n),n.onElementFocus=n.onElementFocus.bind(n),n.onElementBlur=n.onElementBlur.bind(n),n.onElementChange=n.onElementChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vr(t,e)}(e,t),n=e,(o=[{key:"onElementAdd",value:function(t){var e=this;this.setState({useNewSymbol:!0},function(){e.newSymbolComponent.focus()})}},{key:"onElementFocus",value:function(t,e){}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.symbol,o=this.props.machineController;if(null!==n){var i=o.getMachineBuilder().getMachine();n.length>0?i.isSymbol(n)||(r?o.renameSymbol(r,n):o.createSymbol(n)):r&&o.deleteSymbol(r)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(t,e,n){var r=this.props.machineController;if(n.length>0&&r.getMachineBuilder().getMachine().isSymbol(n)&&n!==e.props.symbol)throw new Error("Not a valid symbol")}},{key:"renderAlphabetList",value:function(t,e){var n,o=[],i=Nr(e);try{for(i.s();!(n=i.n()).done;){var u=n.value;u&&o.push(r.createElement(xr,{key:u,symbol:u,used:t.isUsedSymbol(u),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(t){i.e(t)}finally{i.f()}return o}},{key:"render",value:function(){var t=this,e=this.props.machineController.getMachineBuilder().getMachine(),n=e.getAlphabet();return r.createElement("div",{id:this.props.id,className:wr.A.list_container,style:this.props.style},r.createElement("div",{className:wr.A.element_list},this.renderAlphabetList(e,n),r.createElement(xr,{ref:function(e){return t.newSymbolComponent=e},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),r.createElement(Zn.A,{className:wr.A.add_button,title:"Add Symbol",onClick:this.onElementAdd},r.createElement(Jn.A,null)))}}])&&Br(n.prototype,o),i&&Br(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);var Hr=n(1636),zr=n(9055);function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kr(r.key),r)}}function Kr(t){var e=function(t,e){if("object"!=Ur(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ur(e)?e:e+""}function Xr(t,e,n){return e=Qr(e),function(t,e){if(e&&("object"==Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yr()?Reflect.construct(e,n||[],Qr(t).constructor):e.apply(t,n))}function Yr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Yr=function(){return!!t})()}function Qr(t){return Qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qr(t)}function qr(t,e){return qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qr(t,e)}var $r="Enter",Zr="Escape";const Jr=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Xr(this,e,[t]))._inputElement=null,n.state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qr(t,e)}(e,t),n=e,o=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.symbol;this.setState({value:n,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.props.onBlur&&this.props.onBlur(t,this,e),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(t){var e=t.key;e!==$r&&e!==Zr||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;e===$r?n.blur():e===Zr&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var t=this,e=this.state.value,n=null===e?this.props.symbol:e,o=this.props.used||!1;return r.createElement("div",{id:this.props.id,className:zr.A.element_container+(null!==n&&n.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(o?" used ":"")+" "+this.props.className,style:this.props.style},r.createElement("input",{ref:function(e){return t._inputElement=e},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:n,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}],o&&Wr(n.prototype,o),i&&Wr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return no(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?no(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function no(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oo(r.key),r)}}function oo(t){var e=function(t,e){if("object"!=to(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=to(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==to(e)?e:e+""}function io(t,e,n){return e=ao(e),function(t,e){if(e&&("object"==to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uo()?Reflect.construct(e,n||[],ao(t).constructor):e.apply(t,n))}function uo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uo=function(){return!!t})()}function ao(t){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ao(t)}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},co(t,e)}const lo=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=io(this,e,[t])).newSymbolComponent=null,n.state={useNewSymbol:!1},n.onElementAdd=n.onElementAdd.bind(n),n.onElementFocus=n.onElementFocus.bind(n),n.onElementBlur=n.onElementBlur.bind(n),n.onElementChange=n.onElementChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(e,t),n=e,(o=[{key:"onElementAdd",value:function(t){var e=this;this.setState({useNewSymbol:!0},function(){e.newSymbolComponent.focus()})}},{key:"onElementFocus",value:function(t,e){}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.symbol,o=this.props.machineController;if(null!==n){var i=o.getMachineBuilder().getMachine();n.length>0?i.isStackSymbol(n)||(r?o.renameStackSymbol(r,n):o.createStackSymbol(n)):r&&o.deleteStackSymbol(r)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(t,e,n){var r=this.props.machineController;if(n.length>0&&r.getMachineBuilder().getMachine().isStackSymbol(n)&&n!==e.props.symbol)throw new Error("Not a valid symbol")}},{key:"renderStackAlphabetList",value:function(t,e){var n,o=[],i=eo(e);try{for(i.s();!(n=i.n()).done;){var u=n.value;u&&o.push(r.createElement(Jr,{key:u,symbol:u,used:t.isUsedStackSymbol(u),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(t){i.e(t)}finally{i.f()}return o}},{key:"render",value:function(){var t=this,e=this.props.machineController.getMachineBuilder().getMachine(),n=e.getStackAlphabet();return r.createElement("div",{id:this.props.id,className:Hr.A.list_container,style:this.props.style},r.createElement("div",{className:Hr.A.element_list},this.renderStackAlphabetList(e,n),r.createElement(Jr,{ref:function(e){return t.newSymbolComponent=e},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),r.createElement(Zn.A,{className:Hr.A.add_button,title:"Add Stack",onClick:this.onElementAdd},r.createElement(Jn.A,null)))}}])&&ro(n.prototype,o),i&&ro(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);var so=n(7457),fo=n(9755);function po(t){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(t)}function yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ho(r.key),r)}}function ho(t){var e=function(t,e){if("object"!=po(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=po(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==po(e)?e:e+""}function bo(t,e,n){return e=mo(e),function(t,e){if(e&&("object"==po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vo()?Reflect.construct(e,n||[],mo(t).constructor):e.apply(t,n))}function vo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(vo=function(){return!!t})()}function mo(t){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mo(t)}function go(t,e){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},go(t,e)}const wo=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=bo(this,e,[t])).onAutoStatePrefixSubmit=n.onAutoStatePrefixSubmit.bind(n),n.onAutoStatePrefixFormat=n.onAutoStatePrefixFormat.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(e,t),n=e,(o=[{key:"onAutoStatePrefixSubmit",value:function(t,e){var n=this.props.graphController,r=n.getGraphLabeler();r.getDefaultNodeLabelPrefix()!=t&&(r.setDefaultNodeLabelPrefix(t),n.applyAutoRename())}},{key:"onAutoStatePrefixFormat",value:function(t){return t&&t.length>0?t:this.props.graphController.getGraphLabeler().getDefaultNodeLabelPrefix()}},{key:"render",value:function(){var t=this.props.graphController;return r.createElement("div",{id:this.props.id,className:so.A.select_container+" "+this.props.className,style:this.props.style},r.createElement("label",{className:so.A.select_label},I18N.toString("options.autolabel")),r.createElement(fo.Ay,{className:so.A.prefix_editor,defaultValue:t.getGraphLabeler().getDefaultNodeLabelPrefix(),captureOnExit:"save",formatter:this.onAutoStatePrefixFormat,onSubmit:this.onAutoStatePrefixSubmit}),r.createElement("select",{className:so.A.postfix_selector,onChange:this.onMachineTypeChange,disabled:!0},r.createElement("option",null,"0-9"),r.createElement("option",null,"a-z"),r.createElement("option",null,"A-Z")))}}])&&yo(n.prototype,o),i&&yo(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function _o(t){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(t)}function So(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oo(r.key),r)}}function Oo(t){var e=function(t,e){if("object"!=_o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_o(e)?e:e+""}function Eo(t,e,n){return e=Po(e),function(t,e){if(e&&("object"==_o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jo()?Reflect.construct(e,n||[],Po(t).constructor):e.apply(t,n))}function jo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(jo=function(){return!!t})()}function Po(t){return Po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(t)}function ko(t,e){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ko(t,e)}var Co=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Eo(this,e,[t])).onAutoLayoutApply=n.onAutoLayoutApply.bind(n),n.onAutoLayoutChange=n.onAutoLayoutChange.bind(n),n.onAutoLabelChange=n.onAutoLabelChange.bind(n),n.onSnapToGridChange=n.onSnapToGridChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ko(t,e)}(e,t),n=e,o=[{key:"onAutoLayoutApply",value:function(t){this.props.session.getCurrentModule().getGraphController().applyAutoLayout()}},{key:"onAutoLayoutChange",value:function(t){}},{key:"onAutoLabelChange",value:function(t){this.props.session.getCurrentModule().getGraphController().setAutoRenameNodes(t.target.checked)}},{key:"onSnapToGridChange",value:function(t){}},{key:"render",value:function(){var t=this.props.drawer,n=this.props.session.getCurrentModule(),o=n.getGraphController(),i=n.getMachineController(),u=o.shouldAutoRenameNodes(),a=t.isDrawerFullscreen();return r.createElement(Kn.A,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},r.createElement(Yn.A,{title:I18N.toString("component.stateslist.title"),initial:!0,full:a},r.createElement(gr,{graphController:o})),r.createElement(Yn.A,{title:"Alphabet",initial:!0,full:a},r.createElement(Gr,{machineController:i})),r.createElement(Yn.A,{title:"Stack Alphabet",initial:!0,full:a},r.createElement(lo,{machineController:i})),r.createElement(Qn.A,null),r.createElement(wo,{graphController:o}),r.createElement("button",{className:Xn.A.autolayout_button,onClick:this.onAutoLayoutApply,disabled:o.getGraph().isEmpty()},I18N.toString("action.overview.autolayout")),r.createElement(Qn.A,null),r.createElement(qn.A,{id:"overview-auto-label",checked:u,title:I18N.toString("options.autorename"),onChange:this.onAutoLabelChange}))}}],o&&So(n.prototype,o),i&&So(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);Object.defineProperty(Co,"TITLE",{get:function(){return I18N.toString("component.overview.title")}});const To=Co;var Ao=n(2247),xo=n(1986),Mo=n(5320),No=(n(1252),n(3978),n(6703),n(7526),n(3406),n(6193)),Io=n(255),Bo=n(3464),Ro=n(3530),Do=n(9786),Lo=n(2170),Fo=n(4649);function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function Go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ho(r.key),r)}}function Ho(t){var e=function(t,e){if("object"!=Vo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vo(e)?e:e+""}function zo(t,e,n){return e=Wo(e),function(t,e){if(e&&("object"==Vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Uo()?Reflect.construct(e,n||[],Wo(t).constructor):e.apply(t,n))}function Uo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Uo=function(){return!!t})()}function Wo(t){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(t)}function Ko(t,e){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ko(t,e)}var Xo="default",Yo="success",Qo="failure",qo="working",$o=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=zo(this,e,[t])).inputElement=null,n.state={value:n.props.defaultValue||"",status:Xo},n.onChange=n.onChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ko(t,e)}(e,t),n=e,o=[{key:"focus",value:function(){this.inputElement&&this.inputElement.focus()}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.value!==t?this.setState({value:t},e):e&&e()}},{key:"setStatus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.status!==t?this.setState({status:t},e):e&&e()}},{key:"resetStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.status!==Xo?this.setState({status:Xo},t):t&&t()}},{key:"getValue",value:function(){return this.state.value}},{key:"getStatus",value:function(){return this.state.status}},{key:"onChange",value:function(t){var e=this,n=t.target.value;this.state.value!==n&&this.setState({value:n,status:Xo},function(){e.props.onValueChange&&e.props.onValueChange(n,e)})}},{key:"componentDidUpdate",value:function(t){t.defaultValue!==this.props.defaultValue&&this.props.defaultValue!==this.state.value&&this.setState({value:this.props.defaultValue||""})}},{key:"render",value:function(){var t=this,e=this.props.onDelete,n=this.props.onTest,o=this.props.active,i=this.props.placeholder,u=this.state.status;return r.createElement("div",{id:this.props.id,className:Bo.A.test_item_container+(o?" active ":"")+" "+u+" "+this.props.className,style:this.props.style},r.createElement(Zn.A,{className:Bo.A.test_button,title:"Test",disabled:!n,onClick:function(e){return n(e,t)}},u===Yo?r.createElement(Do.A,null):u===Qo?r.createElement(Lo.A,null):u===qo?r.createElement(Fo.A,null):r.createElement(Io.A,null)),r.createElement("div",{className:Bo.A.test_input},r.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",placeholder:i,value:this.state.value,onChange:this.onChange}),r.createElement("label",null,this.props.subtitle)),r.createElement(Zn.A,{className:Bo.A.delete_button,title:"Delete",disabled:!e,onClick:function(n){return e(n,t)}},r.createElement(Ro.A,null)))}}],o&&Go(n.prototype,o),i&&Go(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);const Zo=$o;function Jo(t){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(t)}function ti(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ei(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function ei(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ri(r.key),r)}}function ri(t){var e=function(t,e){if("object"!=Jo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jo(e)?e:e+""}function oi(t,e,n){return e=ui(e),function(t,e){if(e&&("object"==Jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ii()?Reflect.construct(e,n||[],ui(t).constructor):e.apply(t,n))}function ii(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ii=function(){return!!t})()}function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ui(t)}function ai(t,e){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ai(t,e)}var ci=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=oi(this,e,[t]))._controlTests=[],n._customTests=[],n._testName="test.txt",n._lastControlWords=t.controlWords,n._lastCustomWords=t.customWords,n.onTestNew=n.onTestNew.bind(n),n.onTestUpload=n.onTestUpload.bind(n),n.onTestDownload=n.onTestDownload.bind(n),n.onTestClose=n.onTestClose.bind(n),n.onTestAdd=n.onTestAdd.bind(n),n.onTestDelete=n.onTestDelete.bind(n),n.onTestTest=n.onTestTest.bind(n),n.onTestRunAll=n.onTestRunAll.bind(n),n.onGraphChange=n.onGraphChange.bind(n),n.onTestValueChange=n.onTestValueChange.bind(n),n.syncControlTests(t),n.syncCustomTests(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ai(t,e)}(e,t),n=e,o=[{key:"componentDidMount",value:function(){this.props.graphController.getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"componentWillUnmount",value:function(){this.props.graphController.getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"syncControlTests",value:function(t){var e=this,n=(t.controlWords||[]).filter(function(t){return t&&"string"==typeof t.word}).map(function(t){return{word:t.word,shouldAccept:!!t.shouldAccept}}).map(function(t,n){var r=e._controlTests[n];return r&&r.word===t.word&&r.shouldAccept===t.shouldAccept?r:{id:(0,_t.Os)(),word:t.word,shouldAccept:t.shouldAccept,ref:null}});this._controlTests=n,this._lastControlWords=t.controlWords}},{key:"syncCustomTests",value:function(t){var e=this,n=(t.customWords||[]).filter(function(t){return"string"==typeof t}).map(function(t){return t.trim()}).filter(function(t){return t.length>0});this._customTests=n.map(function(t,n){var r=e._customTests[n];return r?(r.defaultValue=t,r):{id:(0,_t.Os)(),defaultValue:t,ref:null}}),this._lastCustomWords=t.customWords}},{key:"getCustomWordList",value:function(){var t,e=[],n=ti(this._customTests);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=((r.ref?r.ref.getValue():r.defaultValue)||"").trim();o.length>0&&e.push(o)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"emitCustomWordsChange",value:function(){this.props.onCustomWordsChange&&this.props.onCustomWordsChange(this.getCustomWordList())}},{key:"onGraphChange",value:function(t){var e,n=ti(this._controlTests.concat(this._customTests));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.ref&&r.ref.resetStatus()}}catch(t){n.e(t)}finally{n.f()}}},{key:"onTestNew",value:function(t){this.isEmpty()||this.onTestClose(t),this.onTestAdd(t)}},{key:"onTestUpload",value:function(t){var e=this,n=new FileReader;n.onload=function(r){try{e._testName=t.name,e._customTests.length=0;var o,i=ti(r.target.result.split("\n"));try{for(i.s();!(o=i.n()).done;){var u=o.value;(u=u.trim()).length>0&&e._customTests.push({id:(0,_t.Os)(),defaultValue:u,ref:null})}}catch(t){i.e(t)}finally{i.f()}e._customTests.length<=0?e.onTestAdd(null):e.emitCustomWordsChange()}catch(t){n.abort()}},n.readAsText(t)}},{key:"onTestDownload",value:function(t){var e,n=[],r=ti(this._customTests);try{for(r.s();!(e=r.n()).done;){var o=e.value.ref;o&&n.push(o.getValue())}}catch(t){r.e(t)}finally{r.f()}(0,Mo.mR)(this._testName,n.join("\n"))}},{key:"onTestClose",value:function(t){var e=this.props.tester;e.isTesting()&&e.stopTest(),this._customTests.length=0,this.emitCustomWordsChange()}},{key:"onTestAdd",value:function(t){this._customTests.push({id:(0,_t.Os)(),defaultValue:"",ref:null}),this.emitCustomWordsChange()}},{key:"onTestRunAll",value:function(t){var e=this,n=this._controlTests.concat(this._customTests).filter(function(t){return!!t.ref}),r=0,o=function(){var t=n[r];e.onTestTest(null,t.ref,!0,function(){++r<n.length&&o()})};n.length>0&&o()}},{key:"onTestDelete",value:function(t,e){}},{key:"onTestValueChange",value:function(){this.emitCustomWordsChange()}},{key:"onTestTest",value:function(t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.props.immediate,o=this.props.tester,i=e.getValue();e.setState({status:qo});var u=this.props.graphController,a=this.props.machineController;if(o.startTest(i,u,a).then(function(t){e.setState({status:t?Yo:Qo})},function(t){e.setState({status:Xo})}),r){var c=o.runTest(u,a,!0);n&&c.then(n)}}},{key:"isEmpty",value:function(){return this._customTests.length<=0}},{key:"render",value:function(){var t=this;this._lastControlWords!==this.props.controlWords&&this.syncControlTests(this.props),this._lastCustomWords!==this.props.customWords&&this.syncCustomTests(this.props);var e=this.props.tester,n=this.props.graphController,o=this.isEmpty(),i=e&&e.isTesting(),u=n&&!n.getGraph().isEmpty(),a=this._controlTests.filter(function(t){return t.shouldAccept}),c=this._controlTests.filter(function(t){return!t.shouldAccept}),l=a.length>0,s=c.length>0,f=l||s||!o;return r.createElement("div",{id:this.props.id,className:xo.A.test_container+" "+this.props.className,style:this.props.style},r.createElement("div",{className:xo.A.test_sections+(i?" disabled ":"")},l&&r.createElement("div",{className:xo.A.test_section},r.createElement("div",{className:xo.A.test_section_title},"w  L"),r.createElement("div",{className:xo.A.test_list_scroll_container},r.createElement("div",{className:xo.A.test_list},a.map(function(o){var i=o.id,u=o.word||"",a=t.onTestTest;return e&&!n.getGraph().isEmpty()||(a=null),r.createElement(Zo,{key:i,ref:function(t){return o.ref=t},defaultValue:u,readOnly:!0,showDelete:!1,onTest:a})})))),s&&r.createElement("div",{className:xo.A.test_section},r.createElement("div",{className:xo.A.test_section_title},"w  L"),r.createElement("div",{className:xo.A.test_list_scroll_container},r.createElement("div",{className:xo.A.test_list},c.map(function(o){var i=o.id,u=o.word||"",a=t.onTestTest;return e&&!n.getGraph().isEmpty()||(a=null),r.createElement(Zo,{key:i,ref:function(t){return o.ref=t},defaultValue:u,readOnly:!0,showDelete:!1,onTest:a})})))),r.createElement("div",{className:xo.A.test_section},r.createElement("div",{className:xo.A.test_section_title},"eigene Wrter"),r.createElement(Zn.A,{className:xo.A.test_list_add,title:"Add",onClick:this.onTestAdd},r.createElement(No.A,null),r.createElement("span",{className:xo.A.test_list_count},o?"":""+this._customTests.length)),!o&&r.createElement("div",{className:xo.A.test_list_scroll_container},r.createElement("div",{className:xo.A.test_list},this._customTests.map(function(o,i){var u=o.id,a=o.defaultValue||"",c=t.onTestTest;return e&&!n.getGraph().isEmpty()||(c=null),r.createElement(Zo,{key:u,ref:function(t){return o.ref=t},defaultValue:a,showDelete:!0,onTest:c,onValueChange:t.onTestValueChange,onDelete:function(e,n){t._customTests.splice(i,1),t.emitCustomWordsChange(),t.onTestDelete(e,n)}})}))))),f&&r.createElement(Zn.A,{className:xo.A.test_list_runall,title:"Run All",disabled:i||!u,onClick:this.onTestRunAll},r.createElement(Io.A,null)))}}],o&&ni(n.prototype,o),i&&ni(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);const li=ci;function si(t){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(t)}function fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pi(r.key),r)}}function pi(t){var e=function(t,e){if("object"!=si(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=si(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==si(e)?e:e+""}function yi(t,e,n){return e=bi(e),function(t,e){if(e&&("object"==si(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hi()?Reflect.construct(e,n||[],bi(t).constructor):e.apply(t,n))}function hi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(hi=function(){return!!t})()}function bi(t){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bi(t)}function vi(t,e){return vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vi(t,e)}var mi=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=yi(this,e,[t])).state={stepMode:!1},n.onStepTestChange=n.onStepTestChange.bind(n),n.onAutoErrorCheckChange=n.onAutoErrorCheckChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vi(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.session,n=t.getApp(),r=t.getCurrentModule(),o=t.getTaskViewConfig?t.getTaskViewConfig():null,i=o&&Array.isArray(o.customWords)?o.customWords:[];i.length>0&&r&&"function"==typeof r.getCustomTestWords&&"function"==typeof r.setCustomTestWords&&r.getCustomTestWords().length<=0&&r.setCustomTestWords(i);var u=r._tester;u.on("startTest",function(t){n._viewport.setCurrentView(1),n._drawer.setDrawerSoloClass(e),n._drawer.closeDrawer()}),u.on("stopTest",function(t){n._viewport.setCurrentView(0),n._drawer.setDrawerSoloClass(null),n._drawer.openDrawer()})}},{key:"onStepTestChange",value:function(t){this.setState(function(t,e){return{stepMode:!t.stepMode}})}},{key:"onAutoErrorCheckChange",value:function(t){var e=this.props.session.getCurrentModule().getErrorChecker(),n=e.isErrorChecking();e.setErrorChecking(!n),n&&this.props.session.getApp().getNotificationManager().clearNotifications(vn)}},{key:"render",value:function(){var t=this.props.session,n=t.getCurrentModule(),o=n.getGraphController(),i=n.getMachineController(),u=n.getStringTester(),a=n.getErrorChecker(),c=t&&t.getTaskViewConfig?t.getTaskViewConfig():null,l=c&&c.controlWords?c.controlWords:[],s=n&&"function"==typeof n.getCustomTestWords?n.getCustomTestWords():null,f=c&&Array.isArray(c.customWords)?c.customWords:[],p=Array.isArray(s)?s:f,y=this.state.stepMode,h=a.isErrorChecking();return r.createElement(Kn.A,{id:this.props.id,className:Ao.A.panel_container+" "+this.props.className,style:this.props.style,title:e.TITLE},r.createElement(li,{tester:u,graphController:o,machineController:i,immediate:!y,controlWords:l,customWords:p,onCustomWordsChange:function(e){n&&"function"==typeof n.setCustomTestWords&&n.setCustomTestWords(e);var r=t&&"function"==typeof t.getApp?t.getApp():null;r&&"function"==typeof r.onCustomWordsChanged&&r.onCustomWordsChanged(e)}}),r.createElement(qn.A,{id:"testing-error-check",checked:h,onChange:this.onAutoErrorCheckChange,title:I18N.toString("options.testing.errorcheck")}))}}])&&fi(n.prototype,o),i&&fi(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);Object.defineProperty(mi,"TITLE",{get:function(){return I18N.toString("component.testing.title")}});const di=mi;var gi=n(6171),wi=n(2705),_i=n(8696),Si=n(345),Oi=n(5161),Ei=n(9898);function ji(t){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(t)}function Pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ki(r.key),r)}}function ki(t){var e=function(t,e){if("object"!=ji(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ji(e)?e:e+""}function Ci(t,e,n){return e=Ai(e),function(t,e){if(e&&("object"==ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ti()?Reflect.construct(e,n||[],Ai(t).constructor):e.apply(t,n))}function Ti(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ti=function(){return!!t})()}function Ai(t){return Ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ai(t)}function xi(t,e){return xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xi(t,e)}const Mi=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ci(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}(e,t),n=e,o=[{key:"render",value:function(){var t=this.props.node,e=this.props.fill,n=this.props.stroke,o=this.props.onMouseOver,i=this.props.onMouseOut,u=this.props.pointerEvents,a=t.getNodeLabel(),c=t.getNodeSize(),l=t.getNodeAccept();return r.createElement(r.Fragment,null,r.createElement(Ei.Ay,{position:t,radius:c,label:a,color:e,outline:n,onMouseOver:o?function(e){(e.target.value||(e.target.value={})).source=t,o(e)}:null,onMouseOut:i?function(e){(e.target.value||(e.target.value={})).source=t,i(e)}:null,pointerEvents:u}),l&&r.createElement(Ei.Ay,{position:t,radius:.7*c,color:"none",outline:n}))}}],o&&Pi(n.prototype,o),i&&Pi(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);var Ni=n(3668);function Ii(t){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(t)}function Bi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ri(r.key),r)}}function Ri(t){var e=function(t,e){if("object"!=Ii(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ii(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ii(e)?e:e+""}function Di(t,e,n){return e=Fi(e),function(t,e){if(e&&("object"==Ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Li()?Reflect.construct(e,n||[],Fi(t).constructor):e.apply(t,n))}function Li(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Li=function(){return!!t})()}function Fi(t){return Fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fi(t)}function Vi(t,e){return Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vi(t,e)}const Gi=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Di(this,e))._inputController=t,r._graphController=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vi(t,e)}(e,t),n=e,(r=[{key:"onDblInputEvent",value:function(t){var e=this._inputController,n=this._graphController;if(e.getCurrentTargetType()===Ei.c6){var r=e.getCurrentTargetSource();r.setNodeAccept(!r.getNodeAccept()),n.emitGraphEvent("node-accept-change",{target:r})}}}])&&Bi(n.prototype,r),o&&Bi(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ni.A);var Hi=n(7807);function zi(t){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(t)}function Ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wi(r.key),r)}}function Wi(t){var e=function(t,e){if("object"!=zi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zi(e)?e:e+""}function Ki(t,e,n){return e=Yi(e),function(t,e){if(e&&("object"==zi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xi()?Reflect.construct(e,n||[],Yi(t).constructor):e.apply(t,n))}function Xi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Xi=function(){return!!t})()}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yi(t)}function Qi(t,e){return Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qi(t,e)}const qi=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ki(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qi(t,e)}(e,t),n=e,o=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke,n=this.props.onMouseOver,o=this.props.onMouseOut,i=this.props.pointerEvents,u=t.getStartPoint(),a=t.getEndPoint(),c=t.getCenterPoint(),l=t.getEdgeLabel(),s=t.getEdgeDirection();return r.createElement(r.Fragment,null,r.createElement(Hi.Ay,{directed:Hi.zK,from:u,to:a,center:c,label:l.split(T).join("\n"),direction:s,color:e,onMouseOver:n?function(e){(e.target.value||(e.target.value={})).source=t,n(e)}:null,onMouseOut:o?function(e){(e.target.value||(e.target.value={})).source=t,o(e)}:null,pointerEvents:i}))}}],o&&Ui(n.prototype,o),i&&Ui(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}function Zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ji(r.key),r)}}function Ji(t){var e=function(t,e){if("object"!=$i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$i(e)?e:e+""}function tu(t,e,n){return e=nu(e),function(t,e){if(e&&("object"==$i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,eu()?Reflect.construct(e,n||[],nu(t).constructor):e.apply(t,n))}function eu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(eu=function(){return!!t})()}function nu(t){return nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nu(t)}function ru(t,e){return ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ru(t,e)}const ou=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=tu(this,e,[t]);var r=t.graphView,o=t.graphController,i=r.getInputController();return n._fsaNodeInputHandler=new Gi(i,o),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ru(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){this.props.graphView.getInputContext().addInputHandler(this._fsaNodeInputHandler)}},{key:"componentWillUnmount",value:function(){this.props.graphView.getInputContext().removeInputHandler(this._fsaNodeInputHandler)}},{key:"render",value:function(){var t=this.props.graphView,e=this.props.graphController,n=this.props.editable,o=e.getGraph(),i=t.getInputController(),u=t.getInputContext();return r.createElement(r.Fragment,null,r.createElement(Oi.A,{inputController:i,graphController:e,inputContext:u,inputPriority:-1,editable:n}),r.createElement(wi.A,{nodes:o.getNodes(),inputController:i,graphController:e,nodeRenderer:Mi,inputContext:u,inputPriority:-1,editable:n}),r.createElement(_i.A,{ref:function(t){t&&t.getGraphEdgeInputHandler().setShouldDeleteEdgeWithEmptyLabel(!0).setShouldDeleteEdgePlaceholder(!0)},edges:o.getEdges(),inputController:i,graphController:e,edgeRenderer:qi,inputContext:u,inputPriority:-1,editable:n}),r.createElement(Si.A,{inputController:i,graphController:e,inputContext:u,inputPriority:-1}))}}])&&Zi(n.prototype,o),i&&Zi(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);var iu=n(2328),uu=n(3937),au=n(4944),cu=n(7601),lu=n(9143),su=n(643);function fu(t){return fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(t)}function pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yu(r.key),r)}}function yu(t){var e=function(t,e){if("object"!=fu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fu(e)?e:e+""}function hu(t,e,n){return e=vu(e),function(t,e){if(e&&("object"==fu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bu()?Reflect.construct(e,n||[],vu(t).constructor):e.apply(t,n))}function bu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bu=function(){return!!t})()}function vu(t){return vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(t)}function mu(t,e){return mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mu(t,e)}var du=["0","1"],gu=[N];const wu=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),hu(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mu(t,e)}(e,t),n=e,o=[{key:"renderSymbol",value:function(t){var e=this.props.graphController.getLabelEditor();if(!e)return null;var n=e.inputComponent;return r.createElement(su.A,{key:t,parent:n,title:t,onClick:function(e){return n.appendValue(t,A)}})}},{key:"render",value:function(){var t=this,e=this.props.graphController.getLabelEditor(),n=this.props.currentModule.getMachineController().getAlphabet(),o=e&&e.getTarget()instanceof lu.A,i=e&&e.getTarget()instanceof c.A,u=!n||n.length<=1;return r.createElement("div",{className:cu.A.tray_container},o&&r.createElement("span",null,r.createElement("span",{className:cu.A.tray_used},n.map(function(e){return t.renderSymbol(e)})),r.createElement("span",{className:cu.A.tray_default},u&&du.map(function(e){return t.renderSymbol(e)}),gu.map(function(e){return t.renderSymbol(e)}))),i&&r.createElement("span",null,r.createElement(su.A,{parent:e.inputComponent,title:e.getTarget().getNodeCustom()?"Custom":"Auto",onClick:function(){e.getTarget().setNodeCustom(!e.getTarget().getNodeCustom())}}),r.createElement(su.A,{parent:e.inputComponent,title:e.getTarget().getNodeAccept()?"Accept":"Reject",onClick:function(){e.getTarget().setNodeAccept(!e.getTarget().getNodeAccept())}})))}}],o&&pu(n.prototype,o),i&&pu(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function _u(t){return _u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(t)}function Su(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ou(r.key),r)}}function Ou(t){var e=function(t,e){if("object"!=_u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_u(e)?e:e+""}function Eu(t,e,n){return e=Pu(e),function(t,e){if(e&&("object"==_u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ju()?Reflect.construct(e,n||[],Pu(t).constructor):e.apply(t,n))}function ju(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ju=function(){return!!t})()}function Pu(t){return Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pu(t)}function ku(t,e){return ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ku(t,e)}const Cu=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Eu(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ku(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=this.props.graphView,o=this.props.graphController,i=o.getLabelFormatter(),u=n.getInputController();return r.createElement(r.Fragment,null,r.createElement(iu.A,{graphController:o,inputController:u,viewport:n.getViewportComponent(),session:t}),r.createElement(uu.A,{style:{right:0},viewportAdapter:n.getViewportAdapter()}),r.createElement(au.A,{ref:function(t){return o.setLabelEditor(t)},labelFormatter:i,viewport:n.getViewportComponent(),saveOnExit:!0},r.createElement(wu,{graphController:o,currentModule:e})))}}])&&Su(n.prototype,o),i&&Su(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);var Tu=n(3606),Au=n(2435);function xu(t){return xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(t)}function Mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nu(r.key),r)}}function Nu(t){var e=function(t,e){if("object"!=xu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xu(e)?e:e+""}function Iu(t,e,n){return e=Ru(e),function(t,e){if(e&&("object"==xu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Bu()?Reflect.construct(e,n||[],Ru(t).constructor):e.apply(t,n))}function Bu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Bu=function(){return!!t})()}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ru(t)}function Du(t,e){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Du(t,e)}const Lu=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Iu(this,e,[t])).onTapeStepBackward=n.onTapeStepBackward.bind(n),n.onTapeStepForward=n.onTapeStepForward.bind(n),n.onTapeFinish=n.onTapeFinish.bind(n),n.onTapeReset=n.onTapeReset.bind(n),n.onTapeSkipForward=n.onTapeSkipForward.bind(n),n.onTapeSkipBackward=n.onTapeSkipBackward.bind(n),n.onTapeStop=n.onTapeStop.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Du(t,e)}(e,t),n=e,o=[{key:"onTapeStepBackward",value:function(t){this.props.value.stepBackward()}},{key:"onTapeStepForward",value:function(t){this.props.value.stepForward()}},{key:"onTapeSkipForward",value:function(t){}},{key:"onTapeSkipBackward",value:function(t){}},{key:"onTapeReset",value:function(t){this.props.value.reset()}},{key:"onTapeFinish",value:function(t){this.props.value.finish()}},{key:"onTapeStop",value:function(t){this.props.value.stop()}},{key:"render",value:function(){var t=this.props.value,e=t?t.getCurrentTapeIndex():-1;return t?r.createElement("div",{id:this.props.id,className:Tu.A.tape_container+" "+this.props.className,style:this.props.style},r.createElement("div",{className:Tu.A.tape_control_tray},r.createElement("button",{onClick:this.onTapeStepBackward},"BACK"),r.createElement("button",{onClick:this.onTapeStepForward},"STEP"),r.createElement("button",{onClick:this.onTapeReset},"RESET"),r.createElement("button",{onClick:this.onTapeFinish},"TO END")),r.createElement("div",{className:Tu.A.tape_control_tray},r.createElement("button",{onClick:this.onTapeSkipForward},"SKIP TO NEXT"),r.createElement("button",{onClick:this.onTapeSkipBackward},"SKIP TO PREV"),r.createElement("button",{onClick:this.onTapeStop},"STOP")),r.createElement("div",{className:"tape-row"},t.isTapeLeftInfinite()&&r.createElement("div",{className:"tape-row-entry infinite"},r.createElement("span",{className:"tape-row-states"}),r.createElement("label",{className:"tape-row-symbol"},"...")),r.createElement(Au.A,{className:"tape-pointer",style:{opacity:e<0?0:1,left:e+"em"}}),t.getTapeInput().map(function(n,o){var i,u;i=e===o,u=e===o-1;var a=t.getTapeSourceStatesByIndex(o),c=null===a;return r.createElement("div",{key:n+":"+o,className:"tape-row-entry"+(i?" active ":"")+(u?" active-read ":"")+(c?" disabled ":""),onClick:function(e){return c?null:t.setCurrentTapeIndex(o)}},a&&r.createElement("span",{className:"tape-row-states"},a.map(function(t){return r.createElement("label",{key:t.getGraphElementID()},t.getNodeLabel())})),r.createElement("label",{className:"tape-row-symbol"},n))}),t.isTapeRightInfinite()&&r.createElement("div",{className:"tape-row-entry infinite"},r.createElement("span",{className:"tape-row-states"}),r.createElement("label",{className:"tape-row-symbol"},"...")))):null}}],o&&Mu(n.prototype,o),i&&Mu(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function Fu(t){return Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(t)}function Vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gu(r.key),r)}}function Gu(t){var e=function(t,e){if("object"!=Fu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fu(e)?e:e+""}function Hu(t,e,n){return e=Uu(e),function(t,e){if(e&&("object"==Fu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zu()?Reflect.construct(e,n||[],Uu(t).constructor):e.apply(t,n))}function zu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zu=function(){return!!t})()}function Uu(t){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(t)}function Wu(t,e){return Wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wu(t,e)}const Ku=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Hu(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wu(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this.props.graphView,e=this.props.tester;return r.createElement(r.Fragment,null,r.createElement(uu.A,{style:{right:0},viewportAdapter:t.getViewportAdapter()}),r.createElement(Lu,{style:{position:"absolute",bottom:0},value:e?e.getTapeContext():null}))}}])&&Vu(n.prototype,o),i&&Vu(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);var Xu=n(4645);function Yu(t){return Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(t)}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qu(r.key),r)}}function qu(t){var e=function(t,e){if("object"!=Yu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yu(e)?e:e+""}var $u=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._graph=new z,this._graphController=new mt(e,this._graph,null),this._graphViewComponent=r.createRef();var o=this._graphController;e.getRenderManager().addRenderer(u.Ri,function(t){return r.createElement(Xu.A,{ref:n._graphViewComponent,renderGraph:function(t){return r.createElement(ou,{graphView:t,graphController:o,editable:!n._testMode})},renderOverlay:function(t){return n._testMode?r.createElement(Ku,{graphView:t,tester:n._tester}):r.createElement(Cu,{graphView:t,graphController:o,session:n._app.getSession()})}})}),this._machineController=new pe(this),this._errorChecker=new Sn(e,this._graphController,this._machineController),this._tester=new Ie,this._testMode=!1,this._customTestWords=[]},e=[{key:"setCustomTestWords",value:function(t){this._customTestWords=Array.isArray(t)?t.filter(function(t){return"string"==typeof t}).map(function(t){return t.trim()}).filter(function(t){return t.length>0}):[]}},{key:"getCustomTestWords",value:function(){return this._customTestWords||[]}},{key:"initialize",value:function(t){var e,n=this;(e=t.getNotificationManager()).registerNotificationLayout(bn,pn),e.registerNotificationLayout(yn,We),e.registerNotificationLayout(hn,en),t.getExportManager().registerExporter(new zn(On),"session"),(0,Un.B8)(t.getExportManager()),t.getImportManager().addImporter(new Nn(t,On),".pda.json",".json"),t.getUndoManager().setEventHandlerFactory(function(){return new Wn.A(n._graphController,On)});var o=t.getTaskViewConfig?t.getTaskViewConfig():null,u=!!(o&&o.description&&o.description.trim().length>0),a=t.getDrawerManager();a.addPanelClass(function(t){return r.createElement(Kn.A,{id:t.id,className:t.className,style:t.style,title:"Pushdown Automata"},r.createElement("p",null,"Brought to you with  by the Flap.js team."),r.createElement("p",null,"<- Tap on a tab to begin!"))}),u&&a.addPanelClass(gi.A),a.addPanelClass(To).addPanelClass(di),t.getHotKeyManager().registerHotKey("Export to PNG",[i.gd,"KeyP"],function(){t.getExportManager().tryExportFile("image-png",t.getSession())}).registerHotKey("Save Task",[i.gd,"KeyS"],function(){"function"!=typeof t.saveContent?t.getExportManager().tryExportFile("session",t.getSession()):t.saveContent(!1)}),t.getTooltipManager().addTooltip(I18N.toString("message.workspace.empty")),this._machineController.initialize(this),this._graphController.initialize()}},{key:"update",value:function(t){this._graphController.update(),this._machineController.update(this)}},{key:"destroy",value:function(t){this._machineController.destroy(this),this._graphController.destroy()}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o.v)(t,e,function(){return t.getToolbarComponent().closeBar()})}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getGraphView",value:function(){return this._graphViewComponent.current}},{key:"getErrorChecker",value:function(){return this._errorChecker}},{key:"getStringTester",value:function(){return this._tester}},{key:"getModuleVersion",value:function(){return"0.0.1"}},{key:"getModuleName",value:function(){return"pda"}},{key:"getLocalizedModuleName",value:function(){return"Pushdown Automata"}},{key:"getApp",value:function(){return this._app}}],e&&Qu(t.prototype,e),n&&Qu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const Zu=$u},4558(t,e,n){n.d(e,{A:()=>S});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f=[8,6];const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this.props.center,e=this.props.color||"#CCCCCC",n=this.props.radius||24;return r.createElement(r.Fragment,null,r.createElement("circle",{className:"graph-ui",cx:t.x,cy:t.y,r:n,stroke:e,strokeDashoffset:0,strokeDasharray:f,strokeWidth:3,fill:"none",pointerEvents:"none"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.Component);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return b(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}function d(t,e,n){return e=w(e),function(t,e){if(e&&("object"==y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,n||[],w(t).constructor):e.apply(t,n))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}const S=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=[],e=this.props.nodes;if(e){var n,o=h(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;t.push(r.createElement(p,{key:i.getGraphElementID(),center:i,radius:i.getNodeSize()+4}))}}catch(t){o.e(t)}finally{o.f()}}var u=this.props.edges;if(u){var a,c=h(u);try{for(c.s();!(a=c.n()).done;){var l=a.value;t.push(r.createElement(p,{key:l.getGraphElementID(),center:l.getCenterPoint()}))}}catch(t){c.e(t)}finally{c.f()}}return r.createElement("g",null,t)}}])&&v(n.prototype,o),i&&v(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component)},4645(t,e,n){n.d(e,{A:()=>st});var r=n(6540),o=n(9679);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._element=null,this._offsetX=0,this._offsetY=0,this._nextOffsetX=0,this._nextOffsetY=0,this._offsetDamping=.1,this._scaleFactor=1,this._minScale=1,this._maxScale=1},e=[{key:"setElement",value:function(t){return this._element=t,this}},{key:"setMinScale",value:function(t){return this._minScale=t,this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale),this}},{key:"setMaxScale",value:function(t){return this._maxScale=t,this._scaleFactor>this._maxScale&&(this._scaleFactor=this._maxScale),this}},{key:"setOffsetDamping",value:function(t){return this._offsetDamping=t,this}},{key:"update",value:function(){var t=this._nextOffsetX-this._offsetX;this._offsetX+=t*this._offsetDamping;var e=this._nextOffsetY-this._offsetY;this._offsetY+=e*this._offsetDamping}},{key:"transformScreenToView",value:function(t,e){if(!this._element)return{x:t-this._offsetX,y:e-this._offsetY};var n=this._element.getScreenCTM();return{x:(t-n.e)/n.a-this._offsetX,y:(e-n.f)/n.d-this._offsetY}}},{key:"setOffset",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._nextOffsetX=this._offsetX=t,this._nextOffsetY=this._offsetY=e):(this._nextOffsetX=t,this._nextOffsetY=e)}},{key:"addOffset",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._offsetX+=t,this._offsetY+=e,this._nextOffsetX=this._offsetX,this._nextOffsetY=this._offsetY):(this._nextOffsetX+=t,this._nextOffsetY+=e)}},{key:"setScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,t))}},{key:"addScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,this._scaleFactor+t))}},{key:"getOffsetX",value:function(){return this._offsetX}},{key:"getOffsetY",value:function(){return this._offsetY}},{key:"getOffsetDamping",value:function(){return this._offsetDamping}},{key:"getScale",value:function(){return this._scaleFactor}},{key:"getMinScale",value:function(){return this._minScale}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"getElement",value:function(){return this._element}}],e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const l=c;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var b=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputHandlers=[]},e=[{key:"addInputHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e<0?this._inputHandlers.push(t):(this._inputHandlers.length<=e&&(this._inputHandlers.length=e+1),this._inputHandlers[e]?this._inputHandlers.splice(1,0,t):this._inputHandlers[e]=t),this}},{key:"removeInputHandler",value:function(t){var e=this._inputHandlers.indexOf(t);return e>=0&&(this._inputHandlers[e]=null),this}},{key:"clearInputHandlers",value:function(){this._inputHandlers.length=0}},{key:"handleEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o,i=f(this._inputHandlers);try{for(i.s();!(o=i.n()).done;){var u=o.value;if(u){var a=u[t];if("function"==typeof a&&a.apply(u,n))return u}}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"getInputHandlers",value:function(){return this._inputHandlers}}],e&&y(t.prototype,e),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const v=b;function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}const w=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputAdapter=e,this._viewportAdapter=n,this._element=r,this._active=!1,this._x=0,this._y=0,this._inputpos={x:0,y:0}},(e=[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"setPosition",value:function(t,e){return this._x=t,this._y=e,this}},{key:"beginInput",value:function(){this._active=!0,this._inputpos.x=this._x,this._inputpos.y=this._y}},{key:"getInputEventPosition",value:function(){return this._inputpos}},{key:"changeInputEventPosition",value:function(t,e){this._inputpos.x=t,this._inputpos.y=e}},{key:"endInput",value:function(){this._active=!1}},{key:"isActive",value:function(){return this._active}},{key:"getDistanceSquToInitial",value:function(){var t=this._inputpos,e=t.x-this._x,n=t.y-this._y;return e*e+n*n}},{key:"getElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getInputAdapter",value:function(){return this._inputAdapter}}])&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return O(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function j(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_(e)?e:e+""}function P(t,e,n){return e=T(e),function(t,e){if(e&&("object"==_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,k()?Reflect.construct(e,n||[],T(t).constructor):e.apply(t,n))}function k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(k=function(){return!!t})()}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(null,arguments)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}var x=1/300,M=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=P(this,e))._viewportAdapter=t,n._contexts=[],n._activeDragHandler=null,n._element=null,n._cursor={_mousemove:null,_mouseup:null,_touchmove:null,_touchend:null,_timer:null},n._pointer=null,n._dragging=!1,n._altinput=!1,n._holdInputDelay=600,n._dblInputDelay=600,n._scrollSensitivity=x,n._minTapRadius=256,n._draggingRadiusSqu=340,n._prevEmptyInput=!1,n._prevEmptyTime=0,n._prevEmptyX=0,n._prevEmptyY=0,n.onContextMenu=n.onContextMenu.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onTouchStart=n.onTouchStart.bind(n),n.onWheel=n.onWheel.bind(n),n.onMouseDownThenMove=n.onMouseDownThenMove.bind(n),n.onMouseDownThenUp=n.onMouseDownThenUp.bind(n),n.onTouchStartThenMove=n.onTouchStartThenMove.bind(n),n.onTouchStartThenEnd=n.onTouchStartThenEnd.bind(n),n.onDelayedInputDown=n.onDelayedInputDown.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(e,t),n=e,r=[{key:"bindContext",value:function(t){if(!(t instanceof v))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.unshift(t),this}},{key:"bindContextAsLast",value:function(t){if(!(t instanceof v))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.push(t),this}},{key:"unbindContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=this._contexts.indexOf(t);return e>=0?(this._contexts.splice(e,1),t):null}return this._contexts.shift()}},{key:"clearContexts",value:function(){this._contexts.length=0}},{key:"hasContexts",value:function(){return this._contexts.length>0}},{key:"getCurrentContext",value:function(){return this._contexts.length>0?this._contexts[this._contexts.length-1]:this}},{key:"initialize",value:function(t){if(!(t instanceof SVGElement))throw new Error("Missing SVG element for input adapter's viewport");if(this._element)throw new Error("Trying to initialize an InputAdapter already initialized");this._viewportAdapter.setElement(this._element=t),this._pointer=new w(this,this._viewportAdapter,this._element),this._element.addEventListener("mousedown",this.onMouseDown),this._element.addEventListener("mousemove",this.onMouseMove),this._element.addEventListener("touchstart",this.onTouchStart),this._element.addEventListener("touchmove",this.onTouchMove),this._element.addEventListener("contextmenu",this.onContextMenu),this._element.addEventListener("wheel",this.onWheel)}},{key:"destroy",value:function(){if(!this._element)throw new Error("Trying to destroy an InputAdapter that is not yet initialized");this._element.removeEventListener("mousedown",this.onMouseDown),this._element.removeEventListener("mousemove",this.onMouseMove),this._element.removeEventListener("touchstart",this.onTouchStart),this._element.removeEventListener("contextmenu",this.onContextMenu),this._element.removeEventListener("wheel",this.onWheel),this._element=null}},{key:"update",value:function(){this._element&&this._viewportAdapter.update()}},{key:"handleEvent",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,u,a,c,l,s,f=S(this._contexts);try{for(f.s();!(i=f.n()).done;){var p=i.value,y=p.handleEvent.apply(p,[t].concat(r));if(y)return y}}catch(t){f.e(t)}finally{f.f()}return(u=e,a="handleEvent",c=this,s=C(T(1&(l=3)?u.prototype:u),a,c),2&l&&"function"==typeof s?function(t){return s.apply(c,t)}:s)([t].concat(r))}},{key:"onMouseDown",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var n=t.ctrlKey?2:t.button;return this.onInputDown(t.clientX,t.clientY,n)&&(e._mousemove=this.onMouseDownThenMove,e._mouseup=this.onMouseDownThenUp,document.addEventListener("mousemove",e._mousemove),document.addEventListener("mouseup",e._mouseup)),!1}},{key:"onMouseMove",value:function(t){var e=this._viewportAdapter.transformScreenToView(t.clientX,t.clientY),n=this._pointer;n.setPosition(e.x,e.y),this.handleEvent("onMoveInputEvent",n)&&(t.stopPropagation(),t.preventDefault(),this.cancelInputEvent())}},{key:"onMouseDownThenMove",value:function(t){return t.stopPropagation(),t.preventDefault(),this.onInputMove(t.clientX,t.clientY),!1}},{key:"onMouseDownThenUp",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;return e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null),this.onInputUp(t.clientX,t.clientY),!1}},{key:"onTouchStart",value:function(t){if(1==t.changedTouches.length){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var n=t.changedTouches[0];return this.onInputDown(n.clientX,n.clientY,0)&&(e._touchmove=this.onTouchStartThenMove,e._touchend=this.onTouchStartThenEnd,document.addEventListener("touchmove",e._touchmove),document.addEventListener("touchend",e._touchend)),!1}}},{key:"onTouchStartThenEnd",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var n=t.changedTouches[0];return this.onInputUp(n.clientX,n.clientY),!1}},{key:"onTouchStartThenMove",value:function(t){t.stopPropagation(),t.preventDefault();var e=t.changedTouches[0];return this.onInputMove(e.clientX,e.clientY),!1}},{key:"onContextMenu",value:function(t){return t.stopPropagation(),t.preventDefault(),!1}},{key:"onWheel",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._pointer,n=t.deltaY*this._scrollSensitivity,r=this._viewportAdapter.getScale(),o=r+n;return this.handleEvent("onZoomChange",e,o,r)||this._viewportAdapter.setScale(o),!1}},{key:"onInputDown",value:function(t,e,n){var r=this._cursor,o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);return o.setPosition(i.x,i.y),this._dragging=!1,this._altinput=2==n,!this.handleEvent("onPreInputEvent",o)&&(o.beginInput(),r._timer=setTimeout(this.onDelayedInputDown,this._holdInputDelay),!0)}},{key:"onDelayedInputDown",value:function(){this._dragging||(this._altinput=!0)}},{key:"onInputMove",value:function(t,e){var n=this._pointer,r=this._viewportAdapter.transformScreenToView(t,e);if(n.setPosition(r.x,r.y),this._dragging)this._activeDragHandler&&this._activeDragHandler.onDragMove(n);else if(n.getDistanceSquToInitial()>this._draggingRadiusSqu){this._dragging=!0;var o=n.getInputEventPosition(),i=this.handleEvent("onDragStart",n,o.x,o.y);i?this._activeDragHandler=i:(this._dragging=!1,this.cancelInputEvent())}}},{key:"onInputUp",value:function(t,e){var n=this._cursor,r=n._timer;r&&(clearTimeout(r),n._timer=null);var o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);if(o.setPosition(i.x,i.y),this._dragging)this._activeDragHandler&&(this._activeDragHandler.onDragStop(o),this._activeDragHandler=null);else if(this._altinput)this.handleEvent("onAltInputEvent",o);else if(!this.handleEvent("onInputEvent",o)){var u=t-this._prevEmptyX,a=e-this._prevEmptyY,c=u*u+a*a,l=Date.now()-this._prevEmptyTime;this._prevEmptyInput&&c<this._minTapRadius&&l<this._dblInputDelay?(this.handleEvent("onDblInputEvent",o),this._prevEmptyInput=!1):(this._prevEmptyInput=!0,this._prevEmptyTime=Date.now(),this._prevEmptyX=t,this._prevEmptyY=e)}o.endInput(),this.handleEvent("onPostInputEvent",o)}},{key:"cancelInputEvent",value:function(){var t=this._pointer,e=this._cursor;e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var n=e._timer;n&&(clearTimeout(n),e._timer=null),t.endInput(),this.handleEvent("onPostInputEvent",t)}},{key:"getContexts",value:function(){return this._contexts}},{key:"getActiveElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getPointerX",value:function(){return this._pointer?this._pointer.x:0}},{key:"getPointerY",value:function(){return this._pointer?this._pointer.y:0}},{key:"isPointerActive",value:function(){return!!this._pointer&&this._pointer.isActive()}},{key:"isUsingTouch",value:function(){return this._cursor._touchmove||this._cursor._touchend}},{key:"isAltInput",value:function(){return this._altinput}},{key:"isDragging",value:function(){return this._dragging}}],r&&E(n.prototype,r),o&&E(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(v);const N=M;var I=n(3668);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D(r.key),r)}}function D(t){var e=function(t,e){if("object"!=B(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==B(e)?e:e+""}function L(t,e,n){return e=V(e),function(t,e){if(e&&("object"==B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,F()?Reflect.construct(e,n||[],V(t).constructor):e.apply(t,n))}function F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(F=function(){return!!t})()}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G(t,e)}const H=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=L(this,e,[t]))._ref=r.createRef(),n._viewportAdapter=(new l).setMinScale(.1).setMaxScale(10).setOffsetDamping(.4),n._inputAdapter=new N(n._viewportAdapter),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(e,t),n=e,(i=[{key:"addInputHandler",value:function(t){if(!(t instanceof I.A))throw new Error("input handler must be an instanceof AbstractInputHandler");return this._inputAdapter.addInputHandler(t),this}},{key:"componentDidMount",value:function(){this._inputAdapter.initialize(this._ref.current)}},{key:"componentWillUnmount",value:function(){this._inputAdapter.destroy()}},{key:"componentDidUpdate",value:function(){this._inputAdapter.update()}},{key:"getSVGTransformString",value:function(){var t=this._viewportAdapter;return"translate("+t.getOffsetX()+" "+t.getOffsetY()+")"}},{key:"getSVGViewBoxString",value:function(t){var e=this._viewportAdapter,n=t*Math.max(Number.MIN_VALUE,e.getScale()),r=n/2;return-r+" "+-r+" "+n+" "+n}},{key:"getSVGElement",value:function(){return this._ref.current}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"getViewportAdapter",value:function(){return this._inputAdapter.getViewportAdapter()}},{key:"render",value:function(){var t=this.getSVGViewBoxString(this.props.viewSize||300),e=this.getSVGTransformString();return r.createElement("svg",{ref:this._ref,id:this.props.id,className:o.A.viewport_component+" "+this.props.className,style:this.props.style,viewBox:t},r.createElement("g",{transform:e},this.props.children))}}])&&R(n.prototype,i),u&&R(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,u}(r.Component);var z=n(1074);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K(r.key),r)}}function K(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}var X=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trashMode=!1,this._nodeOnly=!1,this._moveModeFirst=!0,this._handlingInput=!1,this._target={source:null,type:null},this._activeTarget={source:null,type:null,input:!0},this._immediateTarget={source:null,type:null},this._selectionBox=null,this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this)},e=[{key:"setSelectionBox",value:function(t){return this._selectionBox=t,this}},{key:"setTrashMode",value:function(t){return this._trashMode=t,this}},{key:"setNodeEventsOnly",value:function(t){return this._nodeOnly=t,this}},{key:"setMoveModeFirst",value:function(t){return this._moveModeFirst=t,this}},{key:"onPreInputEvent",value:function(t){return this._handlingInput=!0,this.updateCurrentTarget(this._immediateTarget.source,this._immediateTarget.type),!1}},{key:"onPostInputEvent",value:function(t){this.updateCurrentTarget(null,null),this._handlingInput=!1}},{key:"onMouseOver",value:function(t){var e=t.target.value;this._immediateTarget.source=e.source,this._immediateTarget.type=e.type,this._immediateTarget.data=e}},{key:"onMouseOut",value:function(t){this._immediateTarget.source=null,this._immediateTarget.type=null,this._immediateTarget.data=null}},{key:"bindActiveTarget",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._activeTarget.source=t,this._activeTarget.type=e,this._activeTarget.input=n}},{key:"unbindActiveTarget",value:function(){this._activeTarget.source=null,this._activeTarget.type=null,this._activeTarget.input=!1}},{key:"updateCurrentTarget",value:function(t,e){this._target.source=t,this._target.type=e}},{key:"getActiveTargetSource",value:function(){return this._activeTarget.source}},{key:"getActiveTargetType",value:function(){return this._activeTarget.type}},{key:"hasActiveTarget",value:function(){return null!==this._activeTarget.type}},{key:"hasPointerEvents",value:function(t){return this._activeTarget.source===t?this._activeTarget.input:!this._nodeOnly||t instanceof z.A}},{key:"getCurrentTargetSource",value:function(){return this._target.source}},{key:"getCurrentTargetType",value:function(){return this._target.type}},{key:"hasCurrentTarget",value:function(){return null!==this._target.type}},{key:"getImmediateTargetSource",value:function(){return this._immediateTarget.source}},{key:"getImmediateTargetType",value:function(){return this._immediateTarget.type}},{key:"hasImmediateTarget",value:function(){return null!==this._immediateTarget.type}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"isMoveMode",value:function(t){return!(this._moveModeFirst^!t.isAltInput())}},{key:"isNodeEventsOnly",value:function(){return this._nodeOnly}},{key:"isMoveModeFirst",value:function(){return this._moveModeFirst}},{key:"isHandlingInput",value:function(){return this._handlingInput}},{key:"getSelectionBox",value:function(){return this._selectionBox}}],e&&W(t.prototype,e),n&&W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const Y=X;function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$(r.key),r)}}function $(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q(e)?e:e+""}function Z(t,e,n){return e=tt(e),function(t,e){if(e&&("object"==Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,J()?Reflect.construct(e,n||[],tt(t).constructor):e.apply(t,n))}function J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(J=function(){return!!t})()}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}function et(t,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},et(t,e)}const nt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Z(this,e))._inputController=t,n._cachedPosition={x:0,y:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(e,t),n=e,(r=[{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.hasCurrentTarget())return!1;if(!e.isMoveMode(t.getInputAdapter()))return!1;var n=t.getInputEventPosition();return this._cachedPosition.x=n.x,this._cachedPosition.y=n.y,!0}},{key:"onDragMove",value:function(t){var e=t.x-this._cachedPosition.x,n=t.y-this._cachedPosition.y;t.getViewportAdapter().addOffset(e,n,!0)}},{key:"onDragStop",value:function(t){}}])&&q(n.prototype,r),o&&q(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(I.A);function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,it(r.key),r)}}function it(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rt(e)?e:e+""}function ut(t,e,n){return e=ct(e),function(t,e){if(e&&("object"==rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,at()?Reflect.construct(e,n||[],ct(t).constructor):e.apply(t,n))}function at(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(at=function(){return!!t})()}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}function lt(t,e){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lt(t,e)}const st=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ut(this,e,[t]))._inputController=new Y,n._inputContext=new v,n._viewportComponent=r.createRef(),n._viewportInputHandler=new nt(n._inputController),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lt(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){var t=this._inputContext,e=this._viewportComponent.current.getInputAdapter();t.addInputHandler(this._inputController).addInputHandler(this._viewportInputHandler,10),e.bindContext(t)}},{key:"componentWillUnmount",value:function(){var t=this._inputContext,e=this._viewportComponent.current.getInputAdapter();t.clearInputHandlers(),e.unbindContext(t)}},{key:"moveViewToPosition",value:function(t,e){this.getViewportAdapter().setOffset(-t,-e)}},{key:"getInputController",value:function(){return this._inputController}},{key:"getInputContext",value:function(){return this._inputContext}},{key:"getViewportComponent",value:function(){return this._viewportComponent.current}},{key:"getInputAdapter",value:function(){return this._viewportComponent.current.getInputAdapter()}},{key:"getViewportAdapter",value:function(){return this._viewportComponent.current.getViewportAdapter()}},{key:"render",value:function(){var t=this._inputController,e=this._viewportComponent.current,n=this.props.renderGraph,o=this.props.renderOverlay;return r.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},r.createElement(H,{ref:this._viewportComponent},n&&e&&n(this,e,t)),o&&e&&o(this,e,t))}}])&&ot(n.prototype,o),i&&ot(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component)},4649(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},4944(t,e,n){n.d(e,{A:()=>j});var r=n(6540),o=n(4722),i=n(5752),u=n(1074),a=n(9143);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}function f(t,e,n){return e=y(e),function(t,e){if(e&&("object"==c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var b=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,e,[t])).inputElement=null,n.placeholder="",n.maxLength=524288,n.multiLine=!0,n.formatter=null,n._submitTimeout=null,n._submit=t.submitOnBlur,n._skipBlur=!1,n._skipSelect=!1,n.state={prevValue:"",value:""},n.onChange=n.onChange.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),n=e,o=[{key:"setFormatter",value:function(t){return this.formatter=t,this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"onFocus",value:function(t){this._skipSelect&&(this.inputElement.select(),this._skipSelect=!1)}},{key:"onBlur",value:function(t){var e=this;this._submitTimeout||(this._submitTimeout=setTimeout(function(){if(e._submitTimeout=null,!e._skipBlur){var n=e._submit;if(e._submit=e.props.submitOnBlur,document.activeElement!==e.inputElement&&n){var r=e.state.value;e.props.onSubmit&&e.props.onSubmit(r),e.setState({prevValue:r})}else e.setState(function(t,e){return{value:t.prevValue}});e.props.onBlur&&e.props.onBlur(t)}},30))}},{key:"onKeyDown",value:function(t){var e=this;if("Enter"===t.key){if(t.shiftKey&&this.multiLine)return;this._submit=!0,this.inputElement.blur(),t.preventDefault(),t.stopPropagation()}else"Escape"===t.key&&(this.setState(function(t,e){return{value:t.prevValue}},function(){e._submit=!1,e.inputElement.blur()}),t.preventDefault(),t.stopPropagation())}},{key:"onChange",value:function(t){var e=t.target,n=e.selectionStart,r=e.value;this.formatter&&(r=this.formatter(r,this.state.value)),this.setState({value:r},function(){e.selectionEnd=n})}},{key:"focus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._skipSelect=t,this.inputElement.focus()}},{key:"ignoreBlur",value:function(t){var e=this._skipBlur;return this._skipBlur=t,e!==t}},{key:"appendValue",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.state.value;o&&o.length+t.length>this.maxLength||(e=o&&o.length>0?o+n+t:t,r&&this.formatter&&(e=this.formatter(e,this.state.value)),this.setState(function(t,n){return{value:e}}))}},{key:"resetValue",value:function(t){this.setState({prevValue:t,value:t})}},{key:"setValue",value:function(t){var e=t;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.formatter&&(e=this.formatter(e,this.state.value)),this.setState({value:e})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var t=this,e=this.placeholder,n=this.maxLength,o=this.multiLine,i=this.props.disabled,u=this.state.value;return r.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},o?r.createElement("textarea",{ref:function(e){return t.inputElement=e},type:"text",rows:"1",spellCheck:"false",disabled:i,placeholder:e,maxLength:n,value:u||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}):r.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",spellCheck:"false",disabled:i,placeholder:e,maxLength:n,value:u||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}],o&&l(n.prototype,o),i&&l(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);const v=b;function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}function w(t,e,n){return e=S(e),function(t,e){if(e&&("object"==m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,n||[],S(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}var E=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=w(this,e,[t]))._ref=r.createRef(),n.inputComponent=null,n.state={open:!1},n._target=null,n._targetCallback=null,n.onInputSubmit=n.onInputSubmit.bind(n),n.onInputBlur=n.onInputBlur.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),n=e,c=[{key:"openEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!(t instanceof i.A))throw new Error("Can only open editor for GraphElements");if(this._target=t,this._targetOnSubmit=r,this._targetOnCancel=o,t instanceof u.A){var c=this.props.labelFormatter.getNodeLabelFormatter();this.inputComponent.setFormatter(c)}else if(t instanceof a.A){var l=this.props.labelFormatter.getEdgeLabelFormatter();this.inputComponent.setFormatter(l)}this.setState({open:!0},function(){e.inputComponent.resetValue(n||""),e.inputComponent.focus()})}},{key:"closeEditor",value:function(){this._target=null,this._targetOnSubmit=null,this._targetOnCancel=null,this.inputComponent.setFormatter(null),this.setState({open:!1})}},{key:"isEditorOpen",value:function(){return this.state.open}},{key:"getTarget",value:function(){return this._target}},{key:"onInputSubmit",value:function(t){this._targetOnSubmit&&(this._targetOnSubmit(this._target,t),this._targetOnCancel=null)}},{key:"onInputBlur",value:function(t){this._targetOnCancel&&(this._targetOnCancel(this._target),this._targetOnSubmit=null),this.closeEditor()}},{key:"render",value:function(){var t=this,e=this.state.open,n=this._target,i=this.props.style||{};if(this.props.viewport){var u=this.props.viewport.getViewportAdapter();if(n){var a=n.getCenterPoint(),c=u.getElement(),l=c.getBoundingClientRect(),s=function(t,e,n){var r=t.getScreenCTM();return{x:e*r.a+r.e,y:n*r.d+r.f}}(c,a.x+u.getOffsetX(),a.y+u.getOffsetY()),f=s.x,p=s.y,y=-this._ref.current.offsetWidth/2-l.left,h=-this._ref.current.offsetHeight/2-l.top;i.top=p+h+"px",i.left=f+y+"px"}}return r.createElement("div",{ref:this._ref,id:this.props.id,className:o.A.editor_container+(e?" open ":"")+" "+this.props.className,style:i},r.createElement(v,{ref:function(e){return t.inputComponent=e},submitOnBlur:this.props.saveOnExit,onSubmit:this.onInputSubmit,onBlur:this.onInputBlur}),r.createElement("div",{className:o.A.tray_container},this.props.children))}}],c&&d(n.prototype,c),l&&d(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c,l}(r.Component);const j=E},5161(t,e,n){n.d(e,{A:()=>_});var r=n(6540),o=n(472);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,n){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=c(this,e,[t]))._prevSize=1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,i=[{key:"render",value:function(){var t,e,n=this.props.node,i=this.props.color,u=this.props.onMouseOver,a=this.props.onMouseOut,c=this.props.pointerEvents;return"getNodeSize"in n?(t=n.getNodeSize(),e=n.getNodeSize()/2,this._prevSize=e):(t=0,e=this._prevSize),r.createElement(r.Fragment,null,r.createElement(o.A,{position:n,offset:t,size:e,color:i,onMouseOver:u?function(t){(t.target.value||(t.target.value={})).source=n,u(t)}:null,onMouseOut:a?function(t){(t.target.value||(t.target.value={})).source=n,a(t)}:null,pointerEvents:c}))}}],i&&u(n.prototype,i),a&&u(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);var y=n(8629);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function m(t,e,n){return e=g(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(d=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}const _=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=m(this,e,[t]);var r=t.inputController,o=t.graphController;return n._startMarkerInputHandler=new y.A(r,o),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._startMarkerInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._startMarkerInputHandler)}},{key:"render",value:function(){var t=this.props.inputController,e=this.props.startMarkerRenderer||p,n=this.props.editable,o=this.props.graphController.getGraph(),i=this._startMarkerInputHandler.getGhostMarker();"getStartNode"in o&&!i&&(i=o.getStartNode());var u=t?t.onMouseOver:null,a=t?t.onMouseOut:null;return r.createElement("g",null,i&&r.createElement(e,{node:i,color:"var(--color-graph-text)",onMouseOver:u,onMouseOut:a,pointerEvents:n&&t&&t.hasPointerEvents(i)?"all":"none"}))}}])&&b(n.prototype,o),i&&b(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component)},5320(t,e,n){n.d(e,{mR:()=>r});function r(t,e){o(t,"data:text/plain; charset=utf-8,"+encodeURIComponent(e))}function o(t,e){var n=document.createElement("a"),r=e.indexOf(";");e=e.substring(0,r+1)+"headers=Content-Disposition%3A%20attachment%3B%20filename="+t+";"+e.substring(r+1),n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},5347(t,e,n){n.d(e,{A:()=>p});var r=n(6540),o=n(9930);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,n){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=c(this,e,[t]),!t.id)throw new Error("Must specify id");return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){var t=this.props.id,e=this.props.disabled,n=this.props.checked,i=this.props.onChange;return r.createElement("div",{id:t,className:o.A.switch_container+(e?" disabled ":"")+(n?" active ":"")+" "+this.props.className,style:this.props.style},r.createElement("label",{className:o.A.panel_switch,style:this.props.style},r.createElement("input",{type:"checkbox",id:t+"-switch",checked:n,onChange:i,disabled:e}),r.createElement("div",{className:o.A.switch_slider})),r.createElement("label",{className:o.A.switch_label,htmlFor:t+"-switch"},this.props.title))}}])&&u(n.prototype,i),a&&u(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component)},5752(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>a});var u=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e},e=[{key:"setGraphElementID",value:function(t){return this._id=t,this}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=t.y=0,t}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){return this._id}}],e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const a=u},5860(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>u});const u=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"applyUndo",value:function(t){throw new Error("Undo operation for handler not supported")}},{key:"applyRedo",value:function(t){throw new Error("Redo operation for handler not supported")}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},5972(t,e,n){n.d(e,{A:()=>T});var r=n(6540),o=n(5457),i=n(9117);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function l(t,e,n){return e=f(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}const y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M7 10l5 5 5-5z"}))}}])&&a(n.prototype,o),i&&a(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function m(t,e,n){return e=g(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(d=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}const _=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M7 14l5-5 5 5z"}))}}])&&b(n.prototype,o),i&&b(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function E(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}function j(t,e,n){return e=k(e),function(t,e){if(e&&("object"==S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,P()?Reflect.construct(e,n||[],k(t).constructor):e.apply(t,n))}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(P=function(){return!!t})()}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}const T=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=j(this,e,[t])).state={open:t.initial||!1},n.onClick=n.onClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t),n=e,(u=[{key:"onClick",value:function(t){this.setState(function(t,e){return{open:!t.open}})}},{key:"componentDidUpdate",value:function(){this.state.open&&this.props.disabled&&this.setState({open:!1})}},{key:"render",value:function(){var t=this.state.open,e=this.props.disabled||r.Children.count(this.props.children)<=0,n=this.props.full,u=this.props.title;return r.createElement("section",{id:this.props.id,className:o.A.section_container+" "+this.props.className,style:this.props.style},r.createElement(i.A,{className:o.A.section_header,title:u,disabled:e,onClick:this.onClick},t?r.createElement(_,null):r.createElement(y,null)),r.createElement("div",{className:o.A.section_content_container+(t?" open ":"")+(n?" full ":"")},r.createElement("div",{className:o.A.section_content},this.props.children)))}}])&&O(n.prototype,u),a&&O(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u,a}(r.Component)},6171(t,e,n){n.d(e,{A:()=>b});var r=n(6540),o=n(6188),i=n(23),u=n(1236);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,n){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,(a=[{key:"getDescription",value:function(){return((this.props.taskViewConfig||{}).description||"").trim()}},{key:"getDescriptionHtml",value:function(){var t=this.getDescription();return t?i.xI.parse(t):""}},{key:"render",value:function(){var t=this.getDescriptionHtml();return r.createElement(u.A,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},r.createElement("div",{className:o.A.task_container},r.createElement("div",{className:o.A.task_markdown,dangerouslySetInnerHTML:{__html:t}})))}}])&&c(n.prototype,a),l&&c(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,l}(r.Component);Object.defineProperty(h,"TITLE",{get:function(){return I18N.toString("component.task.title")}});const b=h},6193(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},6229(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,u=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw u}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>p});const c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[]},(e=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"update",value:function(t){var e,n=o(this._listeners);try{for(n.s();!(e=n.n()).done;)(0,e.value)(t)}catch(t){n.e(t)}finally{n.f()}}}])&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}const p=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._machineChangeHandler=new c,this._errors=[],this._warnings=[],this.onGraphChange=this.onGraphChange.bind(this)},(e=[{key:"initialize",value:function(t){t.getGraphController().getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"destroy",value:function(t){t.getGraphController().getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){this.attemptBuildMachine(t,this.getMachine(),this._errors,this._warnings),this._machineChangeHandler.update(this)}},{key:"attemptBuildGraph",value:function(t,e){throw new Error("Missing graph build operation")}},{key:"attemptBuildMachine",value:function(t,e,n,r){throw new Error("Missing machine build operation")}},{key:"getMachineErrors",value:function(){return this._errors}},{key:"getMachineWarnings",value:function(){return this._warnings}},{key:"getMachineChangeHandler",value:function(){return this._machineChangeHandler}},{key:"isMachineValid",value:function(){return this._errors.length<=0}},{key:"getMachine",value:function(){throw new Error("Missing machine for builder")}}])&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},6431(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>O});var u=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"formatLabel",value:function(t,e){return e}},{key:"getDefaultLabel",value:function(t){return""}},{key:"formatNodeLabel",value:function(t){return t}},{key:"formatEdgeLabel",value:function(t){return t}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();var a=new u;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}var y=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cachedGraphHash=0,this._refreshTicks=e,this._elapsedTicks=1/0,this._listeners=[]},(e=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"reset",value:function(){this._elapsedTicks=0,this._cachedGraphHash=0}},{key:"update",value:function(t){if(++this._elapsedTicks>=this._refreshTicks){this._elapsedTicks=0;var e=t.getHashCode(!1);if(e!==this._cachedGraphHash){this._cachedGraphHash=e;var n,r=l(this._listeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(t){r.e(t)}finally{r.f()}}}}}])&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const h=y;var b=n(1074),v=n(9143);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return g(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function _(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}var S=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._graph=e,this._graphChangeHandler=new h,this._labelEditor=null,this._labelFormatter=null,this._listeners=[]},e=[{key:"setLabelEditor",value:function(t){return this._labelEditor=t,this}},{key:"setLabelFormatter",value:function(t){return this._labelFormatter=t,this}},{key:"addListener",value:function(t){return this._listeners.push(t),this}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);e>=0&&this._listeners.splice(e,1)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"initialize",value:function(){}},{key:"update",value:function(){this._graphChangeHandler&&this._graphChangeHandler.update(this._graph)}},{key:"destroy",value:function(){}},{key:"clearGraph",value:function(){window.confirm(I18N.toString("alert.graph.clear"))&&(this._graph.clear(),this.emitGraphEvent("graph-clear"))}},{key:"onGraphEvent",value:function(t,e){}},{key:"emitGraphEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.onGraphEvent(t,e);var n,r=d(this._listeners);try{for(r.s();!(n=r.n()).done;)n.value.onGraphEvent(this,t,e)}catch(t){r.e(t)}finally{r.f()}}},{key:"openLabelEditor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._labelEditor){var r=this._labelEditor,o=e||"";r.openEditor(t,e,function(t,e){var r=!o||o.length>0&&e!==o;t instanceof v.A?t.setEdgeLabel(e):t instanceof b.A&&t.setNodeLabel(e),n&&n(t,e,r)},function(t){n&&n(t,null,!1)})}else n&&n(t,e,!1)}},{key:"getLabelFormatter",value:function(){return this._labelFormatter||a}},{key:"getLabelEditor",value:function(){return this._labelEditor}},{key:"getGraphChangeHandler",value:function(){return this._graphChangeHandler}},{key:"getGraph",value:function(){return this._graph}}],e&&w(t.prototype,e),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const O=S},6719(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{A:()=>l});var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"applyLayout",value:function(t){if("circle"!=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"circle"))throw new Error("Invalid layout type");var e=function(t){var e=[],n=t.getStartNode();e.push(n);for(var r=0;r<e.length;r++){var o,i=u(t.getEdges());try{for(i.s();!(o=i.n()).done;){var a=o.value;a._from==e[r]&&(e.includes(a._to)||e.push(a._to))}}catch(t){i.e(t)}finally{i.f()}}return e}(t),n=t.getNodes().filter(function(t){return!e.includes(t)}),r=e.length,o=n.length,i=t.getNodes().length,a=Math.max(r,o);if(0!=i){var c;c=r<10&&o<10?a/4*50+30:a/5*40+30;var l=0;if(1==r){var s,f=2*Math.PI/i,p=u(t.getNodes());try{for(p.s();!(s=p.n()).done;){var y=s.value;y.y=Math.sin(f*l+Math.PI)*c,y.x=Math.cos(f*l+Math.PI)*c,l+=1}}catch(t){p.e(t)}finally{p.f()}}else{var h=2*Math.PI/r,b=2*Math.PI/o;l=0;var v,m=u(e);try{for(m.s();!(v=m.n()).done;){var d=v.value;d.y=Math.sin(h*l+Math.PI)*c,d.x=Math.cos(h*l+Math.PI)*c,l+=1}}catch(t){m.e(t)}finally{m.f()}l=0;var g,w=u(n);try{for(w.s();!(g=w.n()).done;){var _=g.value;_.y=Math.sin(b*l+Math.PI)*(c+100),_.x=Math.cos(b*l+Math.PI)*(c+100),l+=1}}catch(t){w.e(t)}finally{w.f()}}}}}],(e=null)&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const l=c},7522(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},r.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),r.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),r.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),r.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),r.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),r.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),r.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"}),r.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),r.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),r.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),r.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},7807(t,e,n){n.d(e,{Ay:()=>_,gX:()=>d,hK:()=>b,td:()=>m,zK:()=>y});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f=Math.PI/6,p=Math.PI/4,y="forward",h="both",b="forward-endpoint",v="backward-endpoint",m="edge",d="label",g=function(t){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M "+(t.position.x-t.length*Math.sin(t.angle-f))+" "+(t.position.y-t.length*Math.cos(t.angle-f))+" L "+t.position.x+" "+t.position.y+" L "+(t.position.x-t.length*Math.sin(t.angle+f))+" "+(t.position.y-t.length*Math.cos(t.angle+f)),stroke:t.color,fill:"none"}),r.createElement("circle",{cx:t.position.x-t.length*Math.cos(-t.angle+p),cy:t.position.y-t.length*Math.sin(-t.angle+p),r:t.length,fill:"transparent",cursor:"pointer",onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,pointerEvents:t.pointerEvents}))},w=function(t){return r.createElement("g",{transform:"translate("+t.position.x+","+t.position.y+") rotate("+180*t.direction/Math.PI+")"},t.labels&&t.labels.length>0&&t.labels.map(function(e,n){var o=t.onMouseOver,i=t.onMouseOut;return r.createElement("text",{key:e+"."+n,transform:"translate(0,"+-15*(n+1)+")"+(t.reverse?" scale(-1,-1)":""),alignmentBaseline:"central",style:{userSelect:"none"},textAnchor:"middle",fill:t.color,cursor:"pointer",onMouseOver:o?function(t){(t.target.value||(t.target.value={})).index=n,o(t)}:null,onMouseOut:i?function(t){(t.target.value||(t.target.value={})).index=n,i(t)}:null,pointerEvents:t.pointerEvents},e)}))};const _=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,o=[{key:"render",value:function(){var t,e,n=this.props.directed||"undirected",o=n===y||n===h?this.props.forwardEndpointRenderer||this.props.endpointRenderer||g:null,i="backward"===n||n===h?this.props.backwardEndpointRenderer||this.props.endpointRenderer||g:null,u=this.props.labelRenderer||w,a=this.props.from,c=this.props.to,l=this.props.center,s=this.props.label||"",f=this.props.direction||0,p=this.props.color||"#000000",_=this.props.onMouseOver,S=this.props.onMouseOut,O=this.props.pointerEvents||"visiblePainted",E=!1,j=null,P=a.x-c.x,k=a.y-c.y,C=a.x-l.x,T=a.y-l.y,A=Math.atan2(k,P),x=Math.atan2(T,C);if(Math.abs(A-x)<=.01)e=Math.atan2(l.x-c.x,l.y-c.y)+Math.PI,t=Math.atan2(l.x-a.x,l.y-a.y)+Math.PI,j="L "+c.x+" "+c.y,E=!1;else{var M=(4*l.x-a.x-c.x)/2,N=(4*l.y-a.y-c.y)/2;e=Math.atan2(M-c.x,N-c.y)+Math.PI,t=Math.atan2(M-a.x,N-a.y)+Math.PI,j="Q "+M+" "+N+" "+c.x+" "+c.y,E=N>l.y+4}var I="M ".concat(a.x," ").concat(a.y," ").concat(j);return r.createElement("g",null,r.createElement("path",{d:I,stroke:p,fill:"none"}),r.createElement("path",{d:I,stroke:"transparent",strokeWidth:"".concat(8,"px"),fill:"none",cursor:"pointer",onMouseOver:_?function(t){(t.target.value||(t.target.value={})).type=m,_(t)}:null,onMouseOut:S?function(t){(t.target.value||(t.target.value={})).type=m,S(t)}:null,pointerEvents:O}),o&&r.createElement(o,{position:c,angle:e,length:10,color:p,onMouseOver:_?function(t){(t.target.value||(t.target.value={})).type=b,_(t)}:null,onMouseOut:S?function(t){(t.target.value||(t.target.value={})).type=b,S(t)}:null,pointerEvents:O}),i&&r.createElement(i,{position:a,angle:t,length:10,color:p,onMouseOver:_?function(t){(t.target.value||(t.target.value={})).type=v,_(t)}:null,onMouseOut:S?function(t){(t.target.value||(t.target.value={})).type=v,S(t)}:null,pointerEvents:O}),u&&r.createElement(u,{position:l,labels:s.split("\n"),direction:f,reverse:E,color:p,onMouseOver:_?function(t){(t.target.value||(t.target.value={})).type=d,_(t)}:null,onMouseOut:S?function(t){(t.target.value||(t.target.value={})).type=d,S(t)}:null,pointerEvents:O}))}}],o&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.Component)},7892(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>u});const u=function(){return t=function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Missing module for machine controller");if(!n)throw new Error("Missing machine builder for machine controller");this._module=e,this._machineBuilder=n},(e=[{key:"initialize",value:function(t){this._machineBuilder.initialize(t)}},{key:"destroy",value:function(t){this._machineBuilder.destroy(t)}},{key:"update",value:function(t){}},{key:"getMachineBuilder",value:function(){return this._machineBuilder}},{key:"getModule",value:function(){return this._module}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},8498(t,e,n){n.d(e,{A:()=>p});var r=n(6540),o=n(2655);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,n){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){return r.createElement("div",{id:this.props.id,className:o.A.panel_divider+" "+this.props.className,style:this.props.style})}}])&&u(n.prototype,i),a&&u(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component)},8629(t,e,n){n.d(e,{A:()=>b,p:()=>h});var r=n(3668),o=n(5505),i=n(472),u=n(9898);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,n){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var h="start-marker-change";const b=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=s(this,e))._inputController=t,r._graphController=n,r._ghostMarker=null,r._cachedMarkerTarget=null,r._cachedPointer={x:0,y:0},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,(r=[{key:"onDragStart",value:function(t){var e=this._inputController;if(e.getCurrentTargetType()===i.l){var n=e.getCurrentTargetSource();return this._cachedMarkerTarget=n,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,this._ghostMarker=this._cachedPointer,e.bindActiveTarget(n,i.l,!0),e.setNodeEventsOnly(!0),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController;if(e.getActiveTargetType()===i.l)if(e.getImmediateTargetType()===u.c6){var n=e.getImmediateTargetSource();this._ghostMarker=n}else this._cachedPointer.x=(0,o.Cc)(this._cachedPointer.x,t.x,.6),this._cachedPointer.y=(0,o.Cc)(this._cachedPointer.y,t.y,.6),this._ghostMarker!==this._cachedPointer&&(this._ghostMarker=this._cachedPointer)}},{key:"onDragStop",value:function(t){var e=this._inputController,n=e.getActiveTargetType();e.unbindActiveTarget(),n===i.l&&(this._ghostMarker&&this._ghostMarker!==this._cachedPointer&&(this._graphController.getGraph().setStartNode(this._ghostMarker),this._graphController.emitGraphEvent(h,{target:this._ghostMarker})),this._ghostMarker=null)}},{key:"getGhostMarker",value:function(){return this._ghostMarker}}])&&c(n.prototype,r),a&&c(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(r.A)},8696(t,e,n){n.d(e,{A:()=>O});var r=n(6540),o=n(7807);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,n){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}const p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,i=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke,n=this.props.onMouseOver,i=this.props.onMouseOut,u=this.props.pointerEvents,a=t.getStartPoint(),c=t.getEndPoint(),l=t.getCenterPoint(),s=t.getEdgeLabel(),f=t.getEdgeDirection();return r.createElement(r.Fragment,null,r.createElement(o.Ay,{directed:o.zK,from:a,to:c,center:l,label:s,direction:f,color:e,onMouseOver:n?function(e){(e.target.value||(e.target.value={})).source=t,n(e)}:null,onMouseOut:i?function(e){(e.target.value||(e.target.value={})).source=t,i(e)}:null,pointerEvents:u}))}}],i&&u(n.prototype,i),a&&u(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);var y=n(9923);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return v(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function g(t,e,n){return e=_(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,n||[],_(t).constructor):e.apply(t,n))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w=function(){return!!t})()}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}const O=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=g(this,e,[t]);var r=t.inputController,o=t.graphController;return n._graphEdgeInputHandler=new y.Ay(r,o),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._graphEdgeInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._graphEdgeInputHandler)}},{key:"getGraphEdgeInputHandler",value:function(){return this._graphEdgeInputHandler}},{key:"render",value:function(){var t,e=this.props.inputController,n=this.props.edgeRenderer||p,o=this.props.editable,i=e?e.onMouseOver:null,u=e?e.onMouseOut:null,a=[],c=b(this.props.edges);try{for(c.s();!(t=c.n()).done;){var l=t.value;a.push(r.createElement(n,{key:l.getGraphElementID(),edge:l,stroke:"var(--color-graph-text)",onMouseOver:i,onMouseOut:u,pointerEvents:o&&e&&e.hasPointerEvents(l)?"all":"none"}))}}catch(t){c.e(t)}finally{c.f()}return r.createElement("g",null,a)}}])&&m(n.prototype,o),i&&m(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component)},9058(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function u(t,e,n){return e=s(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function c(t,e,n,r){var o=l(s(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},l.apply(null,arguments)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}n.d(e,{A:()=>p});const p=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,e,[t,n]))._nodes=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,(r=[{key:"setStartNode",value:function(t){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var e=this._nodes.indexOf(t);if(e>0){var n=this._nodes[0];this._nodes[0]=t,this._nodes[e]=n}else if(e<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"getNodeByIndex",value:function(t){return this._nodes[t]}},{key:"addNode",value:function(t){return this._nodes.push(t),c(e,"addNode",this,3)([t])}},{key:"deleteNode",value:function(t){c(e,"deleteNode",this,3)([t]);var n=this._nodes.indexOf(t);n>=0&&this._nodes.splice(n,1)}},{key:"clearNodes",value:function(){c(e,"clearNodes",this,3)([]),this._nodes.length=0}},{key:"getNodes",value:function(){return this._nodes}}])&&o(n.prototype,r),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(n(9613).A)},9066(t,e,n){n.d(e,{A:()=>a});var r=n(9143);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}const a=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"getDefaultLabel",value:function(t){return t instanceof r.A?this.getDefaultEdgeLabel():this.getDefaultNodeLabel()}},{key:"getLabelFormatter",value:function(t){return t instanceof r.A?this.getEdgeLabelFormatter():this.getNodeLabelFormatter()}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){throw new Error("Node label formatting is not supported")}},{key:"getEdgeLabelFormatter",value:function(){throw new Error("Edge label formatting is not supported")}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},9143(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function u(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},c.apply(null,arguments)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}n.d(e,{A:()=>p});var f=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,e,[t]))._from=n,r._to=o,r._label="",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,r=[{key:"setEdgeFrom",value:function(t){if(!t)throw new Error("Source of edge cannot be null");return this._from=t,this}},{key:"setEdgeTo",value:function(t){return this._to=t,this}},{key:"setEdgeLabel",value:function(t){return this._label=t,this}},{key:"getEdgeDirection",value:function(){var t=this._from,e=this._to,n=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var o=e.y-t.y,i=e.x-t.x;r=Math.atan2(o,i)}return(r>n||r<-n)&&(r+=Math.PI),r}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from;return t.x=e.x,t.y=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;t.x=e.x+r,t.y=e.y+r}else t.x=e.x+(n.x-e.x)/2,t.y=e.y+(n.y-e.y)/2;return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var e=this._from,n=this.getPlaceholderLength();t.x=e.x+n,t.y=e.y+n}else{var r=this._to;t.x=r.x,t.y=r.y}return t}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return null===this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeFrom",value:function(){return this._from}},{key:"getEdgeTo",value:function(){return this._to}},{key:"getHashString",value:function(){var t,n,r,o,i,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this._from?this._from.getHashString(u):"",s=this._to?this._to.getHashString?this._to.getHashString(u):"0":"";return(t=e,n="getHashString",r=this,i=c(l(1&(o=3)?t.prototype:t),n,r),2&o&&"function"==typeof i?function(t){return i.apply(r,t)}:i)([u])+":"+a+","+s+"."+this._label}}],r&&o(n.prototype,r),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(n(5752).A);const p=f},9240(t,e,n){n.d(e,{B8:()=>et});var r=n(3411),o=n(1404),i=n(6540);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function l(t,e,n){return e=f(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}const y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return i.createElement("svg",{className:"png-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.createElement("g",null,i.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.createElement("g",null,i.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),i.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),i.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"})),i.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"})))}}])&&a(n.prototype,r),o&&a(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function m(t,e,n){return e=g(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(d=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}const _=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return i.createElement("svg",{className:"jpg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.createElement("g",null,i.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.createElement("polygon",{fill:"#26B99A",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}),i.createElement("path",{fill:"#14A085",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.createElement("g",null,i.createElement("path",{fill:"#FFFFFF",d:"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z"}),i.createElement("path",{fill:"#FFFFFF",d:"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z"}),i.createElement("path",{fill:"#FFFFFF",d:"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H39.5z"}))))}}])&&b(n.prototype,r),o&&b(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function E(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}function j(t,e,n){return e=k(e),function(t,e){if(e&&("object"==S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,P()?Reflect.construct(e,n||[],k(t).constructor):e.apply(t,n))}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(P=function(){return!!t})()}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}const T=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return i.createElement("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.createElement("g",null,i.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.createElement("path",{fill:"#E57E25",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.createElement("g",null,i.createElement("path",{fill:"#FFFFFF",d:"M21.459,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116s-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39c0.296-0.26,0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S21.459,49.7,21.459,50.238z"}),i.createElement("path",{fill:"#FFFFFF",d:"M25.861,53.055L22.73,42.924h1.873l2.338,8.695l2.475-8.695h1.859l-3.281,10.131H25.861z"}),i.createElement("path",{fill:"#FFFFFF",d:"M40.668,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S38.561,52.954,38.255,53s-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.822-0.754,1.333-0.978 s1.062-0.335,1.654-0.335c0.547,0,1.058,0.091,1.531,0.273s0.897,0.456,1.271,0.82l-1.135,1.012 c-0.219-0.265-0.47-0.456-0.752-0.574s-0.574-0.178-0.875-0.178c-0.337,0-0.658,0.063-0.964,0.191s-0.579,0.344-0.82,0.649 s-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777s0.314,0.911,0.547,1.23 s0.497,0.556,0.793,0.711s0.608,0.232,0.937,0.232c0.101,0,0.234-0.007,0.403-0.021s0.337-0.036,0.506-0.068 s0.33-0.075,0.485-0.13s0.269-0.132,0.342-0.232v-2.488h-1.709v-1.121H40.668z"})),i.createElement("path",{fill:"#C8BDB8",d:"M45.5,22v-6h-6v2h-6v-4h-10v4h-6v-2h-6v6h6v-2h3.548c-4.566,2.636-7.548,7.588-7.548,13 c0,0.552,0.447,1,1,1s1-0.448,1-1c0-5.246,3.229-9.999,8-11.995V24h10v-2.995c4.771,1.997,8,6.75,8,11.995c0,0.552,0.447,1,1,1 s1-0.448,1-1c0-5.412-2.982-10.364-7.548-13H39.5v2H45.5z M15.5,20h-2v-2h2V20z M31.5,22h-6v-3.754V16h6v2.246V22z M41.5,18h2v2h-2 V18z"})))}}])&&O(n.prototype,r),o&&O(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M(r.key),r)}}function M(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A(e)?e:e+""}function N(t,e,n){return e=B(e),function(t,e){if(e&&("object"==A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I()?Reflect.construct(e,n||[],B(t).constructor):e.apply(t,n))}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I=function(){return!!t})()}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}const D=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return i.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},i.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),i.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),i.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"}),i.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}))}}])&&x(n.prototype,r),o&&x(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function F(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return V(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}function H(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:e+""}function z(t,e,n){return e=X(e),function(t,e){if(e&&("object"==L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U()?Reflect.construct(e,n||[],X(t).constructor):e.apply(t,n))}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U=function(){return!!t})()}function W(t,e,n,r){var o=K(X(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=X(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},K.apply(null,arguments)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}var Q="png",q="jpg",$="svg",Z="bw",J=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=z(this,e))._imageType=n,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(e,t),n=e,(r=[{key:"exportTarget",value:function(t,e){var n=e,r=n.getCurrentModule(),o=n.getProjectName(),i=n.getCurrentModule().getGraphView().getViewportComponent().getSVGElement(),u=i.viewBox.baseVal,a=u.width,c=u.height,l=this.processSVGForExport(i,a,c,r),s=this._imageType===Z?Q:this._imageType;return Promise.resolve({name:o+"."+s,type:"image",data:l,width:a,height:c,"image-type":s})}},{key:"processColorAttribute",value:function(t,e){if(!e)return e;var n=e.indexOf("var(--");if(n<0)return e;var r=e.indexOf(")",n),i=e.substring(n+4,r),u=t.getStyleByName(i),a=u?u.getValue():"#000000";if(this._imageType===Z){var c=o.K9(a);o.Bf(c,c),a=o.ml(c)}return a}},{key:"processSVGForExport",value:function(t,e,n,r){var o=r.getGraphController(),i=r.getGraphView().getViewportAdapter(),u=i.getOffsetX(),a=i.getOffsetY(),c=o.getGraph().getBoundingRect(),l=c.minX+u-30,s=c.minY+a-0,f=c.width+60,p=c.height+0,y=t.cloneNode(!0);y.setAttribute("viewBox",l+" "+s+" "+f+" "+p),y.setAttribute("width",e),y.setAttribute("height",n),y.setAttribute("font-size","16px"),y.setAttribute("font-family","monospace"),y.setAttribute("style",".graph-ui {display: none;}");var h,b=r.getApp().getThemeManager(),v=F(y.getElementsByTagName("*"));try{for(v.s();!(h=v.n()).done;){var m=h.value,d=m.getAttribute("stroke"),g=this.processColorAttribute(b,d);d!==g&&m.setAttribute("stroke",g);var w=m.getAttribute("fill"),_=this.processColorAttribute(b,w);w!==_&&m.setAttribute("fill",_)}}catch(t){v.e(t)}finally{v.f()}for(var S=y.getElementsByClassName("graph-ui");S.length>0;)S[0].remove();return y}},{key:"getIconClass",value:function(){switch(this._imageType){case Q:return y;case q:return _;case $:return T;case Z:return D;default:return null}}},{key:"getLabel",value:function(){switch(this._imageType){case Q:return I18N.toString("file.export.png");case q:return I18N.toString("file.export.jpg");case $:return I18N.toString("file.export.svg");case Z:return I18N.toString("file.export.bw");default:return W(e,"getLabel",this,3)([])}}},{key:"getTitle",value:function(){switch(this._imageType){case Q:return I18N.toString("file.export.png.hint");case q:return I18N.toString("file.export.jpg.hint");case $:return I18N.toString("file.export.svg.hint");case Z:return I18N.toString("file.export.bw.hint");default:return W(e,"getTitle",this,3)([])}}},{key:"getImageType",value:function(){return this._imageType}}])&&G(n.prototype,r),i&&G(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.A),tt=[new J(Q),new J(q),new J($),new J(Z)];function et(t){var e,n=F(tt);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.registerExporter(r,"image-"+r.getImageType())}}catch(t){n.e(t)}finally{n.f()}}},9613(t,e,n){n.d(e,{A:()=>p});var r=n(1074),o=n(9143),i=n(5505);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}var f=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.A,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.A;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodeClass=e,this._edgeClass=n,this._nodeMapping=new Map,this._edgeMapping=new Map},e=[{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}},{key:"getBoundingRect",value:function(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var t,e=Number.MAX_VALUE,n=Number.MAX_VALUE,r=Number.MIN_VALUE,o=Number.MIN_VALUE,i=0,u=a(this._nodeMapping.values());try{for(u.s();!(t=u.n()).done;){var c=t.value,l=c.x,s=c.y,f=c.getNodeSize();f>i&&(i=f),e=Math.min(e,l),r=Math.max(r,l),n=Math.min(n,s),o=Math.max(o,s)}}catch(t){u.e(t)}finally{u.f()}e-=i,n-=i,r+=i,o+=i;var p,y=Number.MAX_VALUE,h=Number.MAX_VALUE,b=Number.MIN_VALUE,v=Number.MIN_VALUE,m={x:0,y:0},d={x:0,y:0},g={x:0,y:0},w=a(this._edgeMapping.values());try{for(w.s();!(p=w.n()).done;){var _=p.value;_.getStartPoint(m),_.getEndPoint(d),_.getCenterPoint(g);var S=m.x,O=m.y,E=d.x,j=d.y,P=g.x,k=g.y;y=Math.min(y,S,E,P),b=Math.max(b,S,E,P),h=Math.min(h,O,j,k),v=Math.max(v,O,j,k)}}catch(t){w.e(t)}finally{w.f()}var C={minX:Math.min(e,y),minY:Math.min(n,h),maxX:Math.max(r,b),maxY:Math.max(o,v),width:0,height:0};return C.width=C.maxX-C.minX,C.height=C.maxY-C.minY,C}},{key:"getHashCode",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n="",r=a(this._nodeMapping.values());try{for(r.s();!(t=r.n()).done;)n+=t.value.getHashString(e)+","}catch(t){r.e(t)}finally{r.f()}n+="|";var o,u=a(this._edgeMapping.values());try{for(u.s();!(o=u.n()).done;)n+=o.value.getHashString(e)+","}catch(t){u.e(t)}finally{u.f()}return(0,i.e2)(n)}},{key:"createNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(n||(0,i.Os)(),t,e))}},{key:"addNode",value:function(t){return t.getGraphElementID()||t.setGraphElementID((0,i.Os)()),this._nodeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteNode",value:function(t){var e=t.getGraphElementID();if(this._nodeMapping.has(e)){this._nodeMapping.delete(e);var n,r=[],o=a(this.getEdges());try{for(o.s();!(n=o.n()).done;){var i=n.value;i.getEdgeFrom()===t?r.push(i):i.getEdgeTo()===t&&i.setEdgeTo(null)}}catch(t){o.e(t)}finally{o.f()}for(var u=0,c=r;u<c.length;u++){var l=c[u];this.deleteEdge(l)}}}},{key:"clearNodes",value:function(){this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(t){return this._nodeMapping.has(t)?this._nodeMapping.get(t):null}},{key:"getNodesByLabel",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=a(this.getNodes());try{for(r.s();!(e=r.n()).done;){var o=e.value;o.getNodeLabel()===t&&n.push(o)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"getNodes",value:function(){return Array.from(this._nodeMapping.values())}},{key:"getNodeCount",value:function(){return this._nodeMapping.size}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"formatEdge",value:function(t){return t}},{key:"createEdge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(n||(0,i.Os)(),t,e))}},{key:"addEdge",value:function(t){return t.getGraphElementID()||t.setGraphElementID((0,i.Os)()),this._edgeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteEdge",value:function(t){var e=t.getGraphElementID();this._edgeMapping.has(e)&&this._edgeMapping.delete(e)}},{key:"clearEdges",value:function(){this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(t){return this._edgeMapping.has(t)?this._edgeMapping.get(t):null}},{key:"getEdgesByLabel",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=a(this.getEdges());try{for(r.s();!(e=r.n()).done;){var o=e.value;o.getEdgeLabel()===t&&n.push(o)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"getEdges",value:function(){return Array.from(this._edgeMapping.values())}},{key:"getEdgeCount",value:function(){return this._edgeMapping.size}},{key:"getEdgeClass",value:function(){return this._edgeClass}}],e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const p=f},9755(t,e,n){n.d(e,{Ay:()=>p});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,e,[t])).element=null,n.ignoreSaveOnExit=!1;var r=t.defaultValue||"";return n.state={value:r,prevValue:r},n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,o=[{key:"componentWillReceiveProps",value:function(t){this.hasFocus()||(!this.state.value||this.state.value.length<=0||this.state.value===this.props.defaultValue)&&this.setState({value:t.defaultValue})}},{key:"value",get:function(){return this.state.value}},{key:"focus",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.element.select():this.element.focus()}},{key:"blur",value:function(){this.element.blur()}},{key:"hasFocus",value:function(){return this.element===document.activeElement}},{key:"onChange",value:function(t){if(this.props.filter){var e=t.target.value.replace(this.props.filter,"");this.setState({value:e})}else this.setState({value:t.target.value})}},{key:"onBlur",value:function(t){var e=this;if(this.ignoreSaveOnExit||"none"===this.props.captureOnExit){var n=this.formatValue(t.target.value);this.setState({value:n}),this.ignoreSaveOnExit=!1}else if("save"===this.props.captureOnExit){var r=this.state.prevValue,o=t.target.value||this.props.defaultValue||"";this.resetValue(o,function(){e.props.onSubmit&&e.props.onSubmit(o,r)})}else"reset"===this.props.captureOnExit&&this.resetValue(null)}},{key:"onKeyUp",value:function(t){var e=this;if("Enter"===t.key){if(this.props.multiline&&t.shiftKey)return!0;var n=this.state.prevValue,r=t.target.value||this.props.defaultValue||"";return this.setValue(r,function(){e.ignoreSaveOnExit=!0,e.props.onSubmit&&e.props.onSubmit(r,n),e.element.blur()}),t.preventDefault(),t.stopPropagation(),!1}if("Escape"===t.key){var o=this.state.prevValue;return this.resetValue(o,function(){e.ignoreSaveOnExit=!0,e.props.onSubmit&&e.props.onSubmit(o||"",o),e.element.blur()}),t.preventDefault(),t.stopPropagation(),!1}}},{key:"resetValue",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==e){var r=this.formatValue(e);this.setState({value:r,prevValue:e},n)}else this.setState(function(e,n){return{value:t.formatValue(e.prevValue)}},n)}},{key:"setValue",value:function(t,e){t=t&&0!=t.length?this.formatValue(t):this.props.defaultValue||"",this.setState({value:t},e)}},{key:"appendValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=this.state.value;n=0==this.element.selectionStart&&this.element.selectionEnd==t.length?t:n&&0!=n.length?n+e+t:t,this.props.filter&&(n=n.replace(this.props.filter,"")),this.setState({value:this.formatValue(n)})}},{key:"formatValue",value:function(t){var e=this.props.formatter;return(e?e(t):t)||""}},{key:"render",value:function(){var t=this;return this.props.multiline?r.createElement("textarea",{id:this.props.id,className:this.props.className,style:this.props.style,ref:function(e){return t.element=e},type:"text",value:this.state.value,rows:"1",onChange:this.onChange,onBlur:this.onBlur,onKeyUp:this.onKeyUp}):r.createElement("input",{id:this.props.id,className:this.props.className,style:this.props.style,ref:function(e){return t.element=e},type:"text",value:this.state.value,onChange:this.onChange,onBlur:this.onBlur,onKeyUp:this.onKeyUp})}}],o&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.Component);const p=f},9786(t,e,n){n.d(e,{A:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent)},9898(t,e,n){n.d(e,{Ay:()=>h,c6:()=>f});var r=n(6540);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,n){return e=l(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}var f="node",p=function(t){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:t.position.x,cy:t.position.y,r:t.radius,fill:t.color,stroke:t.outline}),(t.onMouseOver||t.onMouseOut)&&r.createElement("circle",{cx:t.position.x,cy:t.position.y,r:t.radius+4,fill:"transparent",cursor:"pointer",onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,pointerEvents:t.pointerEvents}))},y=function(t){return r.createElement("text",{x:t.position.x,y:t.position.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:"".concat(1-Math.min(Math.max(t.label.length-2,0)/6,.5),"em")},textAnchor:"middle",fill:t.color},t.label)};const h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,o=[{key:"render",value:function(){var t=this.props.position,e=this.props.radius||16,n=this.props.label||"",o=this.props.color||"#FFFFFF",i=this.props.outline||"#000000",u=this.props.onMouseOver,a=this.props.onMouseOut,c=this.props.pointerEvents||"visiblePainted",l=p,s=y;return r.createElement("g",null,l&&r.createElement(l,{position:t,radius:e,color:o,outline:i,onMouseOver:u?function(t){(t.target.value||(t.target.value={})).type=f,u(t)}:null,onMouseOut:a?function(t){(t.target.value||(t.target.value={})).type=f,a(t)}:null,pointerEvents:c}),s&&r.createElement(s,{position:t,label:n,color:i}))}}],o&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.Component)},9923(t,e,n){n.d(e,{Ay:()=>d,Pw:()=>m,Yi:()=>b,rR:()=>h});var r=n(3668),o=n(5505),i=n(7807),u=n(9898);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,n){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var h="edge-create",b="edge-delete",v="edge-to-change",m="error-edge-edit-while-delete";const d=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=s(this,e))._inputController=t,r._graphController=n,r._cachedEdgeQuads={radians:0,length:0},r._cachedEdgeTo=null,r._cachedPointer={x:0,y:0},r._newEdge=!1,r._shouldDeleteEdgePlaceholder=!1,r._shouldDeleteEdgeWithEmptyLabel=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,(r=[{key:"setShouldDeleteEdgePlaceholder",value:function(t){return this._shouldDeleteEdgePlaceholder=t,this}},{key:"setShouldDeleteEdgeWithEmptyLabel",value:function(t){return this._shouldDeleteEdgeWithEmptyLabel=t,this}},{key:"onInputEvent",value:function(t){var e=this,n=this._inputController,r=n.getCurrentTargetType();if(n.isTrashMode()&&(r===i.td||r===i.hK||r===i.gX)){var o=n.getCurrentTargetSource(),u=this._graphController;return u.getGraph().deleteEdge(o),u.emitGraphEvent(b,{target:o}),!0}if(r===i.gX||r===i.td){var a=n.getCurrentTargetSource(),c=this._graphController;return c.openLabelEditor(a,a.getEdgeLabel(),function(t,n,r){e._shouldDeleteEdgeWithEmptyLabel&&!n?(c.getGraph().deleteEdge(a),c.emitGraphEvent(b,{target:a})):r&&c.emitGraphEvent("edge-label-change",{target:a})}),!0}return!1}},{key:"onAltInputEvent",value:function(t){return this.onInputEvent(t)}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return this._graphController.emitGraphEvent(m),!1;var n=e.getCurrentTargetType();if(!e.isMoveMode(t.getInputAdapter())&&n===u.c6){var r=this._graphController.getGraph(),o=e.getCurrentTargetSource();this._cachedEdgeQuads.radians=0,this._cachedEdgeQuads.length=0,this._cachedEdgeTo=null,this._newEdge=!0,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y;var a=r.createEdge(o,this._cachedPointer);return e.bindActiveTarget(a,i.hK,!1),e.setNodeEventsOnly(!0),!0}if(n===i.hK){var c=e.getCurrentTargetSource();return this._cachedEdgeQuads.radians=c.getQuadraticRadians(),this._cachedEdgeQuads.length=c.getQuadraticLength(),this._cachedEdgeTo=c.getEdgeTo(),this._newEdge=!1,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,c.setQuadraticRadians(0),c.setQuadraticLength(0),c.setEdgeTo(this._cachedPointer),e.bindActiveTarget(c,n,!1),e.setNodeEventsOnly(!0),!0}if(n===i.td){var l=e.getCurrentTargetSource();return this._cachedEdgeQuads.radians=l.getQuadraticRadians(),this._cachedEdgeQuads.length=l.getQuadraticLength(),this._cachedEdgeTo=l.getEdgeTo(),this._newEdge=!1,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,e.bindActiveTarget(l,n,!1),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController,n=e.getActiveTargetSource(),r=e.getActiveTargetType();r===i.td?n.setQuadraticByCoords(t.x,t.y):r===i.hK&&this.handleDragMoveForEndpoint(n,r,t,e)}},{key:"handleDragMoveForEndpoint",value:function(t,e,n,r){if(r.getImmediateTargetType()===u.c6){var i=r.getImmediateTargetSource();if(t.getEdgeTo()===this._cachedEdgeTo)t.setQuadraticRadians(this._cachedEdgeQuads.radians),t.setQuadraticLength(this._cachedEdgeQuads.length);else if(t.getEdgeFrom()===i){var a=t.getEdgeFrom(),c=a.x-n.x,l=a.y-n.y,s=Math.PI+Math.atan2(l,c);t.setQuadraticRadians(s),t.setEdgeTo(i)}else t.setQuadraticRadians(0),t.setQuadraticLength(0),t.setEdgeTo(i)}else this._cachedPointer.x=(0,o.Cc)(this._cachedPointer.x,n.x,.6),this._cachedPointer.y=(0,o.Cc)(this._cachedPointer.y,n.y,.6),t.getEdgeTo()!==this._cachedPointer&&(t.setQuadraticRadians(0),t.setQuadraticLength(0),t.setEdgeTo(this._cachedPointer))}},{key:"onDragStop",value:function(t){var e=this,n=this._inputController,r=n.getActiveTargetSource(),o=n.getActiveTargetType(),u=this._newEdge;n.unbindActiveTarget(),o===i.hK&&n.setNodeEventsOnly(!1);var a=this._graphController;if(n.isTrashMode())return a.getGraph().deleteEdge(r),void a.emitGraphEvent(b,{target:r});if(o===i.td)a.emitGraphEvent("edge-quad-change",{target:r});else{var c=r.getEdgeTo();if(c&&c!==this._cachedPointer){if(c!==this._cachedEdgeTo){var l=a.getLabelFormatter();u&&l&&r.setEdgeLabel(l.getDefaultEdgeLabel()),a.openLabelEditor(r,u?null:r.getEdgeLabel(),function(t,n,o){e._shouldDeleteEdgeWithEmptyLabel&&!n?(a.getGraph().deleteEdge(r),a.emitGraphEvent(b,{target:r})):u?a.emitGraphEvent(h,{target:r}):a.emitGraphEvent(v,{target:r})})}}else{if(this._shouldDeleteEdgePlaceholder)return a.getGraph().deleteEdge(r),void a.emitGraphEvent(b,{target:r});if(r.setEdgeTo(null),u){var s=a.getLabelFormatter();s&&r.setEdgeLabel(s.getDefaultEdgeLabel()),a.emitGraphEvent(h,{target:r})}else a.emitGraphEvent(v,{target:r})}}}}])&&c(n.prototype,r),a&&c(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(r.A)}}]);
//# sourceMappingURL=sourcemap/module_pda.bundle.js.map